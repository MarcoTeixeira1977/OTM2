require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(require,a){(function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb=[].slice,cb={}.hasOwnProperty,db=function(a,b){function c(){this.constructor=a}for(var d in b)cb.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},eb=function(a,b){return function(){return a.apply(b,arguments)}};b={},b.version="0.6.22",b.fromBinder=function(a,c){return null==c&&(c=Z.id),new i(function(d){var e;return e=a(function(){var a,f,g,i,j,k;for(a=1<=arguments.length?bb.call(arguments,0):[],i=c.apply(null,a),i instanceof Array&&Z.last(i)instanceof h||(i=[i]),g=b.more,j=0,k=i.length;k>j;j++)if(f=i[j],g=d(f=T(f)),g===b.noMore||f.isEnd())return null!=e?e():b.scheduler.setTimeout(function(){return e()},0),g;return g})})},b.$={asEventStream:function(a,c,d){var e,f=this;return I(c)&&(e=[c,null],d=e[0],c=e[1]),b.fromBinder(function(b){return f.on(a,c,b),function(){return f.off(a,c,b)}},d)}},null!=($="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:null)&&($.fn.asEventStream=b.$.asEventStream),b.fromEventTarget=function(a,c,d){var e,f,g,h,i,j;return e=null!=(g=a.addEventListener)?g:null!=(h=a.addListener)?h:a.bind,f=null!=(i=a.removeEventListener)?i:null!=(j=a.removeListener)?j:a.unbind,b.fromBinder(function(b){return e.call(a,c,b),function(){return f.call(a,c,b)}},d)},b.fromPromise=function(a,c){return b.fromBinder(function(b){return a.then(b,function(a){return b(new g(a))}),function(){return c&&"function"==typeof a.abort?a.abort():void 0}},function(a){return[a,D()]})},b.noMore=["<no-more>"],b.more=["<more>"],b.later=function(a,c){return b.sequentially(a,[c])},b.sequentially=function(a,c){var d;return d=0,b.fromPoll(a,function(){var a;return a=c[d++],d<c.length?a:d===c.length?[a,D()]:D()})},b.repeatedly=function(a,c){var d;return d=0,b.fromPoll(a,function(){return c[d++%c.length]})},Y=function(a){return function(){var b,c,d,e;return d=arguments[0],b=2<=arguments.length?bb.call(arguments,1):[],"object"==typeof d&&b.length&&(c=d,e=b[0],d=function(){return c[e].apply(c,arguments)},b=b.slice(1)),a.apply(null,[d].concat(bb.call(b)))}},K=function(a){return Y(function(){var c,d,e;return d=arguments[0],c=2<=arguments.length?bb.call(arguments,1):[],e=R(a,[function(a,b){return d.apply(null,bb.call(a).concat([b]))}]),b.combineAsArray(c).flatMap(e)})},b.fromCallback=K(function(){var a,c;return c=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],b.fromBinder(function(b){return L(c,a)(b),Q},function(a){return[a,D()]})}),b.fromNodeCallback=K(function(){var a,c;return c=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],b.fromBinder(function(b){return L(c,a)(b),Q},function(a,b){return a?[new g(a),D()]:[b,D()]})}),b.fromPoll=function(a,c){return b.fromBinder(function(c){var d;return d=b.scheduler.setInterval(c,a),function(){return b.scheduler.clearInterval(d)}},c)},b.interval=function(a,c){return null==c&&(c={}),b.fromPoll(a,function(){return P(c)})},b.constant=function(a){return new n(function(b){return b(G(a)),b(D()),Q})},b.never=function(){return b.fromArray([])},b.once=function(a){return b.fromArray([a])},b.fromArray=function(a){return u(a),a=A(a),new i(function(c){var d,e;return e=!1,d=function(){var f,g;return Z.empty(a)?c(D()):(g=a.splice(0,1)[0],f=c(T(g)),f===b.noMore||e?void 0:d())},d(),function(){return e=!0}})},b.mergeAll=function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[],a[0]instanceof Array&&(a=a[0]),Z.fold(a,b.never(),function(a,b){return a.merge(b)})},b.zipAsArray=function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[],a[0]instanceof Array&&(a=a[0]),b.zipWith(a,function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[]})},b.zipWith=function(){var a,c,d;return a=arguments[0],c=2<=arguments.length?bb.call(arguments,1):[],I(a)||(d=[a,c[0]],c=d[0],a=d[1]),b.when(Z.map(function(a){return a.toEventStream()},c),a)},b.combineAsArray=function(){var a,c,d,e,f,g,h;for(f=1<=arguments.length?bb.call(arguments,0):[],1===f.length&&f[0]instanceof Array&&(f=f[0]),a=g=0,h=f.length;h>g;a=++g)e=f[a],e instanceof m||(f[a]=b.constant(e));return f.length?(d=function(){var a,b,d;for(d=[],a=0,b=f.length;b>a;a++)c=f[a],d.push(new r(c,!0,!1,c.subscribeInternal));return d}(),b.when(d,function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[]}).toProperty()):b.constant([])},b.onValues=function(){var a,c,d;return c=2<=arguments.length?bb.call(arguments,0,d=arguments.length-1):(d=0,[]),a=arguments[d++],b.combineAsArray(c).onValues(a)},b.combineWith=function(){var a,c;return a=arguments[0],c=2<=arguments.length?bb.call(arguments,1):[],b.combineAsArray(c).map(function(b){return a.apply(null,b)})},b.combineTemplate=function(a){var c,d,e,f,g,h,i,j,k,l;return i=[],l=[],h=function(a){return a[a.length-1]},k=function(a,b,c){return h(a)[b]=c},c=function(a,b){return function(c,d){return k(c,a,d[b])}},g=function(a,b){return function(c){return k(c,a,b)}},j=function(a){return a instanceof Array?[]:{}},e=function(a,b){var d,e;return b instanceof m?(l.push(b),i.push(c(a,l.length-1))):b===Object(b)&&"function"!=typeof b?(e=function(a){return function(c){var d;return d=j(b),k(c,a,d),c.push(d)}},d=function(a){return a.pop()},i.push(e(a)),f(b),i.push(d)):i.push(g(a,b))},f=function(a){return Z.each(a,e)},f(a),d=function(b){var c,d,e,f,g;for(e=j(a),c=[e],f=0,g=i.length;g>f;f++)(d=i[f])(c,b);return e},b.combineAsArray(l).map(d)},h=function(){function a(){}return a.prototype.isEvent=function(){return!0},a.prototype.isEnd=function(){return!1},a.prototype.isInitial=function(){return!1},a.prototype.isNext=function(){return!1},a.prototype.isError=function(){return!1},a.prototype.hasValue=function(){return!1},a.prototype.filter=function(){return!0},a}(),k=function(a){function b(a){this.value=I(a)?Z.cached(a):Z.always(a)}return db(b,a),b.prototype.isNext=function(){return!0},b.prototype.hasValue=function(){return!0},b.prototype.fmap=function(a){var b=this;return this.apply(function(){return a(b.value())})},b.prototype.apply=function(a){return new b(a)},b.prototype.filter=function(a){return a(this.value())},b.prototype.describe=function(){return this.value()},b}(h),j=function(a){function b(){return _=b.__super__.constructor.apply(this,arguments)}return db(b,a),b.prototype.isInitial=function(){return!0},b.prototype.isNext=function(){return!1},b.prototype.apply=function(a){return new b(a)},b.prototype.toNext=function(){return new k(this.value)},b}(k),f=function(a){function b(){return ab=b.__super__.constructor.apply(this,arguments)}return db(b,a),b.prototype.isEnd=function(){return!0},b.prototype.fmap=function(){return this},b.prototype.apply=function(){return this},b.prototype.describe=function(){return"<end>"},b}(h),g=function(a){function b(a){this.error=a}return db(b,a),b.prototype.isError=function(){return!0},b.prototype.fmap=function(){return this},b.prototype.apply=function(){return this},b.prototype.describe=function(){return"<error> "+this.error},b}(h),m=function(){function a(){this.combine=eb(this.combine,this),this.flatMapLatest=eb(this.flatMapLatest,this),this.fold=eb(this.fold,this),this.scan=eb(this.scan,this),this.assign=this.onValue}return a.prototype.onValue=function(){var a;return a=M(arguments),this.subscribe(function(b){return b.hasValue()?a(b.value()):void 0})},a.prototype.onValues=function(a){return this.onValue(function(b){return a.apply(null,b)})},a.prototype.onError=function(){var a;return a=M(arguments),this.subscribe(function(b){return b.isError()?a(b.error):void 0})},a.prototype.onEnd=function(){var a;return a=M(arguments),this.subscribe(function(b){return b.isEnd()?a():void 0})},a.prototype.errors=function(){return this.filter(function(){return!1})},a.prototype.filter=function(){var a,c;return c=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],C(this,c,a,function(a){return this.withHandler(function(c){return c.filter(a)?this.push(c):b.more})})},a.prototype.takeWhile=function(){var a,c;return c=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],C(this,c,a,function(a){return this.withHandler(function(c){return c.filter(a)?this.push(c):(this.push(D()),b.noMore)})})},a.prototype.endOnError=function(){var a,b;return b=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],null==b&&(b=!0),C(this,b,a,function(a){return this.withHandler(function(b){return b.isError()&&a(b.error)?(this.push(b),this.push(D())):this.push(b)})})},a.prototype.take=function(a){return 0>=a?b.never():this.withHandler(function(c){return c.hasValue()?(a--,a>0?this.push(c):(0===a&&this.push(c),this.push(D()),b.noMore)):this.push(c)})},a.prototype.map=function(){var a,b;return b=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],b instanceof n?b.sampledBy(this,E):C(this,b,a,function(a){return this.withHandler(function(b){return this.push(b.fmap(a))})})},a.prototype.mapError=function(){var a;return a=M(arguments),this.withHandler(function(b){return this.push(b.isError()?P(a(b.error)):b)})},a.prototype.mapEnd=function(){var a;return a=M(arguments),this.withHandler(function(c){return c.isEnd()?(this.push(P(a(c))),this.push(D()),b.noMore):this.push(c)})},a.prototype.doAction=function(){var a;return a=M(arguments),this.withHandler(function(b){return b.hasValue()&&a(b.value()),this.push(b)})},a.prototype.skip=function(a){return this.withHandler(function(c){return c.hasValue()&&a>0?(a--,b.more):this.push(c)})},a.prototype.skipDuplicates=function(a){return null==a&&(a=function(a,b){return a===b}),this.withStateMachine(l,function(b,c){return c.hasValue()?c.isInitial()||b===l||!a(b.get(),c.value())?[new q(c.value()),[c]]:[b,[]]:[b,[c]]})},a.prototype.skipErrors=function(){return this.withHandler(function(a){return a.isError()?b.more:this.push(a)})},a.prototype.withStateMachine=function(a,c){var d;return d=a,this.withHandler(function(a){var e,f,g,h,i,j,k;for(e=c(d,a),f=e[0],h=e[1],d=f,i=b.more,j=0,k=h.length;k>j;j++)if(g=h[j],i=this.push(g),i===b.noMore)return i;return i})},a.prototype.scan=function(a,c,d){var e,f,g,h=this;return f=S(c),c=d?f:function(a,b){return f(a(),b())},e=W(a).map(function(a){return Z.always(a)}),g=function(a){var d,f,g,i;return d=!1,i=Q,f=b.more,g=function(){return d?void 0:(d=!0,e.forEach(function(c){return f=a(new j(c)),f===b.noMore?(i(),i=Q):void 0}))},i=h.subscribe(function(h){var i,j;return h.hasValue()?d&&h.isInitial()?b.more:(h.isInitial()||g(),d=!0,j=e.getOrElse(function(){return void 0}),i=Z.cached(function(){return c(j,h.value)}),e=new q(i),a(h.apply(i))):(h.isEnd()&&(f=g()),f!==b.noMore?a(h):void 0)}),g(),i},new n(g)},a.prototype.fold=function(a,b){return this.scan(a,b).sampledBy(this.filter(!1).mapEnd().toProperty())},a.prototype.zip=function(a,c){return null==c&&(c=Array),b.zipWith([this,a],c)},a.prototype.diff=function(a,b){return b=S(b),this.scan([a],function(a,c){return[c,b(a[0],c)]}).filter(function(a){return 2===a.length}).map(function(a){return a[1]})},a.prototype.flatMap=function(c,e){var f;return c=O(c),f=this,new i(function(g){var h,i;return i=new d,h=function(a){return a(),i.empty()?g(D()):void 0},i.add(function(d,k){return f.subscribe(function(d){var f;return d.isEnd()?h(k):d.isError()?g(d):e&&i.count()>1?b.more:i.unsubscribed?b.noMore:(f=c(d.value()),f instanceof a||(f=b.once(f)),i.add(function(a,c){return f.subscribe(function(d){var e;return d.isEnd()?(h(c),b.noMore):(d instanceof j&&(d=d.toNext()),e=g(d),e===b.noMore&&a(),e)})}))})}),i.unsubscribe})},a.prototype.flatMapFirst=function(a){return this.flatMap(a,!0)},a.prototype.flatMapLatest=function(a){var b;return a=O(a),b=this.toEventStream(),b.flatMap(function(c){return a(c).takeUntil(b)})},a.prototype.not=function(){return this.map(function(a){return!a})},a.prototype.log=function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[],this.subscribe(function(b){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,bb.call(a).concat([b.describe()])):void 0}),this},a.prototype.slidingWindow=function(a,b){return null==b&&(b=0),this.scan([],function(b,c){return b.concat([c]).slice(-a)}).filter(function(a){return a.length>=b})},a.prototype.combine=function(a,c){var d;return d=S(c),b.combineAsArray(this,a).map(function(a){return d(a[0],a[1])})},a.prototype.decode=function(a){return this.combine(b.combineTemplate(a),function(a,b){return b[a]})},a.prototype.awaiting=function(a){return this.toEventStream().map(!0).merge(a.toEventStream().map(!1)).toProperty(!1)},a}(),m.prototype.reduce=m.prototype.fold,i=function(a){function c(a){this.takeUntil=eb(this.takeUntil,this),this.sampledBy=eb(this.sampledBy,this);var b;c.__super__.constructor.call(this),x(a),b=new e(a),this.subscribe=b.subscribe,this.subscribeInternal=this.subscribe,this.hasSubscribers=b.hasSubscribers}return db(c,a),c.prototype.delay=function(a){return this.flatMap(function(c){return b.later(a,c)})},c.prototype.debounce=function(a){return this.flatMapLatest(function(c){return b.later(a,c)})},c.prototype.debounceImmediate=function(a){return this.flatMapFirst(function(c){return b.once(c).concat(b.later(a).filter(!1))})},c.prototype.throttle=function(a){return this.bufferWithTime(a).map(function(a){return a[a.length-1]})},c.prototype.bufferWithTime=function(a){return this.bufferWithTimeOrCount(a,Number.MAX_VALUE)},c.prototype.bufferWithCount=function(a){return this.bufferWithTimeOrCount(void 0,a)},c.prototype.bufferWithTimeOrCount=function(a,b){var c;return c=function(c){return c.values.length===b?c.flush():void 0!==a?c.schedule():void 0},this.buffer(a,c,c)},c.prototype.buffer=function(a,c,d){var e,f,g;return null==c&&(c=function(){}),null==d&&(d=function(){}),e={scheduled:!1,end:null,values:[],flush:function(){var a;if(this.scheduled=!1,this.values.length>0){if(a=this.push(P(this.values)),this.values=[],null!=this.end)return this.push(this.end);if(a!==b.noMore)return d(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var b=this;return this.scheduled?void 0:(this.scheduled=!0,a(function(){return b.flush()}))}},g=b.more,I(a)||(f=a,a=function(a){return b.scheduler.setTimeout(a,f)}),this.withHandler(function(a){return e.push=this.push,a.isError()?g=this.push(a):a.isEnd()?(e.end=a,e.scheduled||e.flush()):(e.values.push(a.value()),c(e)),g})},c.prototype.merge=function(a){var d;return w(a),d=this,new c(function(c){var e,f;return e=0,f=function(a){return function(d){return a.subscribe(function(a){var f;return a.isEnd()?(e++,2===e?c(D()):b.more):(f=c(a),f===b.noMore&&d(),f)})}},B(f(d),f(a))})},c.prototype.toProperty=function(a){return 0===arguments.length&&(a=l),this.scan(a,J,!0)},c.prototype.toEventStream=function(){return this},c.prototype.sampledBy=function(a,b){return this.toProperty().sampledBy(a,b)},c.prototype.concat=function(a){var b;return b=this,new c(function(c){var d,e;return e=Q,d=b.subscribe(function(b){return b.isEnd()?e=a.subscribe(c):c(b)}),function(){return d(),e()}})},c.prototype.takeUntil=function(a){var d;return d=this,new c(function(c){var e,f;return f=function(d){return a.onValue(function(){return c(D()),d(),b.noMore})},e=function(a){return d.subscribe(function(d){var e;return e=c(d),(d.isEnd()||e===b.noMore)&&a(),e})},B(f,e)})},c.prototype.skipUntil=function(a){var b;return b=a.take(1).map(!0).toProperty(!1),this.filter(b)},c.prototype.skipWhile=function(){var a,c,d;return c=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],d=!1,C(this,c,a,function(a){return this.withHandler(function(c){return!d&&c.hasValue()&&a(c.value())?b.more:(c.hasValue()&&(d=!0),this.push(c))})})},c.prototype.startWith=function(a){return b.once(a).concat(this)},c.prototype.withHandler=function(a){var b;return b=new e(this.subscribe,a),new c(b.subscribe)},c.prototype.withSubscribe=function(a){return new c(a)},c}(m),n=function(a){function c(a,d){this.toEventStream=eb(this.toEventStream,this),this.toProperty=eb(this.toProperty,this),this.changes=eb(this.changes,this),this.sample=eb(this.sample,this);var e=this;c.__super__.constructor.call(this),this.subscribeInternal=d===!0?a:new o(a,d).subscribe,this.sampledBy=function(a,d){var f,g,h,i;return null!=d?d=S(d):(f=!0,d=function(a){return a()}),i=new r(e,!1,!1,e.subscribeInternal,f),g=new r(a,!0,!1,a.subscribe,f),h=b.when([i,g],d),a instanceof c?h.toProperty():h},this.subscribe=function(a){var c,d,f,g,h;return f=b.more,c=function(){function c(){}return c.prototype.set=function(a){return this.event=a},c.prototype.send=function(){var c;return c=this.event,this.event=null,null!=c&&f!==b.noMore&&(f=a(c),f===b.noMore)?g():void 0},c}(),h=new c,d=new c,g=Q,g=e.subscribeInternal(function(c){return c.isError()?f!==b.noMore&&(f=a(c)):(c.hasValue()?h.set(c):c.isEnd()&&d.set(c),p.onDone(function(){return h.send(),d.send()})),f}),function(){return f=b.noMore,g()}}}return db(c,a),c.prototype.sample=function(a){return this.sampledBy(b.interval(a,{}))},c.prototype.changes=function(){var a=this;return new i(function(b){return a.subscribe(function(a){return a.isInitial()?void 0:b(a)})})},c.prototype.withHandler=function(a){return new c(this.subscribeInternal,a)},c.prototype.withSubscribe=function(a){return new c(a)},c.prototype.toProperty=function(){return y(arguments),this},c.prototype.toEventStream=function(){var a=this;return new i(function(b){return a.subscribe(function(a){return a.isInitial()&&(a=a.toNext()),b(a)})})},c.prototype.and=function(a){return this.combine(a,function(a,b){return a&&b})},c.prototype.or=function(a){return this.combine(a,function(a,b){return a||b})},c.prototype.delay=function(a){return this.delayChanges(function(b){return b.delay(a)})},c.prototype.debounce=function(a){return this.delayChanges(function(b){return b.debounce(a)})},c.prototype.throttle=function(a){return this.delayChanges(function(b){return b.throttle(a)})},c.prototype.delayChanges=function(a){return s(this,a(this.changes()))},c.prototype.takeUntil=function(a){var b;return b=this.changes().takeUntil(a),s(this,b)},c.prototype.startWith=function(a){return this.scan(a,function(a,b){return b})},c}(m),C=function(a,b,c,d){var e;return b instanceof n?(e=b.sampledBy(a,function(a,b){return[a,b]}),d.apply(e,[function(a){var b,c;return b=a[0],c=a[1],b}]).map(function(a){var b,c;return b=a[0],c=a[1]})):(b=L(b,c),d.apply(a,[b]))},s=function(a,c){var d;return d=function(a){var c;return c=l,a.subscribe(function(a){return a.hasValue()&&(c=new q(a.value())),b.noMore}),c},c.toProperty(d(a))},e=function(){function a(a,c){var d,e,f,g,h,i,j,k,l,m=this;null==a&&(a=function(){return Q}),j=[],h=null,g=!1,e=!1,this.hasSubscribers=function(){return j.length>0},f=null,k=Q,i=function(a){return j=Z.without(a,j)},l=null,d=function(){var a,b,c,d,e;if(null!=l){for(b=l,l=null,e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(a());return e}},this.push=function(a){var c,e,k,l,n,o;if(g)return h=(h||[]).concat([a]),b.more;if(a!==f){a.isError()&&(f=a),k=!1;try{for(g=!0,l=j,n=0,o=l.length;o>n;n++)e=l[n],c=e.sink(a),(c===b.noMore||a.isEnd())&&i(e);k=!0}finally{g=!1,k||(h=null)}for(k=!0;null!=h?h.length:void 0;)a=Z.head(h),h=Z.tail(h),m.push(a);return d(a),m.hasSubscribers()?b.more:b.noMore}},null==c&&(c=function(a){return this.push(a)}),this.handleEvent=function(a){return a.isEnd()&&(e=!0),c.apply(m,[a])},this.subscribe=function(b){var c;return e?(b(D()),Q):(x(b),c={sink:b},j=j.concat(c),1===j.length&&(k=a(m.handleEvent)),x(k),function(){return i(c),m.hasSubscribers()?void 0:k()})}}return a}(),o=function(a){function c(a,d){var e,f,g,h=this;c.__super__.constructor.call(this,a,d),e=l,g=this.push,a=this.subscribe,f=!1,this.push=function(a){return a.isEnd()&&(f=!0),a.hasValue()&&(e=new q(a.value)),p.inTransaction(function(){return g.apply(h,[a])})},this.subscribe=function(c){var d,g,i;return d=!1,i=function(){return h.hasSubscribers()||f},g=e.filter(i).map(function(a){return c(G(a()))}),g.getOrElse(b.more)===b.noMore?Q:f?(c(D()),Q):a.apply(h,[c])}}return db(c,a),c}(e),p=function(){var a,b,c,d;return d=[],c=!1,b=function(a){return c?d.push(a):a()},a=function(a){var b,e,f,g,h;if(c)return a();c=!0;try{f=a()}finally{c=!1}for(e=d,d=[],g=0,h=e.length;h>g;g++)(b=e[g])();return f},{onDone:b,inTransaction:a}}(),c=function(a){function c(){var a,d,e,f,h,i,j,k;e=void 0,i=[],a=!1,d=function(a){return function(c){return c.isEnd()?(k(a),b.noMore):e(c)}},j=function(){var a,b,c,d;for(d=[],b=0,c=i.length;c>b;b++)a=i[b],d.push("function"==typeof a.unsub?a.unsub():void 0);return d},h=function(a){return a.unsub=a.input.subscribe(d(a.input))},k=function(a){var b,c,d,e;for(b=d=0,e=i.length;e>d;b=++d)if(c=i[b],c.input===a)return"function"==typeof c.unsub&&c.unsub(),void i.splice(b,1)},f=function(a){var b,c,d,f;for(e=a,f=A(i),c=0,d=f.length;d>c;c++)b=f[c],h(b);return j},c.__super__.constructor.call(this,f),this.plug=function(b){var c;if(!a)return c={input:b},i.push(c),null!=e&&h(c),function(){return k(b)}},this.push=function(a){return"function"==typeof e?e(P(a)):void 0},this.error=function(a){return"function"==typeof e?e(new g(a)):void 0},this.end=function(){return a=!0,j(),"function"==typeof e?e(D()):void 0}}return db(c,a),c}(i),r=function(){function a(a,b,c,d,e){var f,g;this.sync=b,this.subscribe=d,null==e&&(e=!1),g=[],f=e?Z.id:function(a){return a()},null==this.subscribe&&(this.subscribe=a.subscribe),this.markEnded=function(){return this.ended=!0},c?(this.consume=function(){return f(g.shift())},this.push=function(a){return g.push(a)},this.mayHave=function(a){return!this.ended||g.length>=a},this.hasAtLeast=function(a){return g.length>=a}):(this.consume=function(){return f(g[0])},this.push=function(a){return g=[a]},this.mayHave=function(){return!0},this.hasAtLeast=function(){return g.length})}return a}(),r.fromObservable=function(a){return a instanceof r?a:a instanceof n?new r(a,!1,!1):new r(a,!0,!0)},b.when=function(){var a,c,d,e,f,g,h,j,k,l,n,o,p,q,s,u,v;if(k=1<=arguments.length?bb.call(arguments,0):[],0===k.length)return b.never();for(f=k.length,o="when: expecting arguments in the form (Observable+,function)+",t(o,f%2===0),n=[],j=[],c=0;f>c;){for(h=Z.toArray(k[c]),a=k[c+1],g={f:I(a)?a:function(){return a},ixs:[]},p=0,s=h.length;s>p;p++){for(l=h[p],t(l instanceof m,o),d=F(n,l),0>d&&(n.push(l),d=n.length-1),v=g.ixs,q=0,u=v.length;u>q;q++)e=v[q],e.index===d&&e.count++;g.ixs.push({index:d,count:1})}h.length>0&&j.push(g),c+=2}return n.length?(n=Z.map(r.fromObservable,n),new i(function(a){var d,e,f,g;return f=function(a){return Z.all(a.ixs,function(a){return n[a.index].hasAtLeast(a.count)})},e=function(a){return!a.sync||a.ended},d=function(a){return Z.any(a.ixs,function(a){return!n[a.index].mayHave(a.count)})},g=function(g){return function(h){return g.subscribe(function(i){var k,l,m,o,p;if(i.isEnd())g.markEnded(),(Z.all(n,e)||Z.all(j,d))&&(l=b.noMore,a(D()));else if(i.isError())l=a(i);else if(g.push(i.value),g.sync)for(o=0,p=j.length;p>o;o++)if(k=j[o],f(k)){m=function(){return k.f.apply(k,function(){var a,b,d,e;for(d=k.ixs,e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(n[c.index].consume());return e}())},l=a(i.apply(m));break}return l===b.noMore&&h(),l||b.more})}},B.apply(null,function(){var a,b,d;for(d=[],c=a=0,b=n.length;b>a;c=++a)l=n[c],d.push(g(l,c));return d}())})):b.never()},b.update=function(){var a,c,d,e;for(c=arguments[0],e=2<=arguments.length?bb.call(arguments,1):[],d=function(a){return function(){var b;return b=1<=arguments.length?bb.call(arguments,0):[],function(c){return a.apply(null,[c].concat(b))}}},a=e.length-1;a>0;)e[a]instanceof Function||(e[a]=function(a){return function(){return a}}(e[a])),e[a]=d(e[a]),a-=2;return b.when.apply(b,e).scan(c,function(a,b){return b(a)})},B=function(){var a;return a=1<=arguments.length?bb.call(arguments,0):[],new d(a).unsubscribe},d=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this.empty=eb(this.empty,this),this.count=eb(this.count,this),this.unsubscribe=eb(this.unsubscribe,this),this.add=eb(this.add,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],c=0,d=a.length;d>c;c++)b=a[c],this.add(b)}return a.prototype.add=function(a){var b,c,d,e=this;if(!this.unsubscribed)return b=!1,c=Q,this.starting.push(a),d=function(){return e.unsubscribed?void 0:(b=!0,e.remove(c),Z.remove(a,e.starting))},c=a(this.unsubscribe,d),this.unsubscribed||b||this.subscriptions.push(c),Z.remove(a,this.starting),c},a.prototype.remove=function(a){return this.unsubscribed?void 0:void 0!==Z.remove(a,this.subscriptions)?a():void 0},a.prototype.unsubscribe=function(){var a,b,c,d;if(!this.unsubscribed){for(this.unsubscribed=!0,d=this.subscriptions,b=0,c=d.length;c>b;b++)(a=d[b])();return this.subscriptions=[],this.starting=[]}},a.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},a.prototype.empty=function(){return 0===this.count()},a}(),b.CompositeUnsubscribe=d,q=function(){function a(a){this.value=a}return a.prototype.getOrElse=function(){return this.value},a.prototype.get=function(){return this.value},a.prototype.filter=function(b){return b(this.value)?new a(this.value):l},a.prototype.map=function(b){return new a(b(this.value))},a.prototype.forEach=function(a){return a(this.value)},a.prototype.isDefined=!0,a.prototype.toArray=function(){return[this.value]},a}(),l={getOrElse:function(a){return a},filter:function(){return l},map:function(){return l},forEach:function(){},isDefined:!1,toArray:function(){return[]}},b.EventStream=i,b.Property=n,b.Observable=m,b.Bus=c,b.Initial=j,b.Next=k,b.End=f,b.Error=g,Q=function(){},J=function(a,b){return b()},E=function(a){return a},G=function(a){return new j(Z.always(a))},P=function(a){return new k(Z.always(a))},D=function(){return new f},T=function(a){return a instanceof h?a:P(a)},A=function(a){return a.slice(0)},F=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){var c,d,e,f;for(c=e=0,f=a.length;f>e;c=++e)if(d=a[c],b===d)return c;return-1},t=function(a,b){if(!b)throw a},v=function(a){return t("not an event : "+a,a instanceof h&&a.isEvent())},w=function(a){return t("not an EventStream : "+a,a instanceof i)},x=function(a){return t("not a function : "+a,I(a))},I=function(a){return"function"==typeof a},u=function(a){return t("not an array : "+a,a instanceof Array)},y=function(a){return t("no arguments supported",0===a.length)},z=function(a){return t("not a string : "+a,"string"==typeof a)},R=function(a,b){return function(){var c;return c=1<=arguments.length?bb.call(arguments,0):[],a.apply(null,b.concat(c))}},O=function(a){return a instanceof m&&(a=Z.always(a)),x(a),a},M=function(a){return a=Array.prototype.slice.call(a),N.apply(null,a)},N=Y(function(){var a,b;return b=arguments[0],a=2<=arguments.length?bb.call(arguments,1):[],I(b)?a.length?R(b,a):b:H(b)?U(b,a):Z.always(b)}),L=function(a,b){return N.apply(null,[a].concat(bb.call(b)))},H=function(a){return"string"==typeof a&&a.length>1&&"."===a.charAt(0)},b.isFieldKey=H,U=function(a,b){var c,d;return d=a.slice(1).split("."),c=Z.map(X(b),d),function(b){var d,e;for(d=0,e=c.length;e>d;d++)a=c[d],b=a(b);return b}},X=function(a){return function(b){return function(c){var d;return null==c?void 0:(d=c[b],I(d)?d.apply(c,a):d)}}},V=function(a){return a.slice(1)},S=function(a){var b;return I(a)?a:H(a)?(b=V(a),function(a,c){return a[b](c)}):t("not a function or a field key: "+a,!1)},W=function(a){return a instanceof q||a===l?a:new q(a)},Z={head:function(a){return a[0]},always:function(a){return function(){return a}},negate:function(a){return function(b){return!a(b)}},empty:function(a){return 0===a.length},tail:function(a){return a.slice(1,a.length)},filter:function(a,b){var c,d,e,f;for(c=[],e=0,f=b.length;f>e;e++)d=b[e],a(d)&&c.push(d);return c},map:function(a,b){var c,d,e,f;for(f=[],d=0,e=b.length;e>d;d++)c=b[d],f.push(a(c));return f},each:function(a,b){var c,d,e;e=[];for(c in a)d=a[c],e.push(b(c,d));return e},toArray:function(a){return a instanceof Array?a:[a]},contains:function(a,b){return-1!==F(a,b)},id:function(a){return a},last:function(a){return a[a.length-1]},all:function(a,b){var c,d,e;for(null==b&&(b=Z.id),d=0,e=a.length;e>d;d++)if(c=a[d],!b(c))return!1;return!0},any:function(a,b){var c,d,e;for(null==b&&(b=Z.id),d=0,e=a.length;e>d;d++)if(c=a[d],b(c))return!0;return!1},without:function(a,b){return Z.filter(function(b){return b!==a},b)},remove:function(a,b){var c;return c=F(b,a),c>=0?b.splice(c,1):void 0},fold:function(a,b,c){var d,e,f;for(e=0,f=a.length;f>e;e++)d=a[e],b=c(b,d);return b},cached:function(a){var b;return b=l,function(){return b===l&&(b=a(),a=null),b}}},b._=Z,b.scheduler={setTimeout:function(a,b){return setTimeout(a,b)},setInterval:function(a,b){return setInterval(a,b)},clearInterval:function(a){return clearInterval(a)},now:function(){return(new Date).getTime()}},"undefined"!=typeof a&&null!==a?(a.exports=b,b.Bacon=b):("undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return b}),this.Bacon=b)}).call(this)},{}],2:[function(require,a){function b(){}function c(){k.log.apply(k,arguments)}function d(){k.log.apply(k,arguments)}function e(){k.warn.apply(k,arguments)}function f(a){o[a]=Date.now()}function g(a){var b=o[a];if(!b)throw new Error("No such label: "+a);var c=Date.now()-b;k.log(a+": "+c+"ms")}function h(){var a=new Error;a.name="Trace",a.message=m.format.apply(null,arguments),k.error(a.stack)}function i(a){k.log(m.inspect(a)+"\n")}function j(a){if(!a){var b=n.call(arguments,1);j.ok(!1,m.format.apply(null,b))}}var k,l=self,m=require("util"),j=require("assert"),n=Array.prototype.slice,o={};k="undefined"!=typeof l&&l.console?l.console:"undefined"!=typeof window&&window.console?window.console:{};for(var p=[[b,"log"],[c,"info"],[d,"warn"],[e,"error"],[f,"time"],[g,"timeEnd"],[h,"trace"],[i,"dir"],[j,"assert"]],q=0;q<p.length;q++){var r=p[q],s=r[0],t=r[1];k[t]||(k[t]=s)}a.exports=k},{assert:3,util:7}],3:[function(require,a){function b(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function c(a,b){return void 0===b?""+b:"number"!=typeof b||!isNaN(b)&&isFinite(b)?"function"==typeof b||b instanceof RegExp?b.toString():b:b.toString()}function d(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function e(a,b,c,d,e){throw new p.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function f(a,b){a||e(a,!0,b,"==",p.ok)}function g(a,b){if(a===b)return!0;if(n.isBuffer(a)&&n.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?a==b:j(a,b)}function h(a){return null===a||void 0===a}function i(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function j(a,c){if(h(a)||h(c))return!1;if(a.prototype!==c.prototype)return!1;if(i(a))return i(c)?(a=o.call(a),c=o.call(c),g(a,c)):!1;try{var d,e,f=b(a),j=b(c)}catch(k){return!1}if(f.length!=j.length)return!1;for(f.sort(),j.sort(),e=f.length-1;e>=0;e--)if(f[e]!=j[e])return!1;for(e=f.length-1;e>=0;e--)if(d=f[e],!g(a[d],c[d]))return!1;return!0}function k(a,b){return a&&b?b instanceof RegExp?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function l(a,b,c,d){var f;"string"==typeof c&&(d=c,c=null);try{b()}catch(g){f=g}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!f&&e("Missing expected exception"+d),!a&&k(f,c)&&e("Got unwanted exception"+d),a&&f&&c&&!k(f,c)||!a&&f)throw f}var m=require("util"),n=require("buffer").Buffer,o=Array.prototype.slice,p=a.exports=f;p.AssertionError=function(a){this.name="AssertionError",this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator;
var b=a.stackStartFunction||e;Error.captureStackTrace&&Error.captureStackTrace(this,b)},m.inherits(p.AssertionError,Error),p.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",d(JSON.stringify(this.actual,c),128),this.operator,d(JSON.stringify(this.expected,c),128)].join(" ")},p.fail=e,p.ok=f,p.equal=function(a,b,c){a!=b&&e(a,b,c,"==",p.equal)},p.notEqual=function(a,b,c){a==b&&e(a,b,c,"!=",p.notEqual)},p.deepEqual=function(a,b,c){g(a,b)||e(a,b,c,"deepEqual",p.deepEqual)},p.notDeepEqual=function(a,b,c){g(a,b)&&e(a,b,c,"notDeepEqual",p.notDeepEqual)},p.strictEqual=function(a,b,c){a!==b&&e(a,b,c,"===",p.strictEqual)},p.notStrictEqual=function(a,b,c){a===b&&e(a,b,c,"!==",p.notStrictEqual)},p.throws=function(){l.apply(this,[!0].concat(o.call(arguments)))},p.doesNotThrow=function(){l.apply(this,[!1].concat(o.call(arguments)))},p.ifError=function(a){if(a)throw a}},{buffer:9,util:7}],4:[function(require,a,b){function c(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}var d=require("__browserify_process");d.EventEmitter||(d.EventEmitter=function(){});var e=b.EventEmitter=d.EventEmitter,f="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=10;e.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},e.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||f(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(f(b)){for(var c=Array.prototype.slice.call(arguments,1),d=b.slice(),e=0,g=d.length;g>e;e++)d[e].apply(this,c);return!0}return!1},e.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",a,b),this._events[a])if(f(this._events[a])){if(!this._events[a].warned){var c;c=void 0!==this._events.maxListeners?this._events.maxListeners:g,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},e.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var d=this._events[a];if(f(d)){var e=c(d,b);if(0>e)return this;d.splice(e,1),0==d.length&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},e.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},e.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),f(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},e.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?"function"==typeof a._events[b]?1:a._events[b].length:0}},{__browserify_process:11}],5:[function(require,a,b){function c(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?p(h)?""!=f&&h.push(f):"object"==typeof h?h[q(h).length]=f:h=b[e]=[b[e],f]:~o(g,"]")?(g=g.substr(0,g.length-1),!t.test(g)&&p(h)&&(h=c(b,e)),d(a,h,g,f)):(!t.test(g)&&p(h)&&(h=c(b,e)),d(a,h,g,f))}else p(b[e])?b[e].push(f):b[e]="object"==typeof b[e]?f:"undefined"==typeof b[e]?f:[b[e],f]}function e(a,b,c){if(~o(b,"]")){{var e=b.split("[");e.length}d(e,a,"base",c)}else{if(!t.test(b)&&p(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}k(a.base,b,c)}return a}function f(a){var b={base:{}};return r(q(a),function(c){e(b,c,a[c])}),b.base}function g(a){return s(String(a).split("&"),function(a,b){var c=o(b,"="),d=l(b),f=b.substr(0,d||c),g=b.substr(d||c,b.length),g=g.substr(o(g,"=")+1,g.length);return""==f&&(f=b,g=""),""==f?a:e(a,m(f),m(g))},{base:{}}).base}function h(a,b){if(!b)throw new TypeError("stringify expects an object");return b+"="+encodeURIComponent(a)}function i(a,b){var c=[];if(!b)throw new TypeError("stringify expects an object");for(var d=0;d<a.length;d++)c.push(u(a[d],b+"["+d+"]"));return c.join("&")}function j(a,b){for(var c,d=[],e=q(a),f=0,g=e.length;g>f;++f)c=e[f],d.push(null==a[c]?encodeURIComponent(c)+"=":u(a[c],b?b+"["+encodeURIComponent(c)+"]":encodeURIComponent(c)));return d.join("&")}function k(a,b,c){var d=a[b];void 0===d?a[b]=c:p(d)?d.push(c):a[b]=[d,c]}function l(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function m(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}var n=Object.prototype.toString,o="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},p=Array.isArray||function(a){return"[object Array]"==n.call(a)},q=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},r="function"==typeof Array.prototype.forEach?function(a,b){return a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c])},s=function(a,b,c){if("function"==typeof a.reduce)return a.reduce(b,c);for(var d=c,e=0;e<a.length;e++)d=b(d,a[e]);return d},t=/^[0-9]+$/;b.parse=function(a){return null==a||""==a?{}:"object"==typeof a?f(a):g(a)};var u=b.stringify=function(a,b){return p(a)?i(a,b):"[object Object]"==n.call(a)?j(a,b):"string"==typeof a?h(a,b):b+"="+encodeURIComponent(String(a))}},{}],6:[function(require,a,b){function c(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return c;return-1}function d(a,b,d){if(a&&"object"==typeof a&&a.href)return a;if("string"!=typeof a)throw new TypeError("Parameter 'url' must be a string, not "+typeof a);for(var f={},g=a,l=0,n=g.length;n>l&&-1!==c(m,g.charAt(l));l++);0!==l&&(g=g.substr(l));var y=k.exec(g);if(y){y=y[0];var z=y.toLowerCase();f.protocol=z,g=g.substr(y.length)}if(d||y||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===g.substr(0,2);!A||y&&v[y]||(g=g.substr(2),f.slashes=!0)}if(!v[y]&&(A||y&&!w[y])){var B=c(g,"@");if(-1!==B){for(var C=!0,l=0,n=q.length;n>l;l++){var D=c(g,q[l]);if(-1!==D&&B>D){C=!1;break}}C&&(f.auth=g.substr(0,B),g=g.substr(B+1))}for(var E=-1,l=0,n=p.length;n>l;l++){var D=c(g,p[l]);-1!==D&&(0>E||E>D)&&(E=D)}-1!==E?(f.host=g.substr(0,E),g=g.substr(E)):(f.host=g,g="");for(var F=h(f.host),G=j(F),l=0,n=G.length;n>l;l++){var H=G[l];f[H]=F[H]}if(f.hostname=f.hostname||"",f.hostname.length>r)f.hostname="";else for(var I=f.hostname.split(/\./),l=0,n=I.length;n>l;l++){var J=I[l];if(J&&!J.match(s)){for(var K="",L=0,M=J.length;M>L;L++)K+=J.charCodeAt(L)>127?"x":J[L];if(!K.match(s)){var N=I.slice(0,l),O=I.slice(l+1),P=J.match(t);P&&(N.push(P[1]),O.unshift(P[2])),O.length&&(g="/"+O.join(".")+g),f.hostname=N.join(".");break}}}f.hostname=f.hostname.toLowerCase();for(var Q=f.hostname.split("."),R=[],l=0;l<Q.length;++l){var S=Q[l];R.push(S.match(/[^A-Za-z0-9_-]/)?"xn--"+i.encode(S):S)}f.hostname=R.join("."),f.host=(f.hostname||"")+(f.port?":"+f.port:""),f.href+=f.host}if(!u[z]){for(var l=0,n=o.length;n>l;l++){var T=o[l],U=encodeURIComponent(T);U===T&&(U=escape(T)),g=g.split(T).join(U)}for(var V=g.length,l=0,n=m.length;n>l;l++){var W=c(g,m[l]);-1!==W&&(V=Math.min(W,V))}g=g.substr(0,V)}var X=c(g,"#");-1!==X&&(f.hash=g.substr(X),g=g.slice(0,X));var Y=c(g,"?");return-1!==Y?(f.search=g.substr(Y),f.query=g.substr(Y+1),b&&(f.query=x.parse(f.query)),g=g.slice(0,Y)):b&&(f.search="",f.query={}),g&&(f.pathname=g),w[y]&&f.hostname&&!f.pathname&&(f.pathname="/"),(f.pathname||f.search)&&(f.path=(f.pathname?f.pathname:"")+(f.search?f.search:"")),f.href=e(f),f}function e(a){"string"==typeof a&&(a=d(a));var b=a.auth||"";if(b){b=b.split("@").join("%40");for(var c=0,e=q.length;e>c;c++){var f=q[c];b=b.split(f).join(encodeURIComponent(f))}b+="@"}var g=a.protocol||"",h=void 0!==a.host?b+a.host:void 0!==a.hostname?b+a.hostname+(a.port?":"+a.port:""):!1,i=a.pathname||"",k=a.query&&("object"==typeof a.query&&j(a.query).length?x.stringify(a.query):"")||"",l=a.search||k&&"?"+k||"",m=a.hash||"";return g&&":"!==g.substr(-1)&&(g+=":"),a.slashes||(!g||w[g])&&h!==!1?(h="//"+(h||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):h||(h=""),m&&"#"!==m.charAt(0)&&(m="#"+m),l&&"?"!==l.charAt(0)&&(l="?"+l),g+h+i+l+m}function f(a,b){return e(g(a,b))}function g(a,b){if(!a)return b;if(a=d(e(a),!1,!0),b=d(e(b),!1,!0),a.hash=b.hash,""===b.href)return a.href=e(a),a;if(b.slashes&&!b.protocol)return b.protocol=a.protocol,w[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=e(b),b;if(b.protocol&&b.protocol!==a.protocol){if(!w[b.protocol])return b.href=e(b),b;if(a.protocol=b.protocol,!b.host&&!v[b.protocol]){for(var f=(b.pathname||"").split("/");f.length&&!(b.host=f.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),b.pathname=f.join("/")}return a.pathname=b.pathname,a.search=b.search,a.query=b.query,a.host=b.host||"",a.auth=b.auth,a.hostname=b.hostname||b.host,a.port=b.port,(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.slashes=a.slashes||b.slashes,a.href=e(a),a}var g=a.pathname&&"/"===a.pathname.charAt(0),h=void 0!==b.host||b.pathname&&"/"===b.pathname.charAt(0),i=h||g||a.host&&b.pathname,j=i,k=a.pathname&&a.pathname.split("/")||[],f=b.pathname&&b.pathname.split("/")||[],l=a.protocol&&!w[a.protocol];if(l&&(delete a.hostname,delete a.port,a.host&&(""===k[0]?k[0]=a.host:k.unshift(a.host)),delete a.host,b.protocol&&(delete b.hostname,delete b.port,b.host&&(""===f[0]?f[0]=b.host:f.unshift(b.host)),delete b.host),i=i&&(""===f[0]||""===k[0])),h)a.host=b.host||""===b.host?b.host:a.host,a.hostname=b.hostname||""===b.hostname?b.hostname:a.hostname,a.search=b.search,a.query=b.query,k=f;else if(f.length)k||(k=[]),k.pop(),k=k.concat(f),a.search=b.search,a.query=b.query;else if("search"in b){if(l){a.hostname=a.host=k.shift();var m=a.host&&c(a.host,"@")>0?a.host.split("@"):!1;m&&(a.auth=m.shift(),a.host=a.hostname=m.shift())}return a.search=b.search,a.query=b.query,(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=e(a),a}if(!k.length)return delete a.pathname,a.search?delete a.path:a.path="/"+a.search,a.href=e(a),a;for(var n=k.slice(-1)[0],o=(a.host||b.host)&&("."===n||".."===n)||""===n,p=0,q=k.length;q>=0;q--)n=k[q],"."==n?k.splice(q,1):".."===n?(k.splice(q,1),p++):p&&(k.splice(q,1),p--);if(!i&&!j)for(;p--;p)k.unshift("..");!i||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),o&&"/"!==k.join("/").substr(-1)&&k.push("");var r=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(l){a.hostname=a.host=r?"":k.length?k.shift():"";var m=a.host&&c(a.host,"@")>0?a.host.split("@"):!1;m&&(a.auth=m.shift(),a.host=a.hostname=m.shift())}return i=i||a.host&&k.length,i&&!r&&k.unshift(""),a.pathname=k.join("/"),(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=b.auth||a.auth,a.slashes=a.slashes||b.slashes,a.href=e(a),a}function h(a){var b={},c=l.exec(a);return c&&(c=c[0],b.port=c.substr(1),a=a.substr(0,a.length-c.length)),a&&(b.hostname=a),b}var i={encode:function(a){return a}};b.parse=d,b.resolve=f,b.resolveObject=g,b.format=e;var j=Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)a.hasOwnProperty(c)&&(b[b.length]=c);return b},k=/^([a-z0-9.+-]+:)/i,l=/:[0-9]+$/,m=["<",">",'"',"`"," ","\r","\n","	"],n=["{","}","|","\\","^","~","[","]","`"].concat(m),o=["'"],p=["%","/","?",";","#"].concat(n).concat(o),q=["/","@","?","#"].concat(m),r=255,s=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,t=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,u={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=require("querystring")},{querystring:5}],7:[function(require,a,b){function c(a){return Array.isArray(a)||"object"==typeof a&&"[object Array]"===Object.prototype.toString.call(a)}function d(a){"object"==typeof a&&"[object RegExp]"===Object.prototype.toString.call(a)}function e(a){return"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a)}require("events");b.isArray=c,b.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)},b.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},b.print=function(){},b.puts=function(){},b.debug=function(){},b.inspect=function(a,h,i,j){function k(a,i){if(a&&"function"==typeof a.inspect&&a!==b&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(i);switch(typeof a){case"undefined":return m("undefined","undefined");case"string":var j="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m(j,"string");case"number":return m(""+a,"number");case"boolean":return m(""+a,"boolean")}if(null===a)return m("null","null");var n=f(a),o=h?g(a):n;if("function"==typeof a&&0===o.length){if(d(a))return m(""+a,"regexp");var p=a.name?": "+a.name:"";return m("[Function"+p+"]","special")}if(e(a)&&0===o.length)return m(a.toUTCString(),"date");var q,r,s;if(c(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]),"function"==typeof a){var t=a.name?": "+a.name:"";q=d(a)?" "+a:" [Function"+t+"]"}else q="";if(e(a)&&(q=" "+a.toUTCString()),0===o.length)return s[0]+q+s[1];if(0>i)return d(a)?m(""+a,"regexp"):m("[Object]","special");l.push(a);var u=o.map(function(b){var d,e;if(a.__lookupGetter__&&(a.__lookupGetter__(b)?e=a.__lookupSetter__(b)?m("[Getter/Setter]","special"):m("[Getter]","special"):a.__lookupSetter__(b)&&(e=m("[Setter]","special"))),n.indexOf(b)<0&&(d="["+b+"]"),e||(l.indexOf(a[b])<0?(e=null===i?k(a[b]):k(a[b],i-1),e.indexOf("\n")>-1&&(e=c(a)?e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=m("[Circular]","special")),"undefined"==typeof d){if("Array"===r&&b.match(/^\d+$/))return e;d=JSON.stringify(""+b),d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=m(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=m(d,"string"))}return d+": "+e});l.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return u=w>50?s[0]+(""===q?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:s[0]+q+" "+u.join(", ")+" "+s[1]}var l=[],m=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return j||(m=function(a){return a}),k(a,"undefined"==typeof i?2:i)};b.log=function(){},b.pump=null;var f=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},g=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},h=Object.create||function(a,b){var c;if(null===a)c={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return"undefined"!=typeof b&&Object.defineProperties&&Object.defineProperties(c,b),c};b.inherits=function(a,b){a.super_=b,a.prototype=h(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var i=/%[sdj%]/g;b.format=function(a){if("string"!=typeof a){for(var c=[],d=0;d<arguments.length;d++)c.push(b.inspect(arguments[d]));return c.join(" ")}for(var d=1,e=arguments,f=e.length,g=String(a).replace(i,function(a){if("%%"===a)return"%";if(d>=f)return a;switch(a){case"%s":return String(e[d++]);case"%d":return Number(e[d++]);case"%j":return JSON.stringify(e[d++]);default:return a}}),h=e[d];f>d;h=e[++d])g+=null===h||"object"!=typeof h?" "+h:" "+b.inspect(h);return g}},{events:4}],8:[function(require,a,b){b.readIEEE754=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],9:[function(require,a,b){function c(a,b,e){if(!(this instanceof c))return new c(a,b,e);this.parent=this,this.offset=0;var g;if("number"==typeof e)this.length=d(b),this.offset=e;else{switch(g=typeof a){case"number":this.length=d(a);break;case"string":this.length=c.byteLength(a,b);break;case"object":this.length=d(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(f(a))for(var h=0;h<this.length;h++)this[h]=a instanceof c?a.readUInt8(h):a[h];else if("string"==g)this.length=this.write(a,0,b);else if("number"===g)for(var h=0;h<this.length;h++)this[h]=0}}function d(a){return a=~~Math.ceil(+a),0>a?0:a}function e(a){return(Array.isArray||function(a){return"[object Array]"=={}.toString.apply(a)})(a)}function f(a){return e(a)||c.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function g(a){return 16>a?"0"+a.toString(16):a.toString(16)}function h(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b}function i(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function j(a){return require("base64-js").toByteArray(a)}function k(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);)b[e+c]=a[e],e++;return e}function l(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function m(a,b,c,d){var e=0;return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b+1<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(e=a[b]<<8,b+1<a.length&&(e|=a[b+1])):(e=a[b],b+1<a.length&&(e|=a[b+1]<<8)),e)}function n(a,b,c,d){var e=0;return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b+3<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(b+1<a.length&&(e=a[b+1]<<16),b+2<a.length&&(e|=a[b+2]<<8),b+3<a.length&&(e|=a[b+3]),e+=a[b]<<24>>>0):(b+2<a.length&&(e=a[b+2]<<16),b+1<a.length&&(e|=a[b+1]<<8),e|=a[b],b+3<a.length&&(e+=a[b+3]<<24>>>0)),e)}function o(a,b,c,d){var e,f;return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b+1<a.length,"Trying to read beyond buffer length")),f=m(a,b,c,d),e=32768&f,e?-1*(65535-f+1):f}function p(a,b,c,d){var e,f;return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b+3<a.length,"Trying to read beyond buffer length")),f=n(a,b,c,d),e=2147483648&f,e?-1*(4294967295-f+1):f}function q(a,b,c,d){return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(b+3<a.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(a,b,c,23,4)}function r(a,b,c,d){return d||(B.ok("boolean"==typeof c,"missing or invalid endian"),B.ok(b+7<a.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(a,b,c,52,8)}function s(a,b){B.ok("number"==typeof a,"cannot write a non-number as a number"),B.ok(a>=0,"specified a negative value for writing an unsigned value"),B.ok(b>=a,"value is larger than maximum value for type"),B.ok(Math.floor(a)===a,"value has a fractional component")}function t(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+1<a.length,"trying to write beyond buffer length"),s(b,65535));for(var f=0;f<Math.min(a.length-c,2);f++)a[c+f]=(b&255<<8*(d?1-f:f))>>>8*(d?1-f:f)}function u(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+3<a.length,"trying to write beyond buffer length"),s(b,4294967295));for(var f=0;f<Math.min(a.length-c,4);f++)a[c+f]=b>>>8*(d?3-f:f)&255}function v(a,b,c){B.ok("number"==typeof a,"cannot write a non-number as a number"),B.ok(b>=a,"value larger than maximum allowed value"),B.ok(a>=c,"value smaller than minimum allowed value"),B.ok(Math.floor(a)===a,"value has a fractional component")}function w(a,b,c){B.ok("number"==typeof a,"cannot write a non-number as a number"),B.ok(b>=a,"value larger than maximum allowed value"),B.ok(a>=c,"value smaller than minimum allowed value")}function x(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+1<a.length,"Trying to write beyond buffer length"),v(b,32767,-32768)),b>=0?t(a,b,c,d,e):t(a,65535+b+1,c,d,e)}function y(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+3<a.length,"Trying to write beyond buffer length"),v(b,2147483647,-2147483648)),b>=0?u(a,b,c,d,e):u(a,4294967295+b+1,c,d,e)}function z(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+3<a.length,"Trying to write beyond buffer length"),w(b,3.4028234663852886e38,-3.4028234663852886e38)),require("./buffer_ieee754").writeIEEE754(a,b,c,d,23,4)}function A(a,b,c,d,e){e||(B.ok(void 0!==b&&null!==b,"missing value"),B.ok("boolean"==typeof d,"missing or invalid endian"),B.ok(void 0!==c&&null!==c,"missing offset"),B.ok(c+7<a.length,"Trying to write beyond buffer length"),w(b,1.7976931348623157e308,-1.7976931348623157e308)),require("./buffer_ieee754").writeIEEE754(a,b,c,d,52,8)}var B=require("assert");b.Buffer=c,b.SlowBuffer=c,c.poolSize=8192,b.INSPECT_MAX_BYTES=50,c.prototype.get=function(a){if(0>a||a>=this.length)throw new Error("oob");return this[a]},c.prototype.set=function(a,b){if(0>a||a>=this.length)throw new Error("oob");return this[a]=b},c.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return h(a).length;case"ascii":case"binary":return a.length;case"base64":return j(a).length;default:throw new Error("Unknown encoding")}},c.prototype.utf8Write=function(a,b,d){return c._charsWritten=k(h(a),this,b,d)},c.prototype.asciiWrite=function(a,b,d){return c._charsWritten=k(i(a),this,b,d)},c.prototype.binaryWrite=c.prototype.asciiWrite,c.prototype.base64Write=function(a,b,d){return c._charsWritten=k(j(a),this,b,d)},c.prototype.base64Slice=function(){var a=Array.prototype.slice.apply(this,arguments);return require("base64-js").fromByteArray(a)},c.prototype.utf8Slice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;d<a.length;)a[d]<=127?(b+=l(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+l(c)},c.prototype.asciiSlice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},c.prototype.binarySlice=c.prototype.asciiSlice,c.prototype.inspect=function(){for(var a=[],c=this.length,d=0;c>d;d++)if(a[d]=g(this[d]),d==b.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},c.prototype.hexSlice=function(a,b){var c=this.length;(!a||0>a)&&(a=0),(!b||0>b||b>c)&&(b=c);for(var d="",e=a;b>e;e++)d+=g(this[e]);return d},c.prototype.toString=function(a,b,c){if(a=String(a||"utf8").toLowerCase(),b=+b||0,"undefined"==typeof c&&(c=this.length),+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},c.prototype.hexWrite=function(a,b,d){b=+b||0;var e=this.length-b;d?(d=+d,d>e&&(d=e)):d=e;var f=a.length;if(f%2)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(a.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");this[b+g]=h}return c._charsWritten=2*g,g},c.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;switch(c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase()){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},c.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new c(this,b-a,+a)},c.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),(void 0===d||isNaN(d))&&(d=this.length),b||(b=0),c>d)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(0==a.length||0==e.length)return 0;if(0>b||b>=a.length)throw new Error("targetStart out of bounds");if(0>c||c>=e.length)throw new Error("sourceStart out of bounds");if(0>d||d>e.length)throw new Error("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);for(var f=[],g=c;d>g;g++)B.ok("undefined"!=typeof this[g],"copying undefined buffer bytes!"),f.push(this[g]);for(var g=b;g<b+f.length;g++)a[g]=f[g-b]},c.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),"number"!=typeof a||isNaN(a))throw new Error("value is not a number");if(b>c)throw new Error("end < start");if(c===b)return 0;if(0==this.length)return 0;if(0>b||b>=this.length)throw new Error("start out of bounds");if(0>c||c>this.length)throw new Error("end out of bounds");for(var d=b;c>d;d++)this[d]=a},c.isBuffer=function(a){return a instanceof c||a instanceof c},c.concat=function(a,b){if(!e(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===a.length)return new c(0);if(1===a.length)return a[0];if("number"!=typeof b){b=0;for(var d=0;d<a.length;d++){var f=a[d];b+=f.length}}for(var g=new c(b),h=0,d=0;d<a.length;d++){var f=a[d];f.copy(g,h),h+=f.length}return g},c.prototype.readUInt8=function(a,b){var c=this;return b||(B.ok(void 0!==a&&null!==a,"missing offset"),B.ok(a<c.length,"Trying to read beyond buffer length")),a>=c.length?void 0:c[a]},c.prototype.readUInt16LE=function(a,b){return m(this,a,!1,b)},c.prototype.readUInt16BE=function(a,b){return m(this,a,!0,b)},c.prototype.readUInt32LE=function(a,b){return n(this,a,!1,b)},c.prototype.readUInt32BE=function(a,b){return n(this,a,!0,b)},c.prototype.readInt8=function(a,b){var c,d=this;return b||(B.ok(void 0!==a&&null!==a,"missing offset"),B.ok(a<d.length,"Trying to read beyond buffer length")),a>=d.length?void 0:(c=128&d[a],c?-1*(255-d[a]+1):d[a])},c.prototype.readInt16LE=function(a,b){return o(this,a,!1,b)},c.prototype.readInt16BE=function(a,b){return o(this,a,!0,b)},c.prototype.readInt32LE=function(a,b){return p(this,a,!1,b)},c.prototype.readInt32BE=function(a,b){return p(this,a,!0,b)},c.prototype.readFloatLE=function(a,b){return q(this,a,!1,b)},c.prototype.readFloatBE=function(a,b){return q(this,a,!0,b)},c.prototype.readDoubleLE=function(a,b){return r(this,a,!1,b)},c.prototype.readDoubleBE=function(a,b){return r(this,a,!0,b)},c.prototype.writeUInt8=function(a,b,c){var d=this;c||(B.ok(void 0!==a&&null!==a,"missing value"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b<d.length,"trying to write beyond buffer length"),s(a,255)),b<d.length&&(d[b]=a)},c.prototype.writeUInt16LE=function(a,b,c){t(this,a,b,!1,c)},c.prototype.writeUInt16BE=function(a,b,c){t(this,a,b,!0,c)},c.prototype.writeUInt32LE=function(a,b,c){u(this,a,b,!1,c)},c.prototype.writeUInt32BE=function(a,b,c){u(this,a,b,!0,c)},c.prototype.writeInt8=function(a,b,c){var d=this;c||(B.ok(void 0!==a&&null!==a,"missing value"),B.ok(void 0!==b&&null!==b,"missing offset"),B.ok(b<d.length,"Trying to write beyond buffer length"),v(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},c.prototype.writeInt16LE=function(a,b,c){x(this,a,b,!1,c)},c.prototype.writeInt16BE=function(a,b,c){x(this,a,b,!0,c)},c.prototype.writeInt32LE=function(a,b,c){y(this,a,b,!1,c)},c.prototype.writeInt32BE=function(a,b,c){y(this,a,b,!0,c)},c.prototype.writeFloatLE=function(a,b,c){z(this,a,b,!1,c)},c.prototype.writeFloatBE=function(a,b,c){z(this,a,b,!0,c)},c.prototype.writeDoubleLE=function(a,b,c){A(this,a,b,!1,c)},c.prototype.writeDoubleBE=function(a,b,c){A(this,a,b,!0,c)}},{"./buffer_ieee754":8,assert:3,"base64-js":10}],10:[function(require,a){!function(){"use strict";function b(a){var b,c,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length,b=0,c=0;e>b;b+=4,c+=3)f=d.indexOf(a[b])<<18|d.indexOf(a[b+1])<<12|d.indexOf(a[b+2])<<6|d.indexOf(a[b+3]),h.push((16711680&f)>>16),h.push((65280&f)>>8),h.push(255&f);return 2===g?(f=d.indexOf(a[b])<<2|d.indexOf(a[b+1])>>4,h.push(255&f)):1===g&&(f=d.indexOf(a[b])<<10|d.indexOf(a[b+1])<<4|d.indexOf(a[b+2])>>2,h.push(f>>8&255),h.push(255&f)),h}function c(a){function b(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}var c,e,f,g=a.length%3,h="";for(c=0,f=a.length-g;f>c;c+=3)e=(a[c]<<16)+(a[c+1]<<8)+a[c+2],h+=b(e);switch(g){case 1:e=a[a.length-1],h+=d[e>>2],h+=d[e<<4&63],h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=d[e>>10],h+=d[e>>4&63],h+=d[e<<2&63],h+="="}return h}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a.exports.toByteArray=b,a.exports.fromByteArray=c}()},{}],11:[function(require,a){var b=a.exports={};b.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),b.title="browser",b.browser=!0,b.env={},b.argv=[],b.binding=function(){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(){throw new Error("process.chdir is not supported")
}},{}],12:[function(require,a){var b=require("geojson-utils"),c={bassackwards:!1,pointInLayer:function(a,d,e){"use strict";a instanceof L.LatLng?a=[a.lng,a.lat]:c.bassackwards&&a.reverse();var f=[];return d.eachLayer(function(c){e&&f.length||(c instanceof L.MultiPolygon||c instanceof L.Polygon)&&b.pointInPolygon({type:"Point",coordinates:a},c.toGeoJSON().geometry)&&f.push(c)}),f}};a.exports=c},{"geojson-utils":13}],13:[function(require,a){!function(){function b(a){for(var b=[],c=[],d=0;d<a[0].length;d++)b.push(a[0][d][1]),c.push(a[0][d][0]);return b=b.sort(function(a,b){return a-b}),c=c.sort(function(a,b){return a-b}),[[b[0],c[0]],[b[b.length-1],c[c.length-1]]]}function c(a,b,c){for(var d=[[0,0]],e=0;e<c.length;e++){for(var f=0;f<c[e].length;f++)d.push(c[e][f]);d.push(c[e][0]),d.push([0,0])}for(var g=!1,e=0,f=d.length-1;e<d.length;f=e++)d[e][0]>b!=d[f][0]>b&&a<(d[f][1]-d[e][1])*(b-d[e][0])/(d[f][0]-d[e][0])+d[e][1]&&(g=!g);return g}var d=this.gju={};"undefined"!=typeof a&&a.exports&&(a.exports=d),d.lineStringsIntersect=function(a,b){for(var c=[],d=0;d<=a.coordinates.length-2;++d)for(var e=0;e<=b.coordinates.length-2;++e){var f={x:a.coordinates[d][1],y:a.coordinates[d][0]},g={x:a.coordinates[d+1][1],y:a.coordinates[d+1][0]},h={x:b.coordinates[e][1],y:b.coordinates[e][0]},i={x:b.coordinates[e+1][1],y:b.coordinates[e+1][0]},j=(i.x-h.x)*(f.y-h.y)-(i.y-h.y)*(f.x-h.x),k=(g.x-f.x)*(f.y-h.y)-(g.y-f.y)*(f.x-h.x),l=(i.y-h.y)*(g.x-f.x)-(i.x-h.x)*(g.y-f.y);if(0!=l){var m=j/l,n=k/l;m>=0&&1>=m&&n>=0&&1>=n&&c.push({type:"Point",coordinates:[f.x+m*(g.x-f.x),f.y+m*(g.y-f.y)]})}}return 0==c.length&&(c=!1),c},d.pointInBoundingBox=function(a,b){return!(a.coordinates[1]<b[0][0]||a.coordinates[1]>b[1][0]||a.coordinates[0]<b[0][1]||a.coordinates[0]>b[1][1])},d.pointInPolygon=function(a,e){for(var f="Polygon"==e.type?[e.coordinates]:e.coordinates,g=!1,h=0;h<f.length;h++)d.pointInBoundingBox(a,b(f[h]))&&(g=!0);if(!g)return!1;for(var i=!1,h=0;h<f.length;h++)c(a.coordinates[1],a.coordinates[0],f[h])&&(i=!0);return i},d.pointInMultiPolygon=function(a,e){for(var f="MultiPolygon"==e.type?[e.coordinates]:e.coordinates,g=!1,h=!1,i=0;i<f.length;i++){for(var j=f[i],k=0;k<j.length;k++)g||d.pointInBoundingBox(a,b(j[k]))&&(g=!0);if(!g)return!1;for(var k=0;k<j.length;k++)h||c(a.coordinates[1],a.coordinates[0],j[k])&&(h=!0)}return h},d.numberToRadius=function(a){return a*Math.PI/180},d.numberToDegree=function(a){return 180*a/Math.PI},d.drawCircle=function(a,b,c){for(var e=[b.coordinates[1],b.coordinates[0]],f=a/1e3/6371,g=[d.numberToRadius(e[0]),d.numberToRadius(e[1])],c=c||15,h=[[e[0],e[1]]],i=0;c>i;i++){var j=2*Math.PI*i/c,k=Math.asin(Math.sin(g[0])*Math.cos(f)+Math.cos(g[0])*Math.sin(f)*Math.cos(j)),l=g[1]+Math.atan2(Math.sin(j)*Math.sin(f)*Math.cos(g[0]),Math.cos(f)-Math.sin(g[0])*Math.sin(k));h[i]=[],h[i][1]=d.numberToDegree(k),h[i][0]=d.numberToDegree(l)}return{type:"Polygon",coordinates:[h]}},d.rectangleCentroid=function(a){var b=a.coordinates[0],c=b[0][0],d=b[0][1],e=b[2][0],f=b[2][1],g=e-c,h=f-d;return{type:"Point",coordinates:[c+g/2,d+h/2]}},d.pointDistance=function(a,b){var c=a.coordinates[0],e=a.coordinates[1],f=b.coordinates[0],g=b.coordinates[1],h=d.numberToRadius(g-e),i=d.numberToRadius(f-c),j=Math.pow(Math.sin(h/2),2)+Math.cos(d.numberToRadius(e))*Math.cos(d.numberToRadius(g))*Math.pow(Math.sin(i/2),2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return 6371*k*1e3},d.geometryWithinRadius=function(a,b,c){if("Point"==a.type)return d.pointDistance(a,b)<=c;if("LineString"==a.type||"Polygon"==a.type){var e,f={};e="Polygon"==a.type?a.coordinates[0]:a.coordinates;for(var g in e)if(f.coordinates=e[g],d.pointDistance(f,b)>c)return!1}return!0},d.area=function(a){for(var b,c,d=0,e=a.coordinates[0],f=e.length-1,g=0;g<e.length;f=g++){var b={x:e[g][1],y:e[g][0]},c={x:e[f][1],y:e[f][0]};d+=b.x*c.y,d-=b.y*c.x}return d/=2},d.centroid=function(a){for(var b,c,e,f=0,g=0,h=a.coordinates[0],i=h.length-1,j=0;j<h.length;i=j++){var c={x:h[j][1],y:h[j][0]},e={x:h[i][1],y:h[i][0]};b=c.x*e.y-e.x*c.y,f+=(c.x+e.x)*b,g+=(c.y+e.y)*b}return b=6*d.area(a),{type:"Point",coordinates:[g/b,f/b]}},d.simplify=function(a,b){b=b||20,a=a.map(function(a){return{lng:a.coordinates[0],lat:a.coordinates[1]}});var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=Math.PI/180*.5,w=new Array,x=new Array,y=new Array;if(a.length<3)return a;for(c=a.length,l=360*b/(2*Math.PI*6378137),l*=l,e=0,x[0]=0,y[0]=c-1,d=1;d>0;)if(f=x[d-1],g=y[d-1],d--,g-f>1){for(m=a[g].lng()-a[f].lng(),n=a[g].lat()-a[f].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(v*(a[g].lat()+a[f].lat())),o=m*m+n*n,h=f+1,i=f,k=-1;g>h;h++)p=a[h].lng()-a[f].lng(),q=a[h].lat()-a[f].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(v*(a[h].lat()+a[f].lat())),r=p*p+q*q,s=a[h].lng()-a[g].lng(),t=a[h].lat()-a[g].lat(),Math.abs(s)>180&&(s=360-Math.abs(s)),s*=Math.cos(v*(a[h].lat()+a[g].lat())),u=s*s+t*t,j=r>=o+u?u:u>=o+r?r:(p*n-q*m)*(p*n-q*m)/o,j>k&&(i=h,k=j);l>k?(w[e]=f,e++):(d++,x[d-1]=i,y[d-1]=g,d++,x[d-1]=f,y[d-1]=i)}else w[e]=f,e++;w[e]=c-1,e++;for(var z=new Array,h=0;e>h;h++)z.push(a[w[h]]);return z.map(function(a){return{type:"Point",coordinates:[a.lng,a.lat]}})},d.destinationPoint=function(a,b,c){c/=6371,b=d.numberToRadius(b);var e=d.numberToRadius(a.coordinates[0]),f=d.numberToRadius(a.coordinates[1]),g=Math.asin(Math.sin(f)*Math.cos(c)+Math.cos(f)*Math.sin(c)*Math.cos(b)),h=e+Math.atan2(Math.sin(b)*Math.sin(c)*Math.cos(f),Math.cos(c)-Math.sin(f)*Math.sin(g));return h=(h+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[d.numberToDegree(h),d.numberToDegree(g)]}}}()},{}],14:[function(require,a,b){var c=self;(function(){function d(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function e(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b]?0:-1;"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:u+b;return a=(a=a[c])&&a[e],"object"==c?a&&d(a,b)>-1?0:-1:a?0:-1}function f(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function g(a){return a.charCodeAt(0)}function h(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function i(a){var b=-1,c=a.length,d=a[0],e=a[c/2|0],g=a[c-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&g&&"object"==typeof g)return!1;var h=l();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=l();for(i.array=a,i.cache=h,i.push=f;++b<c;)i.push(a[b]);return i}function j(a){return"\\"+Y[a]}function k(){return r.pop()||[]}function l(){return s.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(a){a.length=0,r.length<w&&r.push(a)}function n(a){var b=a.cache;b&&n(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,s.length<w&&s.push(a)}function o(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function p(a){function b(a){return a&&"object"==typeof a&&!Zd(a)&&Hd.call(a,"__wrapped__")?a:new c(a)}function c(a,b){this.__chain__=!!b,this.__wrapped__=a}function f(a){function b(){if(d){var a=o(d);Id.apply(a,arguments)}if(this instanceof b){var f=s(c.prototype),g=c.apply(f,a||arguments);return Eb(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yd(b,a),b}function r(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Eb(a);if(!g)return a;var h=Ad.call(a);if(!U[h])return a;var i=Wd[h];switch(h){case N:case O:return new i(+a);case Q:case T:return new i(a);case S:return f=i(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}var j=Zd(a);if(b){var l=!d;d||(d=k()),e||(e=k());for(var n=d.length;n--;)if(d[n]==a)return e[n];f=j?i(a.length):{}}else f=j?o(a):ee({},a);return j&&(Hd.call(a,"index")&&(f.index=a.index),Hd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(j?Yb:he)(a,function(a,g){f[g]=r(a,b,c,d,e)}),l&&(m(d),m(e)),f):f}function s(a){return Eb(a)?Nd(a):{}}function w(a,b,c){if("function"!=typeof a)return Zc;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xd.funcNames&&(d=!a.name),d=d||!Xd.funcDecomp,!d)){var e=Fd.call(a);Xd.funcNames||(d=!D.test(e)),d||(d=H.test(e),Yd(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ic(a,b)}function Y(a){function b(){var a=i?g:this;if(e){var n=o(e);Id.apply(n,arguments)}if((f||k)&&(n||(n=o(arguments)),f&&Id.apply(n,f),k&&n.length<h))return d|=16,Y([c,l?d:-4&d,n,null,g,h]);if(n||(n=arguments),j&&(c=a[m]),this instanceof b){a=s(c.prototype);var p=c.apply(a,n);return Eb(p)?p:a}return c.apply(a,n)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return Yd(b,a),b}function $(a,b){var c=-1,f=ib(),g=a?a.length:0,h=g>=v&&f===d,j=[];if(h){var k=i(b);k?(f=e,b=k):h=!1}for(;++c<g;){var l=a[c];f(b,l)<0&&j.push(l)}return h&&n(b),j}function _(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zd(h)||mb(h))){b||(h=_(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function ab(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,i=typeof b;if(!(a!==a||a&&X[h]||b&&X[i]))return!1;if(null==a||null==b)return a===b;var j=Ad.call(a),l=Ad.call(b);if(j==L&&(j=R),l==L&&(l=R),j!=l)return!1;switch(j){case N:case O:return+a==+b;case Q:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case S:case T:return a==vd(b)}var n=j==M;if(!n){var o=Hd.call(a,"__wrapped__"),p=Hd.call(b,"__wrapped__");if(o||p)return ab(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(j!=R)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Db(q)&&q instanceof q&&Db(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=k()),f||(f=k());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=ab(a[v],w,c,d,e,f)););else if(!(g=ab(a[u],w,c,d,e,f)))break}}else ge(b,function(b,h,i){return Hd.call(i,h)?(u++,g=Hd.call(a,h)&&ab(a[h],b,c,d,e,f)):void 0}),g&&!d&&ge(a,function(a,b,c){return Hd.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(m(e),m(f)),g}function bb(a,b,c,d,e){(Zd(b)?Yb:he)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zd(b))||ie(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zd(j)?j:[]:ie(j)?j:{}),d.push(b),e.push(j),l||bb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function db(a,b){return a+Ed(Vd()*(b-a+1))}function eb(a,b,c){var f=-1,g=ib(),h=a?a.length:0,j=[],l=!b&&h>=v&&g===d,o=c||l?k():j;if(l){var p=i(o);g=e,o=p}for(;++f<h;){var q=a[f],r=c?c(q,f,a):q;(b?!f||o[o.length-1]!==r:g(o,r)<0)&&((c||l)&&o.push(r),j.push(q))}return l?(m(o.array),n(o)):c&&m(o),j}function fb(a){return function(c,d,e){var f={};d=b.createCallback(d,e,3);var g=-1,h=c?c.length:0;if("number"==typeof h)for(;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else he(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function gb(a,b,c,d,e,g){var h=1&b,i=2&b,j=4&b,k=16&b,l=32&b;if(!i&&!Db(a))throw new wd;k&&!c.length&&(b&=-17,k=c=!1),l&&!d.length&&(b&=-33,l=d=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=o(m),m[2]&&(m[2]=o(m[2])),m[3]&&(m[3]=o(m[3])),!h||1&m[1]||(m[4]=e),!h&&1&m[1]&&(b|=8),!j||4&m[1]||(m[5]=g),k&&Id.apply(m[2]||(m[2]=[]),c),l&&Ld.apply(m[3]||(m[3]=[]),d),m[1]|=b,gb.apply(null,m);var n=1==b||17===b?f:Y;return n([a,b,c,d,e,g])}function hb(a){return ae[a]}function ib(){var a=(a=b.indexOf)===rc?d:a;return a}function jb(a){return"function"==typeof a&&Bd.test(a)}function kb(a){var b,c;return a&&Ad.call(a)==R&&(b=a.constructor,!Db(b)||b instanceof b)?(ge(a,function(a,b){c=b}),"undefined"==typeof c||Hd.call(a,c)):!1}function lb(a){return be[a]}function mb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ad.call(a)==L||!1}function nb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),r(a,b,"function"==typeof c&&w(c,d,1))}function ob(a,b,c){return r(a,!0,"function"==typeof b&&w(b,c,1))}function pb(a,b){var c=s(a);return b?ee(c,b):c}function qb(a,c,d){var e;return c=b.createCallback(c,d,3),he(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function rb(a,c,d){var e;return c=b.createCallback(c,d,3),tb(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function sb(a,b,c){var d=[];ge(a,function(a,b){d.push(b,a)});var e=d.length;for(b=w(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function tb(a,b,c){var d=_d(a),e=d.length;for(b=w(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ub(a){var b=[];return ge(a,function(a,c){Db(a)&&b.push(c)}),b.sort()}function vb(a,b){return a?Hd.call(a,b):!1}function wb(a){for(var b=-1,c=_d(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xb(a){return a===!0||a===!1||a&&"object"==typeof a&&Ad.call(a)==N||!1}function yb(a){return a&&"object"==typeof a&&Ad.call(a)==O||!1}function zb(a){return a&&1===a.nodeType||!1}function Ab(a){var b=!0;if(!a)return b;var c=Ad.call(a),d=a.length;return c==M||c==T||c==L||c==R&&"number"==typeof d&&Db(a.splice)?!d:(he(a,function(){return b=!1}),b)}function Bb(a,b,c,d){return ab(a,b,"function"==typeof c&&w(c,d,2))}function Cb(a){return Pd(a)&&!Qd(parseFloat(a))}function Db(a){return"function"==typeof a}function Eb(a){return!(!a||!X[typeof a])}function Fb(a){return Hb(a)&&a!=+a}function Gb(a){return null===a}function Hb(a){return"number"==typeof a||a&&"object"==typeof a&&Ad.call(a)==Q||!1}function Ib(a){return a&&"object"==typeof a&&Ad.call(a)==S||!1}function Jb(a){return"string"==typeof a||a&&"object"==typeof a&&Ad.call(a)==T||!1}function Kb(a){return"undefined"==typeof a}function Lb(a,c,d){var e={};return c=b.createCallback(c,d,3),he(a,function(a,b,d){e[b]=c(a,b,d)}),e}function Mb(a){var b=arguments,c=2;if(!Eb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=w(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=o(arguments,1,c),f=-1,g=k(),h=k();++f<c;)bb(a,e[f],d,g,h);return m(g),m(h),a}function Nb(a,c,d){var e={};if("function"!=typeof c){var f=[];ge(a,function(a,b){f.push(b)}),f=$(f,_(arguments,!0,!1,1));for(var g=-1,h=f.length;++g<h;){var i=f[g];e[i]=a[i]}}else c=b.createCallback(c,d,3),ge(a,function(a,b,d){c(a,b,d)||(e[b]=a)});return e}function Ob(a){for(var b=-1,c=_d(a),d=c.length,e=nd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pb(a,c,d){var e={};if("function"!=typeof c)for(var f=-1,g=_(arguments,!0,!1,1),h=Eb(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else c=b.createCallback(c,d,3),ge(a,function(a,b,d){c(a,b,d)&&(e[b]=a)});return e}function Qb(a,c,d,e){var f=Zd(a);if(null==d)if(f)d=[];else{var g=a&&a.constructor,h=g&&g.prototype;d=s(h)}return c&&(c=b.createCallback(c,e,4),(f?Yb:he)(a,function(a,b,e){return c(d,a,b,e)})),d}function Rb(a){for(var b=-1,c=_d(a),d=c.length,e=nd(d);++b<d;)e[b]=a[c[b]];return e}function Sb(a){for(var b=arguments,c=-1,d=_(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nd(e);++c<e;)f[c]=a[d[c]];return f}function Tb(a,b,c){var d=-1,e=ib(),f=a?a.length:0,g=!1;return c=(0>c?Sd(0,f+c):c)||0,Zd(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Jb(a)?a.indexOf(b,c):e(a,b,c))>-1:he(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Ub(a,c,d){var e=!0;c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!c(a[f],f,a)););else he(a,function(a,b,d){return e=!!c(a,b,d)});return e}function Vb(a,c,d){var e=[];c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var h=a[f];c(h,f,a)&&e.push(h)}else he(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e}function Wb(a,c,d){c=b.createCallback(c,d,3);var e=-1,f=a?a.length:0;if("number"!=typeof f){var g;return he(a,function(a,b,d){return c(a,b,d)?(g=a,!1):void 0}),g}for(;++e<f;){var h=a[e];if(c(h,e,a))return h}}function Xb(a,c,d){var e;return c=b.createCallback(c,d,3),Zb(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}function Yb(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:w(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else he(a,b);return a}function Zb(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:w(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_d(a);d=e.length,he(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $b(a,b){var c=o(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nd("number"==typeof f?f:0);return Yb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _b(a,c,d){var e=-1,f=a?a.length:0;if(c=b.createCallback(c,d,3),"number"==typeof f)for(var g=nd(f);++e<f;)g[e]=c(a[e],e,a);else g=[],he(a,function(a,b,d){g[++e]=c(a,b,d)});return g}function ac(a,c,d){var e=-1/0,f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&Zd(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>f&&(f=j)}else c=null==c&&Jb(a)?g:b.createCallback(c,d,3),Yb(a,function(a,b,d){var g=c(a,b,d);g>e&&(e=g,f=a)});return f}function bc(a,c,d){var e=1/0,f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&Zd(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];f>j&&(f=j)}else c=null==c&&Jb(a)?g:b.createCallback(c,d,3),Yb(a,function(a,b,d){var g=c(a,b,d);e>g&&(e=g,f=a)});return f}function cc(a,c,d,e){if(!a)return d;var f=arguments.length<3;c=b.createCallback(c,e,4);var g=-1,h=a.length;if("number"==typeof h)for(f&&(d=a[++g]);++g<h;)d=c(d,a[g],g,a);else he(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)});return d}function dc(a,c,d,e){var f=arguments.length<3;return c=b.createCallback(c,e,4),Zb(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)}),d}function ec(a,c,d){return c=b.createCallback(c,d,3),Vb(a,function(a,b,d){return!c(a,b,d)})}function fc(a,b,c){if(a&&"number"!=typeof a.length&&(a=Rb(a)),null==b||c)return a?a[db(0,a.length-1)]:q;var d=gc(a);return d.length=Td(Sd(0,b),d.length),d}function gc(a){var b=-1,c=a?a.length:0,d=nd("number"==typeof c?c:0);return Yb(a,function(a){var c=db(0,++b);d[b]=d[c],d[c]=a}),d}function hc(a){var b=a?a.length:0;return"number"==typeof b?b:_d(a).length}function ic(a,c,d){var e;c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=c(a[f],f,a)););else he(a,function(a,b,d){return!(e=c(a,b,d))});return!!e}function jc(a,c,d){var e=-1,f=Zd(c),g=a?a.length:0,i=nd("number"==typeof g?g:0);for(f||(c=b.createCallback(c,d,3)),Yb(a,function(a,b,d){var g=i[++e]=l();f?g.criteria=_b(c,function(b){return a[b]}):(g.criteria=k())[0]=c(a,b,d),g.index=e,g.value=a}),g=i.length,i.sort(h);g--;){var j=i[g];i[g]=j.value,f||m(j.criteria),n(j)}return i}function kc(a){return a&&"number"==typeof a.length?o(a):Rb(a)}function lc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mc(a){return $(a,_(arguments,!0,!0,1))}function nc(a,c,d){var e=-1,f=a?a.length:0;for(c=b.createCallback(c,d,3);++e<f;)if(c(a[e],e,a))return e;return-1}function oc(a,c,d){var e=a?a.length:0;for(c=b.createCallback(c,d,3);e--;)if(c(a[e],e,a))return e;return-1}function pc(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=b.createCallback(c,d,3);++g<f&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[0]:q;return o(a,0,Td(Sd(0,e),f))}function qc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_b(a,c,d)),_(a,b)}function rc(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?Sd(0,e+c):c||0}else if(c){var f=Ac(a,b);return a[f]===b?f:-1}return d(a,b,c)}function sc(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else e=null==c||d?1:c||e;return o(a,0,Td(Sd(0,f-e),f))}function tc(){for(var a=[],b=-1,c=arguments.length,f=k(),g=ib(),h=g===d,j=k();++b<c;){var l=arguments[b];(Zd(l)||mb(l))&&(a.push(l),f.push(h&&l.length>=v&&i(b?a[b]:j)))}var o=a[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=f[0];if(l=o[p],(s?e(s,l):g(j,l))<0){for(b=c,(s||j).push(l);--b;)if(s=f[b],(s?e(s,l):g(a[b],l))<0)continue a;r.push(l)}}for(;c--;)s=f[c],s&&n(s);return m(f),m(j),r}function uc(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[f-1]:q;return o(a,Sd(0,f-e))}function vc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Sd(0,d+c):Td(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kd.call(a,f--,1),e--);return a}function xc(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sd(0,Cd((b-a)/(c||1))),f=nd(e);++d<e;)f[d]=a,a+=c;return f}function yc(a,c,d){var e=-1,f=a?a.length:0,g=[];for(c=b.createCallback(c,d,3);++e<f;){var h=a[e];c(h,e,a)&&(g.push(h),Kd.call(a,e--,1),f--)}return g}function zc(a,c,d){if("number"!=typeof c&&null!=c){var e=0,f=-1,g=a?a.length:0;for(c=b.createCallback(c,d,3);++f<g&&c(a[f],f,a);)e++}else e=null==c||d?1:Sd(0,c);return o(a,e)}function Ac(a,c,d,e){var f=0,g=a?a.length:f;for(d=d?b.createCallback(d,e,1):Zc,c=d(c);g>f;){var h=f+g>>>1;d(a[h])<c?f=h+1:g=h}return f}function Bc(){return eb(_(arguments,!0,!0))}function Cc(a,c,d,e){return"boolean"!=typeof c&&null!=c&&(e=d,d="function"!=typeof c&&e&&e[c]===a?null:c,c=!1),null!=d&&(d=b.createCallback(d,e,3)),eb(a,c,d)}function Dc(a){return $(a,o(arguments,1))}function Ec(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zd(c)||mb(c))var d=d?eb($(d,c).concat($(c,d))):c}return d||[]}function Fc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ac(me(a,"length")):0,d=nd(0>c?0:c);++b<c;)d[b]=me(a,b);return d}function Gc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zd(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hc(a,b){if(!Db(b))throw new wd;return function(){return--a<1?b.apply(this,arguments):void 0}}function Ic(a,b){return arguments.length>2?gb(a,17,o(arguments,2),null,b):gb(a,1,null,null,b)}function Jc(a){for(var b=arguments.length>1?_(arguments,!0,!1,1):ub(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=gb(a[e],1,null,null,a)}return a}function Kc(a,b){return arguments.length>2?gb(b,19,o(arguments,2),null,a):gb(b,3,null,null,a)}function Lc(){for(var a=arguments,b=a.length;b--;)if(!Db(a[b]))throw new wd;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mc(a,b){return b="number"==typeof b?b:+b||a.length,gb(a,4,null,null,null,b)}function Nc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Db(a))throw new wd;if(b=Sd(0,b)||0,c===!0){var n=!0;m=!1}else Eb(c)&&(n=c.leading,l="maxWait"in c&&(Sd(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(oe()-g);if(0>=c){e&&Dd(e);var l=j;e=i=j=q,l&&(k=oe(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jd(o,c)},p=function(){i&&Dd(i),e=i=j=q,(m||l!==b)&&(k=oe(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=oe(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q;r?(e&&(e=Dd(e)),k=g,f=a.apply(h,d)):e||(e=Jd(p,q))}return r&&i?i=Dd(i):i||b===l||(i=Jd(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Oc(a){if(!Db(a))throw new wd;var b=o(arguments,1);return Jd(function(){a.apply(q,b)},1)}function Pc(a,b){if(!Db(a))throw new wd;var c=o(arguments,2);return Jd(function(){a.apply(q,c)},b)}function Qc(a,b){if(!Db(a))throw new wd;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return Hd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rc(a){var b,c;if(!Db(a))throw new wd;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sc(a){return gb(a,16,o(arguments,1))}function Tc(a){return gb(a,32,null,o(arguments,1))}function Uc(a,b,c){var d=!0,e=!0;if(!Db(a))throw new wd;return c===!1?d=!1:Eb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),V.leading=d,V.maxWait=b,V.trailing=e,Nc(a,b,V)}function Vc(a,b){return gb(b,16,[a])}function Wc(a){return function(){return a}}function Xc(a,b,c){var d=typeof a;if(null==a||"function"==d)return w(a,b,c);if("object"!=d)return bd(a);var e=_d(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Eb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=ab(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yc(a){return null==a?"":vd(a).replace(de,hb)}function Zc(a){return a}function $c(a,d,e){var f=!0,g=d&&ub(d);d&&(e||g.length)||(null==e&&(e=d),h=c,d=a,a=b,g=ub(d)),e===!1?f=!1:Eb(e)&&"chain"in e&&(f=e.chain);var h=a,i=Db(h);Yb(g,function(b){var c=a[b]=d[b];i&&(h.prototype[b]=function(){var b=this.__chain__,d=this.__wrapped__,e=[d];Id.apply(e,arguments);var g=c.apply(a,e);if(f||b){if(d===g&&Eb(g))return this;g=new h(g),g.__chain__=b}return g})})}function _c(){return a._=zd,this}function ad(){}function bd(a){return function(b){return b[a]}}function cd(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vd();return Td(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return db(a,b)}function dd(a,b){if(a){var c=a[b];return Db(c)?a[b]():c}}function ed(a,c,d){var e=b.templateSettings;a=vd(a||""),d=fe({},d,e);var f,g=fe({},d.imports,e.imports),h=_d(g),i=Rb(g),k=0,l=d.interpolate||G,m="__p += '",n=ud((d.escape||G).source+"|"+l.source+"|"+(l===E?B:G).source+"|"+(d.evaluate||G).source+"|$","g");a.replace(n,function(b,c,d,e,g,h){return d||(d=e),m+=a.slice(k,h).replace(I,j),c&&(m+="' +\n__e("+c+") +\n'"),g&&(f=!0,m+="';\n"+g+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=h+b.length,b}),m+="';\n";var o=d.variable,p=o;p||(o="obj",m="with ("+o+") {\n"+m+"\n}\n"),m=(f?m.replace(y,""):m).replace(z,"$1").replace(A,"$1;"),m="function("+o+") {\n"+(p?"":o+" || ("+o+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var r="\n/*\n//# sourceURL="+(d.sourceURL||"/lodash/template/source["+K++ +"]")+"\n*/";try{var s=qd(h,"return "+m+r).apply(q,i)}catch(t){throw t.source=m,t}return c?s(c):(s.source=m,s)}function fd(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nd(a);for(b=w(b,c,1);++d<a;)e[d]=b(d);return e}function gd(a){return null==a?"":vd(a).replace(ce,lb)}function hd(a){var b=++t;return vd(null==a?"":a)+b}function id(a){return a=new c(a),a.__chain__=!0,a}function jd(a,b){return b(a),a}function kd(){return this.__chain__=!0,this}function ld(){return vd(this.__wrapped__)}function md(){return this.__wrapped__}a=a?cb.defaults(Z.Object(),a,cb.pick(Z,J)):Z;var nd=a.Array,od=a.Boolean,pd=a.Date,qd=a.Function,rd=a.Math,sd=a.Number,td=a.Object,ud=a.RegExp,vd=a.String,wd=a.TypeError,xd=[],yd=td.prototype,zd=a._,Ad=yd.toString,Bd=ud("^"+vd(Ad).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cd=rd.ceil,Dd=a.clearTimeout,Ed=rd.floor,Fd=qd.prototype.toString,Gd=jb(Gd=td.getPrototypeOf)&&Gd,Hd=yd.hasOwnProperty,Id=xd.push,Jd=a.setTimeout,Kd=xd.splice,Ld=xd.unshift,Md=function(){try{var a={},b=jb(b=td.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nd=jb(Nd=td.create)&&Nd,Od=jb(Od=nd.isArray)&&Od,Pd=a.isFinite,Qd=a.isNaN,Rd=jb(Rd=td.keys)&&Rd,Sd=rd.max,Td=rd.min,Ud=a.parseInt,Vd=rd.random,Wd={};Wd[M]=nd,Wd[N]=od,Wd[O]=pd,Wd[P]=qd,Wd[R]=td,Wd[Q]=sd,Wd[S]=ud,Wd[T]=vd,c.prototype=b.prototype;var Xd=b.support={};Xd.funcDecomp=!jb(a.WinRTError)&&H.test(p),Xd.funcNames="string"==typeof qd.name,b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:b}},Nd||(s=function(){function b(){}return function(c){if(Eb(c)){b.prototype=c;var d=new b;b.prototype=null}return d||a.Object()}}());var Yd=Md?function(a,b){W.value=b,Md(a,"__bindData__",W)}:ad,Zd=Od||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ad.call(a)==M||!1},$d=function(a){var b,c=a,d=[];if(!c)return d;if(!X[typeof a])return d;for(b in c)Hd.call(c,b)&&d.push(b);return d},_d=Rd?function(a){return Eb(a)?Rd(a):[]}:$d,ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},be=wb(ae),ce=ud("("+_d(be).join("|")+")","g"),de=ud("["+_d(ae).join("")+"]","g"),ee=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=w(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&X[typeof e])for(var k=-1,l=X[typeof e]&&_d(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fe=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&X[typeof e])for(var j=-1,k=X[typeof e]&&_d(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},ge=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!X[typeof e])return f;b=b&&"undefined"==typeof c?b:w(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},he=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!X[typeof e])return f;b=b&&"undefined"==typeof c?b:w(b,c,3);for(var g=-1,h=X[typeof e]&&_d(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},ie=Gd?function(a){if(!a||Ad.call(a)!=R)return!1;var b=a.valueOf,c=jb(b)&&(c=Gd(b))&&Gd(c);return c?a==c||Gd(a)==c:kb(a)}:kb,je=fb(function(a,b,c){Hd.call(a,c)?a[c]++:a[c]=1}),ke=fb(function(a,b,c){(Hd.call(a,c)?a[c]:a[c]=[]).push(b)}),le=fb(function(a,b,c){a[c]=b}),me=_b,ne=Vb,oe=jb(oe=pd.now)&&oe||function(){return(new pd).getTime()},pe=8==Ud(x+"08")?Ud:function(a,b){return Ud(Jb(a)?a.replace(F,""):a,b||0)};return b.after=Hc,b.assign=ee,b.at=Sb,b.bind=Ic,b.bindAll=Jc,b.bindKey=Kc,b.chain=id,b.compact=lc,b.compose=Lc,b.constant=Wc,b.countBy=je,b.create=pb,b.createCallback=Xc,b.curry=Mc,b.debounce=Nc,b.defaults=fe,b.defer=Oc,b.delay=Pc,b.difference=mc,b.filter=Vb,b.flatten=qc,b.forEach=Yb,b.forEachRight=Zb,b.forIn=ge,b.forInRight=sb,b.forOwn=he,b.forOwnRight=tb,b.functions=ub,b.groupBy=ke,b.indexBy=le,b.initial=sc,b.intersection=tc,b.invert=wb,b.invoke=$b,b.keys=_d,b.map=_b,b.mapValues=Lb,b.max=ac,b.memoize=Qc,b.merge=Mb,b.min=bc,b.omit=Nb,b.once=Rc,b.pairs=Ob,b.partial=Sc,b.partialRight=Tc,b.pick=Pb,b.pluck=me,b.property=bd,b.pull=wc,b.range=xc,b.reject=ec,b.remove=yc,b.rest=zc,b.shuffle=gc,b.sortBy=jc,b.tap=jd,b.throttle=Uc,b.times=fd,b.toArray=kc,b.transform=Qb,b.union=Bc,b.uniq=Cc,b.values=Rb,b.where=ne,b.without=Dc,b.wrap=Vc,b.xor=Ec,b.zip=Fc,b.zipObject=Gc,b.collect=_b,b.drop=zc,b.each=Yb,b.eachRight=Zb,b.extend=ee,b.methods=ub,b.object=Gc,b.select=Vb,b.tail=zc,b.unique=Cc,b.unzip=Fc,$c(b),b.clone=nb,b.cloneDeep=ob,b.contains=Tb,b.escape=Yc,b.every=Ub,b.find=Wb,b.findIndex=nc,b.findKey=qb,b.findLast=Xb,b.findLastIndex=oc,b.findLastKey=rb,b.has=vb,b.identity=Zc,b.indexOf=rc,b.isArguments=mb,b.isArray=Zd,b.isBoolean=xb,b.isDate=yb,b.isElement=zb,b.isEmpty=Ab,b.isEqual=Bb,b.isFinite=Cb,b.isFunction=Db,b.isNaN=Fb,b.isNull=Gb,b.isNumber=Hb,b.isObject=Eb,b.isPlainObject=ie,b.isRegExp=Ib,b.isString=Jb,b.isUndefined=Kb,b.lastIndexOf=vc,b.mixin=$c,b.noConflict=_c,b.noop=ad,b.now=oe,b.parseInt=pe,b.random=cd,b.reduce=cc,b.reduceRight=dc,b.result=dd,b.runInContext=p,b.size=hc,b.some=ic,b.sortedIndex=Ac,b.template=ed,b.unescape=gd,b.uniqueId=hd,b.all=Ub,b.any=ic,b.detect=Wb,b.findWhere=Wb,b.foldl=cc,b.foldr=dc,b.include=Tb,b.inject=cc,$c(function(){var a={};return he(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.first=pc,b.last=uc,b.sample=fc,b.take=pc,b.head=pc,he(b,function(a,d){var e="sample"!==d;
b.prototype[d]||(b.prototype[d]=function(b,d){var f=this.__chain__,g=a(this.__wrapped__,b,d);return f||null!=b&&(!d||e&&"function"==typeof b)?new c(g,f):g})}),b.VERSION="2.4.1",b.prototype.chain=kd,b.prototype.toString=ld,b.prototype.value=md,b.prototype.valueOf=md,Yb(["join","pop","shift"],function(a){var d=xd[a];b.prototype[a]=function(){var a=this.__chain__,b=d.apply(this.__wrapped__,arguments);return a?new c(b,a):b}}),Yb(["push","reverse","sort","unshift"],function(a){var c=xd[a];b.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),Yb(["concat","slice","splice"],function(a){var d=xd[a];b.prototype[a]=function(){return new c(d.apply(this.__wrapped__,arguments),this.__chain__)}}),b}var q,r=[],s=[],t=0,u=+new Date+"",v=75,w=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),G=/($^)/,H=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],K=0,L="[object Arguments]",M="[object Array]",N="[object Boolean]",O="[object Date]",P="[object Function]",Q="[object Number]",R="[object Object]",S="[object RegExp]",T="[object String]",U={};U[P]=!1,U[L]=U[M]=U[N]=U[O]=U[Q]=U[R]=U[S]=U[T]=!0;var V={leading:!1,maxWait:0,trailing:!1},W={configurable:!1,enumerable:!1,value:null,writable:!1},X={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Z=X[typeof window]&&window||this,$=X[typeof b]&&b&&!b.nodeType&&b,_=X[typeof a]&&a&&!a.nodeType&&a,ab=_&&_.exports===$&&$,bb=X[typeof c]&&c;!bb||bb.global!==bb&&bb.window!==bb||(Z=bb);var cb=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=cb,define(function(){return cb})):$&&_?ab?(_.exports=cb)._=cb:$._=cb:Z._=cb}).call(this)},{}],15:[function(require,a){(function(b){function c(a,b){return function(c){return j(a.call(this,c),b)}}function d(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function e(){}function f(a){h(this,a)}function g(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=+i+1e3*h+6e4*g+36e5*f,this._days=+e+7*d,this._months=+c+12*b,this._data={},this._bubble()}function h(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a){return 0>a?Math.ceil(a):Math.floor(a)}function j(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function k(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&M.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function l(a){return"[object Array]"===Object.prototype.toString.call(a)}function m(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function n(a){return a?jb[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function o(a,b){return b.abbr=a,Q[a]||(Q[a]=new e),Q[a].set(b),Q[a]}function p(a){delete Q[a]}function q(a){if(!a)return M.fn._lang;if(!Q[a]&&R)try{require("./lang/"+a)}catch(b){return M.fn._lang}return Q[a]||M.fn._lang}function r(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function s(a){var b,c,d=a.match(U);for(b=0,c=d.length;c>b;b++)d[b]=nb[d[b]]?nb[d[b]]:r(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function t(a,b){return b=u(b,a.lang()),kb[b]||(kb[b]=s(b)),kb[b](a)}function u(a,b){function c(a){return b.longDateFormat(a)||a}for(var d=5;d--&&(V.lastIndex=0,V.test(a));)a=a.replace(V,c);return a}function v(a,b){switch(a){case"DDDD":return Y;case"YYYY":return Z;case"YYYYY":return $;case"S":case"SS":case"SSS":case"DDD":return X;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return q(b._l)._meridiemParse;case"X":return cb;case"Z":case"ZZ":return ab;case"T":return bb;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return W;default:return new RegExp(a.replace("\\",""))}}function w(a){var b=(ab.exec(a)||[])[0],c=(b+"").match(gb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function x(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[1]=~~b-1);break;case"MMM":case"MMMM":d=q(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":null!=b&&(e[2]=~~b);break;case"DDD":case"DDDD":null!=b&&(e[1]=0,e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=q(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=w(b)}null==b&&(c._isValid=!1)}function y(a){var b,c,d,e=[];if(!a._d){for(d=A(a),b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=d[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];e[3]+=~~((a._tzm||0)/60),e[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(e[0],e[1],e[2]),c.setUTCHours(e[3],e[4],e[5],e[6])):(c.setFullYear(e[0],e[1],e[2]),c.setHours(e[3],e[4],e[5],e[6])),a._d=c}}function z(a){var b=a._i;a._d||(a._a=[b.years||b.year||b.y,b.months||b.month||b.M,b.days||b.day||b.d,b.hours||b.hour||b.h,b.minutes||b.minute||b.m,b.seconds||b.second||b.s,b.milliseconds||b.millisecond||b.ms],y(a))}function A(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function B(a){var b,c,d,e=q(a._l),f=""+a._i;for(d=u(a._f,e).match(U),a._a=[],b=0;b<d.length;b++)c=(v(d[b],a).exec(f)||[])[0],c&&(f=f.slice(f.indexOf(c)+c.length)),nb[d[b]]&&x(d[b],c,a);f&&(a._il=f),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),y(a)}function C(a){var b,c,d,e,g,i=99;for(e=0;e<a._f.length;e++)b=h({},a),b._f=a._f[e],B(b),c=new f(b),g=m(b._a,c.toArray()),c._il&&(g+=c._il.length),i>g&&(i=g,d=c);h(a,d)}function D(a){var b,c=a._i,d=db.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(fb[b][1].exec(c)){a._f+=fb[b][0];break}ab.exec(c)&&(a._f+=" Z"),B(a)}else a._d=new Date(c)}function E(a){var c=a._i,d=S.exec(c);c===b?a._d=new Date:d?a._d=new Date(+d[1]):"string"==typeof c?D(a):l(c)?(a._a=c.slice(0),y(a)):c instanceof Date?a._d=new Date(+c):"object"==typeof c?z(a):a._d=new Date(c)}function F(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function G(a,b,c){var d=P(Math.abs(a)/1e3),e=P(d/60),f=P(e/60),g=P(f/24),h=P(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",P(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,F.apply({},i)}function H(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=M(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function I(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=q().preparse(b)),M.isMoment(b)?(a=h({},b),a._d=new Date(+b._d)):c?l(c)?C(a):B(a):E(a),new f(a))}function J(a,b){M.fn[a]=M.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),M.updateOffset(this),this):this._d["get"+c+b]()}}function K(a){M.duration.fn[a]=function(){return this._data[a]}}function L(a,b){M.duration.fn["as"+a]=function(){return+this/b}}for(var M,N,O="2.2.1",P=Math.round,Q={},R="undefined"!=typeof a&&a.exports,S=/^\/?Date\((\-?\d+)/i,T=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,U=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,W=/\d\d?/,X=/\d{1,3}/,Y=/\d{3}/,Z=/\d{1,4}/,$=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ab=/Z|[\+\-]\d\d:?\d\d/i,bb=/T/i,cb=/[\+\-]?\d+(\.\d{1,3})?/,db=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,eb="YYYY-MM-DDTHH:mm:ssZ",fb=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gb=/([\+\-]|\d\d)/gi,hb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ib={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},jb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},kb={},lb="DDD w W M D d".split(" "),mb="M D H h m s w W".split(" "),nb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},gg:function(){return j(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return j(this.weekYear(),5)},GG:function(){return j(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return j(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+j(~~(a/60),2)+":"+j(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+j(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};lb.length;)N=lb.pop(),nb[N+"o"]=d(nb[N],N);for(;mb.length;)N=mb.pop(),nb[N+N]=c(nb[N],2);for(nb.DDDD=c(nb.DDD,3),h(e.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=M.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=M([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return H(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),M=function(a,b,c){return I({_i:a,_f:b,_l:c,_isUTC:!1})},M.utc=function(a,b,c){return I({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b}).utc()},M.unix=function(a){return M(1e3*a)},M.duration=function(a,b){var c,d,e=M.isDuration(a),f="number"==typeof a,h=e?a._input:f?{}:a,i=T.exec(a);return f?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new g(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},M.version=O,M.defaultFormat=eb,M.updateOffset=function(){},M.lang=function(a,b){return a?(a=a.toLowerCase(),a=a.replace("_","-"),b?o(a,b):null===b?(p(a),a="en"):Q[a]||q(a),void(M.duration.fn._lang=M.fn._lang=q(a))):M.fn._lang._abbr},M.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),q(a)},M.isMoment=function(a){return a instanceof f},M.isDuration=function(a){return a instanceof g},h(M.fn=f.prototype,{clone:function(){return M(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return t(M(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!m(this._a,(this._isUTC?M.utc(this._a):M(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var a,b=this._a,c=(this._isUTC?M.utc(this._a):M(this._a)).toArray();for(a=6;a>=0&&b[a]===c[a];--a);return a},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=t(this,a||M.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?M.duration(+b,a):M.duration(a,b),k(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?M.duration(+b,a):M.duration(a,b),k(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?M(a).zone(this._offset||0):M(a).local(),g=6e4*(this.zone()-f.zone());return b=n(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-M(this).startOf("month")-(f-M(f).startOf("month")))/d,e-=6e4*(this.zone()-M(this).startOf("month").zone()-(f.zone()-M(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:i(e)},from:function(a,b){return M.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(M(),a)},calendar:function(){var a=this.diff(M().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),M.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=n(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoweek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=n(a),this.startOf(a).add("isoweek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+M(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+M(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+M(a).startOf(b)},min:function(a){return a=M.apply(null,arguments),this>a?this:a},max:function(a){return a=M.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=w(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&k(this,M.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(a){return a=a?M(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return M.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=P((M(this).startOf("day")-M(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=H(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=H(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=H(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=n(a),this[a.toLowerCase()]()},set:function(a,b){a=n(a),this[a.toLowerCase()](b)},lang:function(a){return a===b?this._lang:(this._lang=q(a),this)}}),N=0;N<hb.length;N++)J(hb[N].toLowerCase().replace(/s$/,""),hb[N]);J("year","FullYear"),M.fn.days=M.fn.day,M.fn.months=M.fn.month,M.fn.weeks=M.fn.week,M.fn.isoWeeks=M.fn.isoWeek,M.fn.toJSON=M.fn.toISOString,h(M.duration.fn=g.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=i(e/1e3),h.seconds=a%60,b=i(a/60),h.minutes=b%60,c=i(b/60),h.hours=c%24,f+=i(c/24),h.days=f%30,g+=i(f/30),h.months=g%12,d=i(g/12),h.years=d},weeks:function(){return i(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=G(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=M.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=M.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=n(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=n(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:M.fn.lang});for(N in ib)ib.hasOwnProperty(N)&&(L(N,ib[N]),K(N.toLowerCase()));L("Weeks",6048e5),M.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},M.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),R&&(a.exports=M),"undefined"==typeof ender&&(this.moment=M),"function"==typeof define&&define.amd&&define("moment",[],function(){return M})}).call(this)},{}],16:[function(require,a,b){!function(a,c){if("object"==typeof b&&b)c(b);else{var d={};c(d),"function"==typeof define&&define.amd?define(d):a.Mustache=d}}(this,function(a){function b(a,b){return u.call(a,b)}function c(a){return!b(q,a)}function d(a){return"function"==typeof a}function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(a){return String(a).replace(/[&<>"'\/]/g,function(a){return x[a]})}function g(a){this.string=a,this.tail=a,this.pos=0}function h(a,b){this.view=null==a?{}:a,this.parent=b,this._cache={".":this.view}}function i(){this.clearCache()}function j(b,c,e,f){function g(a){return c.render(a,e)}for(var h,i,k,l="",m=0,n=b.length;n>m;++m)switch(h=b[m],i=h[1],h[0]){case"#":if(k=e.lookup(i),"object"==typeof k||"string"==typeof k)if(w(k))for(var o=0,p=k.length;p>o;++o)l+=j(h[4],c,e.push(k[o]),f);else k&&(l+=j(h[4],c,e.push(k),f));else if(d(k)){var q=null==f?null:f.slice(h[3],h[5]);k=k.call(e.view,q,g),null!=k&&(l+=k)}else k&&(l+=j(h[4],c,e,f));break;case"^":k=e.lookup(i),(!k||w(k)&&0===k.length)&&(l+=j(h[4],c,e,f));break;case">":k=c.getPartial(i),d(k)&&(l+=k(e));break;case"&":k=e.lookup(i),null!=k&&(l+=k);break;case"name":k=e.lookup(i),null!=k&&(l+=a.escape(k));break;case"text":l+=i}return l}function k(a){for(var b,c=[],d=c,e=[],f=0,g=a.length;g>f;++f)switch(b=a[f],b[0]){case"#":case"^":e.push(b),d.push(b),d=b[4]=[];break;case"/":var h=e.pop();h[5]=b[2],d=e.length>0?e[e.length-1][4]:c;break;default:d.push(b)}return c}function l(a){for(var b,c,d=[],e=0,f=a.length;f>e;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(c=b,d.push(b)));return d}function m(a){return[new RegExp(e(a[0])+"\\s*"),new RegExp("\\s*"+e(a[1]))]}function n(b,d){function f(){if(A&&!B)for(;z.length;)delete y[z.pop()];else z=[];A=!1,B=!1}if(b=b||"",d=d||a.tags,"string"==typeof d&&(d=d.split(p)),2!==d.length)throw new Error("Invalid tags: "+d.join(", "));for(var h,i,j,n,q,u,v=m(d),w=new g(b),x=[],y=[],z=[],A=!1,B=!1;!w.eos();){if(h=w.pos,j=w.scanUntil(v[0]))for(var C=0,D=j.length;D>C;++C)n=j.charAt(C),c(n)?z.push(y.length):B=!0,y.push(["text",n,h,h+1]),h+=1,"\n"==n&&f();if(!w.scan(v[0]))break;if(A=!0,i=w.scan(t)||"name",w.scan(o),"="===i?(j=w.scanUntil(r),w.scan(r),w.scanUntil(v[1])):"{"===i?(j=w.scanUntil(new RegExp("\\s*"+e("}"+d[1]))),w.scan(s),w.scanUntil(v[1]),i="&"):j=w.scanUntil(v[1]),!w.scan(v[1]))throw new Error("Unclosed tag at "+w.pos);if(q=[i,j,h,w.pos],y.push(q),"#"===i||"^"===i)x.push(q);else if("/"===i){if(u=x.pop(),!u)throw new Error('Unopened section "'+j+'" at '+h);if(u[1]!==j)throw new Error('Unclosed section "'+u[1]+'" at '+h)}else if("name"===i||"{"===i||"&"===i)B=!0;else if("="===i){if(d=j.split(p),2!==d.length)throw new Error("Invalid tags at "+h+": "+d.join(", "));v=m(d)}}if(u=x.pop())throw new Error('Unclosed section "'+u[1]+'" at '+w.pos);return k(l(y))}var o=/\s*/,p=/\s+/,q=/\S/,r=/\s*=/,s=/\s*\}/,t=/#|\^|\/|>|\{|&|=|!/,u=RegExp.prototype.test,v=Object.prototype.toString,w=Array.isArray||function(a){return"[object Array]"===v.call(a)},x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(a){var b=this.tail.match(a);if(b&&0===b.index){var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c}return""},g.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},h.make=function(a){return a instanceof h?a:new h(a)},h.prototype.push=function(a){return new h(a,this)},h.prototype.lookup=function(a){var b;if(a in this._cache)b=this._cache[a];else{for(var c=this;c;){if(a.indexOf(".")>0){b=c.view;for(var e=a.split("."),f=0;null!=b&&f<e.length;)b=b[e[f++]]}else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}return d(b)&&(b=b.call(this.view)),b},i.prototype.clearCache=function(){this._cache={},this._partialCache={}},i.prototype.compile=function(b,c){var d=this._cache[b];if(!d){var e=a.parse(b,c);d=this._cache[b]=this.compileTokens(e,b)}return d},i.prototype.compilePartial=function(a,b,c){var d=this.compile(b,c);return this._partialCache[a]=d,d},i.prototype.getPartial=function(a){return a in this._partialCache||!this._loadPartial||this.compilePartial(a,this._loadPartial(a)),this._partialCache[a]},i.prototype.compileTokens=function(a,b){var c=this;return function(e,f){if(f)if(d(f))c._loadPartial=f;else for(var g in f)c.compilePartial(g,f[g]);return j(a,c,h.make(e),b)}},i.prototype.render=function(a,b,c){return this.compile(a)(b,c)},a.name="mustache.js",a.version="0.7.3",a.tags=["{{","}}"],a.Scanner=g,a.Context=h,a.Writer=i,a.parse=n,a.escape=f;var y=new i;a.clearCache=function(){return y.clearCache()},a.compile=function(a,b){return y.compile(a,b)},a.compilePartial=function(a,b,c){return y.compilePartial(a,b,c)},a.compileTokens=function(a,b){return y.compileTokens(a,b)},a.render=function(a,b,c){return y.render(a,b,c)},a.to_html=function(b,c,e,f){var g=a.render(b,c,e);return d(f)?void f(g):g}})},{}],17:[function(require,a,b){!function(c){"object"==typeof b?a.exports=c(this):"function"==typeof define&&define.amd?define(c):this.R=this.ramda=c(this)}(function(){"use strict";function a(b,c,d){switch(arguments.length){case 0:throw w;case 1:return a(b,0,b.length);case 2:return a(b,c,b.length);default:for(var e=d-c,f=new Array(e),g=-1;++g<e;)f[g]=b[c+g];return f}}function b(a){return function(b,c){switch(arguments.length){case 0:throw w;case 1:return function(c){return a(b,c)};default:return a(b,c)}}}function c(a){return function(c,d,e){switch(arguments.length){case 0:throw w;case 1:return b(function(b,d){return a(c,b,d)});case 2:return function(b){return a(c,d,b)};default:return a(c,d,e)}}}function d(a,b){return function(c,d,e){var f=arguments.length,g=arguments[f-1],h=g&&!v(g)&&"function"==typeof g[a];switch(arguments.length){case 0:return b();case 1:return h?g[a]():b(c);case 2:return h?g[a](c):b(c,d);case 3:return h?g[a](c,d):b(c,d,e)}}}function e(a,b){for(var c=-1,d=b.length;++c<d;)a(b[c]);return b}function f(a){return!a||!a.length}function g(a,b){return function(){return a.call(this,b.apply(this,arguments))}}function h(a,b){for(var c=-1,d=b.length,e=new Array(d);++c<d;)e[c]=a(b[c]);return e}function i(a,b){for(var c=-1,d=b.length,e=[];++c<d;)a(b[c],c,b)&&e.push(b[c]);return e}function j(a,b){for(var c=-1;++c<b.length;)if(!a(b[c]))return!1;return!0}function k(a,b){for(var c=-1;++c<b.length;)if(a(b[c]))return!0;return!1}function l(a,b){return R(b,a)>-1}function m(a,b,c){for(var d=-1,e=c.length;++d<e;)if(a(b,c[d]))return!0;return!1}function n(a,b){for(var c,d,e={},f=bb(b),g=0,h=f.length;h>g;g++)c=f[g],d=b[c],a(d,c,b)&&(e[c]=d);return e}function o(a,b){for(var c=bb(b),d=-1,e=c.length;++d<e;)a[c[d]]=b[c[d]];return a}function p(a,b,c){if(a===c)return!0;if(null==c)return!1;b.fn=b.fn||[],b.obj=b.obj||[];for(var d,e,f=-1,g=b.fn.length,h=-1,i=b.obj.length;++f<g;){if(d=b.fn[f],e=a[d],!(d in c))return!1;if(!e(c[d],c))return!1}for(;++h<i;)if(d=b.obj[h],a[d]!==c[d])return!1;return!0}function q(a,b){var c,d=-1,e=a.length;if(null!=b){for(c=b;null!=c&&++d<e;)c=c[a[d]];return c}}function r(a,b){return h(function(b){return{key:a(b),val:b}},b)}var s={version:"0.5.0"},t=function(a,b){a=a||[],b=b||[];for(var c=a.length,d=b.length,e=new Array(c+d),f=0;c>f;f++)e[f]=a[f];for(f=0;d>f;f++)e[f+c]=b[f];return e},u=Object.prototype.toString,v=Array.isArray||function(a){return a&&a.length>=0&&"[object Array]"===u.call(a)};s.isArrayLike=function(a){return v(a)||!!a&&"object"==typeof a&&!(a instanceof String)&&(!(1!==a.nodeType||!a.length)||a.length>=0)};var w=new TypeError("Function called with no arguments");if("function"==typeof Object.defineProperty)try{Object.defineProperty(s,"_",{writable:!1,value:void 0})}catch(x){}var y=(s._,s.op=function(a){var b=a.length;if(2>b)throw new Error("Expected binary function.");var c=A(a),d=A(s.flip(a));return function(a,b){switch(arguments.length){case 0:throw w;case 1:return d(a);case 2:return b===s._?c(a):c.apply(null,arguments);default:return c.apply(null,arguments)}}}),z=s.curryN=function(a,b){return function c(d){return E(Math.max(a-(d&&d.length||0),0),function(){if(0===arguments.length)throw w;var e=t(d,arguments);return e.length>=a?b.apply(this,e):c(e)})}([])},A=s.curry=function(a){return z(a.length,a)},B=function(a,b){return b&&!v(b)&&"function"==typeof b[a]},C=s.nAry=function(a,b){switch(a){case 0:return function(){return b.call(this)};case 1:return function(a){return b.call(this,a)};case 2:return function(a,c){return b.call(this,a,c)};case 3:return function(a,c,d){return b.call(this,a,c,d)};case 4:return function(a,c,d,e){return b.call(this,a,c,d,e)};case 5:return function(a,c,d,e,f){return b.call(this,a,c,d,e,f)};case 6:return function(a,c,d,e,f,g){return b.call(this,a,c,d,e,f,g)};case 7:return function(a,c,d,e,f,g,h){return b.call(this,a,c,d,e,f,g,h)};case 8:return function(a,c,d,e,f,g,h,i){return b.call(this,a,c,d,e,f,g,h,i)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.call(this,a,c,d,e,f,g,h,i,j)};case 10:return function(a,c,d,e,f,g,h,i,j,k){return b.call(this,a,c,d,e,f,g,h,i,j,k)};default:return b}};s.unary=function(a){return C(1,a)};var D=s.binary=function(a){return C(2,a)},E=s.arity=function(a,b){switch(a){case 0:return function(){return b.apply(this,arguments)};case 1:return function(a){return b.apply(this,arguments)};case 2:return function(a,c){return b.apply(this,arguments)};case 3:return function(a,c,d){return b.apply(this,arguments)};case 4:return function(a,c,d,e){return b.apply(this,arguments)};case 5:return function(a,c,d,e,f){return b.apply(this,arguments)};case 6:return function(a,c,d,e,f,g){return b.apply(this,arguments)};case 7:return function(a,c,d,e,f,g,h){return b.apply(this,arguments)};case 8:return function(a,c,d,e,f,g,h,i){return b.apply(this,arguments)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.apply(this,arguments)};case 10:return function(a,c,d,e,f,g,h,i,j,k){return b.apply(this,arguments)};default:return b}},F=s.invoker=function(a,b,c){var d=b[a],e=void 0===c?d.length:c;return d&&z(e+1,function(){if(arguments.length){var b=Array.prototype.pop.call(arguments),c=b[a];if(c==d)return c.apply(b,arguments)}})},G=s.useWith=function(b){var c=a(arguments,1),d=c.length;return A(E(d,function(){for(var e=[],f=-1;++f<d;)e.push(c[f](arguments[f]));return b.apply(this,e.concat(a(arguments,d)))}))};s.forEach=b(e),s.forEach.idx=b(function(a,b){for(var c=-1,d=b.length;++c<d;)a(b[c],c,b);return b});var H=s.clone=function(b){return a(b)};s.isEmpty=f,s.prepend=b(function(a,b){return t([a],b)}),s.cons=s.prepend,s.head=function(a){return a=a||[],a[0]},s.car=s.head,s.last=function(a){return a=a||[],a[a.length-1]},s.tail=d("tail",function(b){return b=b||[],b.length>1?a(b,1):[]}),s.cdr=s.tail;
var I=s.append=b(function(a,b){return t(b,[a])});s.push=s.append,s.concat=b(function(a,b){if(v(b))return t(a,b);if(s.is(String,a))return a.concat(b);if(B("concat",b))return b.concat(a);throw new TypeError("can't concat "+typeof b)});var J=s.identity=function(a){return a};s.I=s.identity,s.times=b(function(a,b){for(var c=new Array(b),d=-1;++d<b;)c[d]=a(d);return c}),s.repeatN=b(function(a,b){return s.times(s.always(a),b)});var K=s.compose=function(){switch(arguments.length){case 0:throw w;case 1:return arguments[0];default:for(var a=arguments.length-1,b=arguments[a],c=b.length;a--;)b=g(arguments[a],b);return E(c,b)}};s.pipe=function(){return K.apply(this,a(arguments).reverse())};var L=s.flip=function(b){return function(c,d){switch(arguments.length){case 0:throw w;case 1:return function(d){return b.apply(this,[d,c].concat(a(arguments,1)))};default:return b.apply(this,t([d,c],a(arguments,2)))}}};s.lPartial=function(b){var c=a(arguments,1);return E(Math.max(b.length-c.length,0),function(){return b.apply(this,t(c,arguments))})},s.rPartial=function(b){var c=a(arguments,1);return E(Math.max(b.length-c.length,0),function(){return b.apply(this,t(arguments,c))})},s.memoize=function(b){if(!b.length)return M(b);var c={};return function(){if(arguments.length){var d=O(function(a,b){return a[b]||(a[b]={})},c,a(arguments,0,arguments.length-1)),e=arguments[arguments.length-1];return d[e]||(d[e]=b.apply(this,arguments))}}};var M=s.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}};s.wrap=function(a,b){return function(){return b.apply(this,t([a],arguments))}};var N=s.constructN=b(function(a,b){var c=function(){var a,c,d=function(){};return d.prototype=b.prototype,a=new d,c=b.apply(a,arguments),Object(c)===c?c:a};return a>1?A(C(a,c)):c});s.construct=function(a){return N(a.length,a)},s.converge=function(b){var c=a(arguments,1);return function(){var a=arguments;return b.apply(this,h(function(b){return b.apply(this,a)},c))}},s.reduce=c(function(a,b,c){for(var d=-1,e=c.length;++d<e;)b=a(b,c[d]);return b});var O=s.foldl=s.reduce;s.reduce.idx=c(function(a,b,c){for(var d=-1,e=c.length;++d<e;)b=a(b,c[d],d,c);return b}),s.foldl.idx=s.reduce.idx,s.reduceRight=c(d("reduceRight",function(a,b,c){for(var d=c.length;d--;)b=a(b,c[d]);return b})),s.foldr=s.reduceRight,s.reduceRight.idx=c(function(a,b,c){for(var d=c.length;d--;)b=a(b,c[d],d,c);return b}),s.foldr.idx=s.reduceRight.idx,s.unfoldr=b(function(a,b){for(var c=a(b),d=[];c&&c.length;)d.push(c[0]),c=a(c[1]);return d}),s.map=b(d("map",h)),s.map.idx=b(function(a,b){for(var c=-1,d=b.length,e=new Array(d);++c<d;)e[c]=a(b[c],c,b);return e}),s.mapObj=b(function(a,b){return O(function(c,d){return c[d]=a(b[d]),c},{},bb(b))}),s.mapObj.idx=b(function(a,b){return O(function(c,d){return c[d]=a(b[d],d,b),c},{},bb(b))}),s.ap=b(function(a,b){return B("ap",a)?a.ap(b):O(function(a,c){return t(a,h(c,b))},[],a)}),s.of=function(a,b){return B("of",b)?b.of(a):[a]},s.empty=function(a){return B("empty",a)?a.empty():[]},s.chain=b(d("chain",function(a,b){return X(h(a,b))})),s.size=function(a){return a.length},s.length=s.size;var P=function(a,b){for(var c=-1,d=b.length,e=[];++c<d;)a(b[c])&&e.push(b[c]);return e};s.filter=b(d("filter",P)),s.filter.idx=b(i);var Q=function(a,b){return P(eb(a),b)};s.reject=b(Q),s.reject.idx=b(function(a,b){return i(eb(a),b)}),s.takeWhile=b(d("takeWhile",function(b,c){for(var d=-1,e=c.length;++d<e&&b(c[d]););return a(c,0,d)})),s.take=b(d("take",function(b,c){return a(c,0,Math.min(b,c.length))})),s.skipUntil=b(function(b,c){for(var d=-1,e=c.length;++d<e&&!b(c[d]););return a(c,d)}),s.skip=b(d("skip",function(b,c){return b<c.length?a(c,b):[]})),s.find=b(function(a,b){for(var c=-1,d=b.length;++c<d;)if(a(b[c]))return b[c]}),s.findIndex=b(function(a,b){for(var c=-1,d=b.length;++c<d;)if(a(b[c]))return c;return-1}),s.findLast=b(function(a,b){for(var c=b.length;c--;)if(a(b[c]))return b[c]}),s.findLastIndex=b(function(a,b){for(var c=b.length;c--;)if(a(b[c]))return c;return-1}),s.every=b(j),s.some=b(k);var R=function(a,b,c){var d=0,e=a.length;for("number"==typeof c&&(d=0>c?Math.max(0,e+c):c);e>d;d++)if(a[d]===b)return d;return-1},S=function(a,b,c){var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1};s.indexOf=b(function(a,b){return R(b,a)}),s.indexOf.from=c(function(a,b,c){return R(c,a,b)}),s.lastIndexOf=b(function(a,b){return S(b,a)}),s.lastIndexOf.from=c(function(a,b,c){return S(c,a,b)}),s.contains=b(l),s.containsWith=c(m);var T=s.uniq=function(a){for(var b,c=-1,d=a.length,e=[];++c<d;)b=a[c],l(b,e)||e.push(b);return e};s.isSet=function(a){for(var b=a.length,c=-1;++c<b;)if(R(a,a[c],c+1)>=0)return!1;return!0};var U=s.uniqWith=b(function(a,b){for(var c,d=-1,e=b.length,f=[];++d<e;)c=b[d],m(a,c,f)||f.push(c);return f}),V=s.pluck=b(function(a,b){return h(Z(a),b)}),W=function(a){return function b(c){for(var d,e,f,g=[],h=-1,i=c.length;++h<i;)if(s.isArrayLike(c[h]))for(d=a?b(c[h]):c[h],e=-1,f=d.length;++e<f;)g.push(d[e]);else g.push(c[h]);return g}};s.flatten=W(!0);var X=s.unnest=W(!1);s.zipWith=c(function(a,b,c){for(var d=[],e=-1,f=Math.min(b.length,c.length);++e<f;)d[e]=a(b[e],c[e]);return d}),s.zip=b(function(a,b){for(var c=[],d=-1,e=Math.min(a.length,b.length);++d<e;)c[d]=[a[d],b[d]];return c}),s.zipObj=b(function(a,b){for(var c=-1,d=a.length,e={};++c<d;)e[a[c]]=b[c];return e}),s.fromPairs=function(a){for(var b=-1,c=a.length,d={};++b<c;)v(a[b])&&a[b].length&&(d[a[b][0]]=a[b][1]);return d},s.xprodWith=c(function(a,b,c){if(f(b)||f(c))return[];for(var d,e=-1,g=b.length,h=c.length,i=[];++e<g;)for(d=-1;++d<h;)i.push(a(b[e],c[d]));return i}),s.xprod=b(function(a,b){if(f(a)||f(b))return[];for(var c,d=-1,e=a.length,g=b.length,h=[];++d<e;)for(c=-1;++c<g;)h.push([a[d],b[c]]);return h}),s.reverse=function(a){return H(a||[]).reverse()},s.range=b(function(a,b){if(a>=b)return[];for(var c=0,d=new Array(Math.floor(b)-Math.ceil(a));b>a;c++,a++)d[c]=a;return d}),s.join=F("join",Array.prototype),s.slice=F("slice",Array.prototype),s.slice.from=b(function(a,b){return b.slice(a,b.length)}),s.remove=c(function(b,c,d){return t(a(d,0,Math.min(b,d.length)),a(d,Math.min(d.length,b+c)))}),s.insert=c(function(b,c,d){return b=b<d.length&&b>=0?b:d.length,t(I(c,a(d,0,b)),a(d,b))}),s.insert.all=c(function(b,c,d){return b=b<d.length&&b>=0?b:d.length,t(t(a(d,0,b),c),a(d,b))});var Y=s.comparator=function(a){return function(b,c){return a(b,c)?-1:a(c,b)?1:0}};s.sort=b(function(a,b){return H(b).sort(a)}),s.groupBy=b(function(a,b){return O(function(b,c){var d=a(c);return b[d]=I(c,b[d]||(b[d]=[])),b},{},b)}),s.partition=b(function(a,b){return O(function(b,c){return b[a(c)?0:1].push(c),b},[[],[]],b)}),s.tap=b(function(a,b){return"function"==typeof b&&b(a),a}),s.eq=b(function(a,b){return a===b});var Z=s.prop=function(a,b){switch(arguments.length){case 0:throw w;case 1:return function(b){return b[a]}}return b[a]};s.get=s.prop,s.props=L(s.prop);var $=Object.prototype.hasOwnProperty;s.propOrDefault=c(function(a,b,c){return $.call(c,a)?c[a]:b}),s.func=function(b,c){switch(arguments.length){case 0:throw w;case 1:return function(c){return c[b].apply(c,a(arguments,1))};default:return c[b].apply(c,a(arguments,2))}};var _=s.always=function(a){return function(){return a}},ab=Object.keys,bb=s.keys=function(){var a=!{toString:null}.propertyIsEnumerable("toString"),b=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return function(c){if(!s.is(Object,c))return[];if(ab)return ab(Object(c));var d,e,f=[];for(d in c)$.call(c,d)&&f.push(d);if(a)for(e=b.length;e--;)d=b[e],$.call(c,d)&&!s.contains(d,f)&&f.push(d);return f}}();s.keysIn=function(a){var b,c=[];for(b in a)c.push(b);return c};var cb=function(a){return function(b){return s.map(function(a){return[a,b[a]]},a(b))}};s.toPairs=cb(s.keys),s.toPairsIn=cb(s.keysIn),s.values=function(a){for(var b=bb(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},s.valuesIn=function(a){var b,c=[];for(b in a)c.push(a[b]);return c},s.pick=b(function(a,b){return n(function(b,c){return l(c,a)},b)}),s.omit=b(function(a,b){return n(function(b,c){return!l(c,a)},b)}),s.pickWith=b(n);var db=function(a,b){var c={};return e(function(a){c[a]=b[a]},a),c};s.pickAll=b(db),s.mixin=b(function(a,b){return o(o({},a),b)}),s.cloneObj=function(a){return o({},a)},s.eqProps=c(function(a,b,c){return b[a]===c[a]}),s.where=function(a,b){var c=s.groupBy(function(b){return"function"==typeof a[b]?"fn":"obj"},bb(a));switch(arguments.length){case 0:throw w;case 1:return function(b){return p(a,c,b)}}return p(a,c,b)},s.installTo=function(a){return o(a,s)},s.is=b(function(a,b){return null!=b&&b.constructor===a||b instanceof a}),s.alwaysZero=_(0),s.alwaysFalse=_(!1),s.alwaysTrue=_(!0),s.and=b(function(a,b){return function(){return!(!a.apply(this,arguments)||!b.apply(this,arguments))}}),s.or=b(function(a,b){return function(){return!(!a.apply(this,arguments)&&!b.apply(this,arguments))}});var eb=s.not=function(a){return function(){return!a.apply(this,arguments)}},fb=function(b){return function(c){var d=function(){var a=arguments;return b(function(b){return b.apply(null,a)},c)};return arguments.length>1?d.apply(null,a(arguments,1)):E(jb(V("length",c)),d)}};s.allPredicates=fb(j),s.anyPredicates=fb(k);var gb=s.add=b(function(a,b){return a+b}),hb=s.multiply=b(function(a,b){return a*b});s.subtract=y(function(a,b){return a-b}),s.divide=y(function(a,b){return a/b}),s.modulo=y(function(a,b){return a%b});var ib=Number.isInteger||function(a){return a<<0===a};s.mathMod=y(function(a,b){return ib(a)?!ib(b)||1>b?0/0:(a%b+b)%b:0/0}),s.sum=O(gb,0),s.product=O(hb,1),s.lt=y(function(a,b){return b>a}),s.lte=y(function(a,b){return b>=a}),s.gt=y(function(a,b){return a>b}),s.gte=y(function(a,b){return a>=b});var jb=s.max=function(a){return O(D(Math.max),-1/0,a)};s.maxWith=b(function(a,b){if(b&&b.length>0){for(var c,d=0,e=b[d],f=a(e);++d<b.length;)c=a(b[d]),c>f&&(f=c,e=b[d]);return e}}),s.min=function(a){return O(D(Math.min),1/0,a)},s.minWith=b(function(a,b){if(b&&b.length>0){for(var c,d=0,e=b[d],f=a(b[d]);++d<b.length;)c=a(b[d]),f>c&&(f=c,e=b[d]);return e}});var kb=s.substring=F("substring",String.prototype);s.substringFrom=L(kb)(void 0),s.substringTo=kb(0),s.charAt=F("charAt",String.prototype),s.charCodeAt=F("charCodeAt",String.prototype),s.match=F("match",String.prototype),s.strIndexOf=b(function(a,b){return b.indexOf(a)}),s.strLastIndexOf=b(function(a,b){return b.lastIndexOf(a)}),s.toUpperCase=F("toUpperCase",String.prototype),s.toLowerCase=F("toLowerCase",String.prototype),s.split=F("split",String.prototype,1),s.pathOn=c(function(a,b,c){return q(b.split(a),c)}),s.path=s.pathOn("."),s.project=G(h,s.pickAll,J),s.propEq=c(function(a,b,c){return c[a]===b}),s.union=K(T,s.concat),s.unionWith=c(function(a,b,c){return U(a,t(b,c))}),s.difference=b(function(a,b){return T(Q(L(l)(b),a))}),s.differenceWith=c(function(a,b,c){return U(a)(Q(L(s.containsWith(a))(c),b))}),s.intersection=b(function(a,b){return T(P(L(l)(a),b))}),s.intersectionWith=c(function(a,b,c){for(var d=[],e=-1;++e<b.length;)m(a,b[e],c)&&(d[d.length]=b[e]);return U(a,d)}),s.sortBy=b(function(a,b){return V("val",r(a,b).sort(Y(function(a,b){return a.key<b.key})))}),s.countBy=b(function(a,b){return O(function(a,b){return a[b.key]=(a[b.key]||0)+1,a},{},r(a,b))});var lb=function(a){return function(b){return s.filter(function(a){return"function"==typeof b[a]},a(b))}};return s.functions=lb(s.keys),s.functionsIn=lb(s.keysIn),s})},{}],"d+/q2E":[function(require,a){"use strict";function b(a){var b=e(j.container),l=a.iAmVisibleProperty,m=new f.Bus,n=g.reloadContainerOnClick(b,j.viewStatusLink),o=f.mergeAll(c(b,j.treeForm,a.startImportUrl),c(b,j.speciesForm,a.startImportUrl),i.init(b,n),n);f.mergeAll(l.changes().filter(h.eq(!0)),o,m).filter(l).throttle(k).onValue(d,a.refreshImportsUrl,m)}function c(a,b,c){function d(a){var b=new FormData(a.target);return a.preventDefault(),g(!1),e(j.spinner).show(),f.fromPromise(e.ajax({type:"POST",url:c,data:b,contentType:!1,processData:!1}))}function g(a){var c=e(b).find(j.importButton),d=e(j.unitSection);a?(c.prop("disabled",!1),d.show()):(c.prop("disabled",!0),d.hide())}a.asEventStream("change",b+" "+j.fileChooser).onValue(g,!0);var h=a.asEventStream("submit",b).flatMap(d).doAction(a,"html");return h}function d(a,b){"False"===e(j.importsFinished).val()&&e(j.tablesContainer).load(a,function(a,c){"error"!==c&&b.push()})}var e=require("jquery"),f=(require("lodash"),require("baconjs")),g=require("treemap/baconUtils"),h=require("ramda"),i=require("importer/status"),j={container:"#importer",tablesContainer:"#import-tables",treeForm:"#import-trees-form",speciesForm:"#import-species-form",fileChooser:'input[type="file"]',importButton:'button[type="submit"]',unitSection:"#importer-tree-units",viewStatusLink:"td a",spinner:"#importer .spinner",importsFinished:'input[name="imports-finished"]'},k=5e3;a.exports={init:b}},{baconjs:1,"importer/status":"+6H+2m",jquery:"82HPDv",lodash:14,ramda:17,"treemap/baconUtils":"1V7akS"}],"+6H+2m":[function(require,a){"use strict";function b(){l.each(k(s.resolver.popupContainer),function(a){var b=k(a),c=b.find(s.resolver.species.input),d=b.find(s.resolver.species.hidden);m.every(m.not(l.isEmpty),[c,d])&&q.create({name:"species-resolver",template:s.resolver.species.typeaheadRowTemplate,url:c.attr("data-typeahead-url"),input:c,hidden:d,reverse:"id",forceMatch:!0})})}function c(a,c){var h=r.reloadContainerOnClick(a,s.backLink,s.commitLink,s.pagingButtons,s.cancelLink);a.asEventStream("click",s.rowInMergeRequiredTable).onValue(d),a.asEventStream("click",s.hideMergeControlsButton).onValue(e),a.asEventStream("click",s.mergeButton).flatMap(i).onValue(a,"html");var j=p.init(a).map(".currentTarget").map(k).filter(".is",s.resolver.saveButton),l=function(a){return a.is('[data-field-name="species"]')};return j.filter(l).onValue(g,a),j.filter(m.not(l)).onValue(f,a),h.merge(c).onValue(p.activateAll),a.on(s.resolver.events.shown,b),h}function d(a){k(a.target).closest(s.rowInMergeRequiredTable).next().toggle("fast")}function e(a){k(a.target).closest(s.mergeControls).hide("fast")}function f(a,b){var c=h(a,b);a.load(c.url,c.data,p.activateAll)}function g(a,b){var c=h(a,b);m.every(m.not(l.isEmpty),[c.fieldName,c.updatedValue])?a.load(c.url,c.data,p.activateAll):n.error("Cannot save empty species")}function h(a,b){var c=b.attr("data-field-name"),d=b.parent().find(".popover-correction").val();return{fieldName:c,updatedValue:d,url:b.attr("data-url"),data:l.object([c],[d])}}function i(a){a.preventDefault();var b=k(a.target),c=b.data("href"),d=j(b);return k(s.mergeButton).prop("disabled",!0),o.fromPromise(k.post(c,{data:JSON.stringify(d)}))}function j(a){var b=a.closest(s.mergeControls),c=a.data("merge-field-names").split(","),d=a.data("radio-group-names").split(","),e={};return l.each(l.zip(c,d),function(a){var c=a[0],d=a[1],f=b.find("input:radio[name='"+d+"']:checked").val();e[c]=f}),e}var k=require("jquery"),l=require("lodash"),m=require("ramda"),n=require("toastr"),o=require("baconjs"),p=require("treemap/popover"),q=require("treemap/otmTypeahead"),r=require("treemap/baconUtils"),s={pane:".tab-pane",backLink:'[data-action="back"]',cancelLink:'[data-action="cancel"]',commitLink:'[data-action="commit"]',pagingButtons:".pagination li a",rowInMergeRequiredTable:"#import-panel-merge_required .js-import-row",mergeControls:".js-merge-controls",hideMergeControlsButton:".js-hide",mergeButton:".js-merge",resolver:{popupContainer:".popover-content",saveButton:".resolver-popover-accept",events:{shown:"shown.bs.popover"},species:{input:".species-resolver-typeahead",hidden:".species-resolver-typeahead-hidden",typeaheadRowTemplate:"#species-element-template"}}};a.exports={init:c}},{baconjs:1,jquery:"82HPDv",lodash:14,ramda:17,toastr:"Z57M2G","treemap/baconUtils":"1V7akS","treemap/otmTypeahead":"YmFftR","treemap/popover":"tOuPen"}],MA5cR5:[function(require,a){"use strict";var b=require("jquery"),c=require("lodash"),d=require("treemap/csrf"),e=require("otm_comments/flagging"),f="#template-comment",g="data-comment-id";a.exports=function(a,h){function i(a){return c.template(b(f).html(),a)}function j(){a.loggedIn&&k.append(i({parent:"",classname:"comment-create-form"}))}var k=b(h);b.ajaxSetup(d.jqueryAjaxSetupOptions),k.on("click","a[data-comment-id]",function(a){a.preventDefault();var c=b(a.target);b(".comment-reply-form").remove(),c.closest(".comment").append(i({parent:c.attr(g),classname:"comment-reply-form"})),b("#id_comment").focus()}),k.on("change keyup paste","textarea",function(a){var c=b(a.currentTarget),d=c.closest("form"),e=d.find('input[type="submit"]');""===c.val().trim()?e.prop("disabled",!0):e.prop("disabled",!1)}),j(),e(),k.on("click",'[type="submit"]',function(a){a.preventDefault();var d=b(a.target),e=d.closest("form"),f=e.attr("action")+" "+h,g=e.serializeArray(),i={};c.each(g,function(a){i[a.name]=a.value}),k.load(f,i,j)})}},{jquery:"82HPDv",lodash:14,"otm_comments/flagging":"aC3unq","treemap/csrf":"jYFnat"}],aC3unq:[function(require,a){"use strict";var b=require("jquery"),c=(require("baconjs"),require("treemap/baconUtils"),"#comments-container"),d='div[data-class="comment-flag"]',e='a[data-class="comment-flag-toggle"]',f="Saving...";a.exports=function(){b(c).asEventStream("click",e).doAction(".preventDefault").map(".target").map(b).onValue(function(a){var b=a.parents(d),c=a.attr("href");b.html(f),b.load(c,{})})}},{baconjs:1,jquery:"82HPDv","treemap/baconUtils":"1V7akS"}],"3USC3r":[function(require,a){"use strict";var b=require("jquery"),c=require("baconjs"),d=require("lodash"),e=require("treemap/csrf"),f=require("treemap/baconUtils"),g={filterButtons:"[data-comments-filter] li a",columnHeaders:"[data-comments-sort] th a",pagingButtons:".pagination li a"};b.ajaxSetup(e.jqueryAjaxSetupOptions),a.exports=function(a){var e=b(a.container),h=e.asEventStream("click","[data-less-more]").doAction(".preventDefault").map(".target").map(b),i=e.asEventStream("click","[data-comment-single-action] a"),j=e.asEventStream("click","[data-comment-batch] a"),k=e.asEventStream("click","[data-comment-toggle-all]"),l=c.mergeAll(i,j).doAction(".preventDefault").map(".target.href").filter(f.isDefinedNonEmpty).map(function(a){var b=e.find("[data-comments-params]").attr("data-comments-params");return a+"?"+b}),m=i.map(".target").map(b).map(function(a){return[a.parents("[data-comment-id]").attr("data-comment-id")]}),n=function(){var a=e.find("[data-comment-id]").has("[data-batch-action-checkbox]:checked");return d.map(a,function(a){return b(a).attr("data-comment-id")})},o=j.map(n),p=c.mergeAll(m,o).map(function(a){return{"comment-ids":a.join(",")}}),q=c.zipAsArray(l,p);h.onValue(function(a){a.text("less"==a.text()?"more":"less");var b=a.prev();b.toggleClass("less")}),f.reloadContainerOnClick(e,g.pagingButtons,g.filterButtons,g.columnHeaders),q.onValues(d.bind(e.load,e)),k.map(e,"find","[data-batch-action-checkbox]").onValue(function(a){var b=e.find("[data-comment-toggle-all]").is(":checked");a.prop("checked",b)})}},{baconjs:1,jquery:"82HPDv",lodash:14,"treemap/baconUtils":"1V7akS","treemap/csrf":"jYFnat"}],W0foxt:[function(require,a){"use strict";a.exports=window.google},{}],"036qWM":[function(){!function(a,b){function c(){var a=p.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b=o[a[m]];return b||(b={},n++,a[m]=n,o[n]=b),b}function e(a,c,e){return c||(c=b),i?c.createElement(a):(e||(e=d(c)),c=e.cache[a]?e.cache[a].cloneNode():l.test(a)?(e.cache[a]=e.createElem(a)).cloneNode():e.createElem(a),c.canHaveChildren&&!k.test(a)?e.frag.appendChild(c):c)}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return p.shivMethods?e(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(p,b.frag)}function g(a){a||(a=b);var c=d(a);if(p.shivCSS&&!h&&!c.hasCSS){var e,g=a;e=g.createElement("p"),g=g.getElementsByTagName("head")[0]||g.documentElement,e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>",e=g.insertBefore(e.lastChild,g.firstChild),c.hasCSS=!!e}return i||f(a,c),a}var h,i,j=a.html5||{},k=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",n=0,o={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",h="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}i=c}catch(e){i=h=!0}}();var p={elements:j.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==j.shivCSS,supportsUnknownElements:i,shivMethods:!1!==j.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){if(a||(a=b),i)return a.createDocumentFragment();for(var e=e||d(a),f=e.frag.cloneNode(),g=0,h=c(),j=h.length;j>g;g++)f.createElement(h[g]);return f}};a.html5=p,g(b)}(this,document)},{}],"82HPDv":[function(require,a){!function(b,c){function d(a){var b=a.length,c=lb.type(a);return lb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a){var b=Ab[a]={};return lb.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function f(a,b,d,e){if(lb.acceptData(a)){var f,g,h=lb.expando,i=a.nodeType,j=i?lb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==c||"string"!=typeof b)return k||(k=i?a[h]=cb.pop()||lb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:lb.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=lb.extend(j[k],b):j[k].data=lb.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==c&&(g[lb.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[lb.camelCase(b)])):f=g,f}}function g(a,b,c){if(lb.acceptData(a)){var d,e,f=a.nodeType,g=f?lb.cache:a,h=f?a[lb.expando]:lb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){lb.isArray(b)?b=b.concat(lb.map(b,lb.camelCase)):b in d?b=[b]:(b=lb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!i(d):!lb.isEmptyObject(d))return}(c||(delete g[h].data,i(g[h])))&&(f?lb.cleanData([a],!0):lb.support.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function h(a,b,d){if(d===c&&1===a.nodeType){var e="data-"+b.replace(Cb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Bb.test(d)?lb.parseJSON(d):d}catch(f){}lb.data(a,b,d)}else d=c}return d}function i(a){var b;for(b in a)if(("data"!==b||!lb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function n(a,b,c){if(lb.isFunction(b))return lb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return lb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Rb.test(b))return lb.filter(b,a,c);b=lb.filter(b,a)}return lb.grep(a,function(a){return lb.inArray(a,b)>=0!==c})}function o(a){var b=Vb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function p(a,b){return lb.nodeName(a,"table")&&lb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function q(a){return a.type=(null!==lb.find.attr(a,"type"))+"/"+a.type,a}function r(a){var b=fc.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function s(a,b){for(var c,d=0;null!=(c=a[d]);d++)lb._data(c,"globalEval",!b||lb._data(b[d],"globalEval"))}function t(a,b){if(1===b.nodeType&&lb.hasData(a)){var c,d,e,f=lb._data(a),g=lb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)lb.event.add(b,c,h[c][d])}g.data&&(g.data=lb.extend({},g.data))}}function u(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!lb.support.noCloneEvent&&b[lb.expando]){e=lb._data(b);for(d in e.events)lb.removeEvent(b,d,e.handle);b.removeAttribute(lb.expando)}"script"===c&&b.text!==a.text?(q(b).text=a.text,r(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),lb.support.html5Clone&&a.innerHTML&&!lb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&cc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function v(a,b){var d,e,f=0,g=typeof a.getElementsByTagName!==X?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==X?a.querySelectorAll(b||"*"):c;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!b||lb.nodeName(e,b)?g.push(e):lb.merge(g,v(e,b));return b===c||b&&lb.nodeName(a,b)?lb.merge([a],g):g}function w(a){cc.test(a.type)&&(a.defaultChecked=a.checked)}function x(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=zc.length;e--;)if(b=zc[e]+c,b in a)return b;return d}function y(a,b){return a=b||a,"none"===lb.css(a,"display")||!lb.contains(a.ownerDocument,a)}function z(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=lb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&y(d)&&(f[g]=lb._data(d,"olddisplay",D(d.nodeName)))):f[g]||(e=y(d),(c&&"none"!==c||!e)&&lb._data(d,"olddisplay",e?c:lb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function A(a,b,c){var d=sc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function B(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=lb.css(a,c+yc[f],!0,e)),d?("content"===c&&(g-=lb.css(a,"padding"+yc[f],!0,e)),"margin"!==c&&(g-=lb.css(a,"border"+yc[f]+"Width",!0,e))):(g+=lb.css(a,"padding"+yc[f],!0,e),"padding"!==c&&(g+=lb.css(a,"border"+yc[f]+"Width",!0,e)));return g}function C(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=lc(a),g=lb.support.boxSizing&&"border-box"===lb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=mc(a,b,f),(0>e||null==e)&&(e=a.style[b]),tc.test(e))return e;d=g&&(lb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+B(a,b,c||(g?"border":"content"),d,f)+"px"}function D(a){var b=Z,c=vc[a];return c||(c=E(a,b),"none"!==c&&c||(kc=(kc||lb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(kc[0].contentWindow||kc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=E(a,b),kc.detach()),vc[a]=c),c}function E(a,b){var c=lb(b.createElement(a)).appendTo(b.body),d=lb.css(c[0],"display");return c.remove(),d}function F(a,b,c,d){var e;if(lb.isArray(b))lb.each(b,function(b,e){c||Bc.test(a)?d(a,e):F(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==lb.type(b))d(a,b);else for(e in b)F(a+"["+e+"]",b[e],c,d)}function G(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(lb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function H(a,b,c,d){function e(h){var i;return f[h]=!0,lb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function I(a,b){var d,e,f=lb.ajaxSettings.flatOptions||{};for(e in b)b[e]!==c&&((f[e]?a:d||(d={}))[e]=b[e]);return d&&lb.extend(!0,a,d),a}function J(a,b,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===c&&(f=a.mimeType||b.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function K(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function L(){try{return new b.XMLHttpRequest}catch(a){}}function M(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function N(){return setTimeout(function(){_c=c}),_c=lb.now()}function O(a,b,c){for(var d,e=(fd[b]||[]).concat(fd["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f=0,g=ed.length,h=lb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_c||N(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:lb.extend({},b),opts:lb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_c||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=lb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);g>f;f++)if(d=ed[f].call(j,a,k,j.opts))return d;return lb.map(k,O,j),lb.isFunction(j.opts.start)&&j.opts.start.call(a,j),lb.fx.timer(lb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=lb.camelCase(c),e=b[d],f=a[c],lb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=lb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&y(a),n=lb._data(a,"fxshow");c.queue||(h=lb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,lb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===lb.css(a,"display")&&"none"===lb.css(a,"float")&&(lb.support.inlineBlockNeedsLayout&&"inline"!==D(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",lb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bd.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||lb.style(a,d)}if(!lb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=lb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?lb(a).show():j.done(function(){lb(a).hide()}),j.done(function(){var b;lb._removeData(a,"fxshow");for(b in k)lb.style(a,b,k[b])});for(d in k)g=O(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function S(a,b,c,d,e){return new S.prototype.init(a,b,c,d,e)}function T(a,b){var c,d={height:a},e=0;
for(b=b?1:0;4>e;e+=2-b)c=yc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function U(a){return lb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var V,W,X=typeof c,Y=b.location,Z=b.document,$=Z.documentElement,_=b.jQuery,ab=b.$,bb={},cb=[],db="1.10.2",eb=cb.concat,fb=cb.push,gb=cb.slice,hb=cb.indexOf,ib=bb.toString,jb=bb.hasOwnProperty,kb=db.trim,lb=function(a,b){return new lb.fn.init(a,b,W)},mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nb=/\S+/g,ob=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rb=/^[\],:{}\s]*$/,sb=/(?:^|:|,)(?:\s*\[)+/g,tb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ub=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vb=/^-ms-/,wb=/-([\da-z])/gi,xb=function(a,b){return b.toUpperCase()},yb=function(a){(Z.addEventListener||"load"===a.type||"complete"===Z.readyState)&&(zb(),lb.ready())},zb=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",yb,!1),b.removeEventListener("load",yb,!1)):(Z.detachEvent("onreadystatechange",yb),b.detachEvent("onload",yb))};lb.fn=lb.prototype={jquery:db,constructor:lb,init:function(a,b,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pb.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||d).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof lb?b[0]:b,lb.merge(this,lb.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),qb.test(e[1])&&lb.isPlainObject(b))for(e in b)lb.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=Z.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):lb.isFunction(a)?d.ready(a):(a.selector!==c&&(this.selector=a.selector,this.context=a.context),lb.makeArray(a,this))},selector:"",length:0,toArray:function(){return gb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=lb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return lb.each(this,a,b)},ready:function(a){return lb.ready.promise().done(a),this},slice:function(){return this.pushStack(gb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(lb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:fb,sort:[].sort,splice:[].splice},lb.fn.init.prototype=lb.fn,lb.extend=lb.fn.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||lb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(lb.isPlainObject(d)||(b=lb.isArray(d)))?(b?(b=!1,g=a&&lb.isArray(a)?a:[]):g=a&&lb.isPlainObject(a)?a:{},h[e]=lb.extend(k,g,d)):d!==c&&(h[e]=d));return h},lb.extend({expando:"jQuery"+(db+Math.random()).replace(/\D/g,""),noConflict:function(a){return b.$===lb&&(b.$=ab),a&&b.jQuery===lb&&(b.jQuery=_),lb},isReady:!1,readyWait:1,holdReady:function(a){a?lb.readyWait++:lb.ready(!0)},ready:function(a){if(a===!0?!--lb.readyWait:!lb.isReady){if(!Z.body)return setTimeout(lb.ready);lb.isReady=!0,a!==!0&&--lb.readyWait>0||(V.resolveWith(Z,[lb]),lb.fn.trigger&&lb(Z).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===lb.type(a)},isArray:Array.isArray||function(a){return"array"===lb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?bb[ib.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==lb.type(a)||a.nodeType||lb.isWindow(a))return!1;try{if(a.constructor&&!jb.call(a,"constructor")&&!jb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(lb.support.ownLast)for(b in a)return jb.call(a,b);for(b in a);return b===c||jb.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=qb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=lb.buildFragment([a],b,e),e&&lb(e).remove(),lb.merge([],d.childNodes))},parseJSON:function(a){return b.JSON&&b.JSON.parse?b.JSON.parse(a):null===a?a:"string"==typeof a&&(a=lb.trim(a),a&&rb.test(a.replace(tb,"@").replace(ub,"]").replace(sb,"")))?new Function("return "+a)():void lb.error("Invalid JSON: "+a)},parseXML:function(a){var d,e;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(e=new DOMParser,d=e.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(f){d=c}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||lb.error("Invalid XML: "+a),d},noop:function(){},globalEval:function(a){a&&lb.trim(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(vb,"ms-").replace(wb,xb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;g>f&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:kb&&!kb.call("﻿ ")?function(a){return null==a?"":kb.call(a)}:function(a){return null==a?"":(a+"").replace(ob,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?lb.merge(c,"string"==typeof a?[a]:a):fb.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(hb)return hb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var d=b.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=b[f];else for(;b[f]!==c;)a[e++]=b[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,c),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,c),null!=e&&(i[i.length]=e);return eb.apply([],i)},guid:1,proxy:function(a,b){var d,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),lb.isFunction(a)?(d=gb.call(arguments,2),e=function(){return a.apply(b||this,d.concat(gb.call(arguments)))},e.guid=a.guid=a.guid||lb.guid++,e):c},access:function(a,b,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===lb.type(d)){f=!0;for(i in d)lb.access(a,b,i,d[i],!0,g,h)}else if(e!==c&&(f=!0,lb.isFunction(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(lb(a),c)})),b))for(;j>i;i++)b(a[i],d,h?e:e.call(a[i],i,b(a[i],d)));return f?a:k?b.call(a):j?b(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),lb.ready.promise=function(a){if(!V)if(V=lb.Deferred(),"complete"===Z.readyState)setTimeout(lb.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",yb,!1),b.addEventListener("load",yb,!1);else{Z.attachEvent("onreadystatechange",yb),b.attachEvent("onload",yb);var c=!1;try{c=null==b.frameElement&&Z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!lb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}zb(),lb.ready()}}()}return V.promise(a)},lb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){bb["[object "+b+"]"]=b.toLowerCase()}),W=lb(Z),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=kb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=rb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),kb=new RegExp("^"+eb+"*,"+eb+"*"),mb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=new RegExp(eb+"*[+~]"),ob=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=new RegExp(ib),qb=new RegExp("^"+gb+"$"),rb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sb.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?cb.call(E,a)-cb.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),lb.find=c,lb.expr=c.selectors,lb.expr[":"]=lb.expr.pseudos,lb.unique=c.uniqueSort,lb.text=c.getText,lb.isXMLDoc=c.isXML,lb.contains=c.contains}(b);var Ab={};lb.Callbacks=function(a){a="string"==typeof a?Ab[a]||e(a):lb.extend({},a);var b,d,f,g,h,i,j=[],k=!a.once&&[],l=function(c){for(d=a.memory&&c,f=!0,h=i||0,i=0,g=j.length,b=!0;j&&g>h;h++)if(j[h].apply(c[0],c[1])===!1&&a.stopOnFalse){d=!1;break}b=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var c=j.length;!function e(b){lb.each(b,function(b,c){var d=lb.type(c);"function"===d?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==d&&e(c)})}(arguments),b?g=j.length:d&&(i=c,l(d))}return this},remove:function(){return j&&lb.each(arguments,function(a,c){for(var d;(d=lb.inArray(c,j,d))>-1;)j.splice(d,1),b&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?lb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=d=c,this},disabled:function(){return!j},lock:function(){return k=c,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,c){return!j||f&&!k||(c=c||[],c=[a,c.slice?c.slice():c],b?k.push(c):l(c)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},lb.extend({Deferred:function(a){var b=[["resolve","done",lb.Callbacks("once memory"),"resolved"],["reject","fail",lb.Callbacks("once memory"),"rejected"],["notify","progress",lb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return lb.Deferred(function(c){lb.each(b,function(b,f){var g=f[0],h=lb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&lb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?lb.extend(a,d):d}},e={};return d.pipe=d.then,lb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=gb.call(arguments),g=f.length,h=1!==g||a&&lb.isFunction(a.promise)?g:0,i=1===h?a:lb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?gb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&lb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),lb.support=function(a){var c,d,e,f,g,h,i,j,k,l=Z.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return a;f=Z.createElement("select"),h=f.appendChild(Z.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",a.getSetAttribute="t"!==l.className,a.leadingWhitespace=3===l.firstChild.nodeType,a.tbody=!l.getElementsByTagName("tbody").length,a.htmlSerialize=!!l.getElementsByTagName("link").length,a.style=/top/.test(d.getAttribute("style")),a.hrefNormalized="/a"===d.getAttribute("href"),a.opacity=/^0.5/.test(d.style.opacity),a.cssFloat=!!d.style.cssFloat,a.checkOn=!!e.value,a.optSelected=h.selected,a.enctype=!!Z.createElement("form").enctype,a.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,a.inlineBlockNeedsLayout=!1,a.shrinkWrapBlocks=!1,a.pixelPosition=!1,a.deleteExpando=!0,a.noCloneEvent=!0,a.reliableMarginRight=!0,a.boxSizingReliable=!0,e.checked=!0,a.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,a.optDisabled=!h.disabled;try{delete l.test}catch(m){a.deleteExpando=!1}e=Z.createElement("input"),e.setAttribute("value",""),a.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),a.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Z.createDocumentFragment(),g.appendChild(e),a.appendChecked=e.checked,a.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){a.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),a[k+"Bubbles"]=i in b||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",a.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in lb(a))break;return a.ownLast="0"!==k,lb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Z.getElementsByTagName("body")[0];g&&(c=Z.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",a.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",lb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===l.offsetWidth}),b.getComputedStyle&&(a.pixelPosition="1%"!==(b.getComputedStyle(l,null)||{}).top,a.boxSizingReliable="4px"===(b.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Z.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",a.reliableMarginRight=!parseFloat((b.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==X&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==l.offsetWidth,a.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)
}),c=f=g=h=d=e=null,a}({});var Bb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Cb=/([A-Z])/g;lb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?lb.cache[a[lb.expando]]:a[lb.expando],!!a&&!i(a)},data:function(a,b,c){return f(a,b,c)},removeData:function(a,b){return g(a,b)},_data:function(a,b,c){return f(a,b,c,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&lb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),lb.fn.extend({data:function(a,b){var d,e,f=null,g=0,i=this[0];if(a===c){if(this.length&&(f=lb.data(i),1===i.nodeType&&!lb._data(i,"parsedAttrs"))){for(d=i.attributes;g<d.length;g++)e=d[g].name,0===e.indexOf("data-")&&(e=lb.camelCase(e.slice(5)),h(i,e,f[e]));lb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){lb.data(this,a)}):arguments.length>1?this.each(function(){lb.data(this,a,b)}):i?h(i,a,lb.data(i,a)):null},removeData:function(a){return this.each(function(){lb.removeData(this,a)})}}),lb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=lb._data(a,b),c&&(!d||lb.isArray(c)?d=lb._data(a,b,lb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=lb.queue(a,b),d=c.length,e=c.shift(),f=lb._queueHooks(a,b),g=function(){lb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return lb._data(a,c)||lb._data(a,c,{empty:lb.Callbacks("once memory").add(function(){lb._removeData(a,b+"queue"),lb._removeData(a,c)})})}}),lb.fn.extend({queue:function(a,b){var d=2;return"string"!=typeof a&&(b=a,a="fx",d--),arguments.length<d?lb.queue(this[0],a):b===c?this:this.each(function(){var c=lb.queue(this,a,b);lb._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&lb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){lb.dequeue(this,a)})},delay:function(a,b){return a=lb.fx?lb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,e=1,f=lb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(b=a,a=c),a=a||"fx";h--;)d=lb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(b)}});var Db,Eb,Fb=/[\t\r\n\f]/g,Gb=/\r/g,Hb=/^(?:input|select|textarea|button|object)$/i,Ib=/^(?:a|area)$/i,Jb=/^(?:checked|selected)$/i,Kb=lb.support.getSetAttribute,Lb=lb.support.input;lb.fn.extend({attr:function(a,b){return lb.access(this,lb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){lb.removeAttr(this,a)})},prop:function(a,b){return lb.access(this,lb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=lb.propFix[a]||a,this.each(function(){try{this[a]=c,delete this[a]}catch(b){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(lb.isFunction(a))return this.each(function(b){lb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(nb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=lb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(lb.isFunction(a))return this.each(function(b){lb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(nb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?lb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(lb.isFunction(a)?function(c){lb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=lb(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===X||"boolean"===c)&&(this.className&&lb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":lb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Fb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var b,d,e,f=this[0];{if(arguments.length)return e=lb.isFunction(a),this.each(function(b){var f;1===this.nodeType&&(f=e?a.call(this,b,lb(this).val()):a,null==f?f="":"number"==typeof f?f+="":lb.isArray(f)&&(f=lb.map(f,function(a){return null==a?"":a+""})),d=lb.valHooks[this.type]||lb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==c||(this.value=f))});if(f)return d=lb.valHooks[f.type]||lb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(b=d.get(f,"value"))!==c?b:(b=f.value,"string"==typeof b?b.replace(Gb,""):null==b?"":b)}}}),lb.extend({valHooks:{option:{get:function(a){var b=lb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(lb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&lb.nodeName(c.parentNode,"optgroup"))){if(b=lb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=lb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=lb.inArray(lb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,b,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===X?lb.prop(a,b,d):(1===g&&lb.isXMLDoc(a)||(b=b.toLowerCase(),e=lb.attrHooks[b]||(lb.expr.match.bool.test(b)?Eb:Db)),d===c?e&&"get"in e&&null!==(f=e.get(a,b))?f:(f=lb.find.attr(a,b),null==f?c:f):null!==d?e&&"set"in e&&(f=e.set(a,d,b))!==c?f:(a.setAttribute(b,d+""),d):void lb.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=lb.propFix[c]||c,lb.expr.match.bool.test(c)?Lb&&Kb||!Jb.test(c)?a[d]=!1:a[lb.camelCase("default-"+c)]=a[d]=!1:lb.attr(a,c,""),a.removeAttribute(Kb?c:d)},attrHooks:{type:{set:function(a,b){if(!lb.support.radioValue&&"radio"===b&&lb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!lb.isXMLDoc(a),g&&(b=lb.propFix[b]||b,f=lb.propHooks[b]),d!==c?f&&"set"in f&&(e=f.set(a,d,b))!==c?e:a[b]=d:f&&"get"in f&&null!==(e=f.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var b=lb.find.attr(a,"tabindex");return b?parseInt(b,10):Hb.test(a.nodeName)||Ib.test(a.nodeName)&&a.href?0:-1}}}}),Eb={set:function(a,b,c){return b===!1?lb.removeAttr(a,c):Lb&&Kb||!Jb.test(c)?a.setAttribute(!Kb&&lb.propFix[c]||c,c):a[lb.camelCase("default-"+c)]=a[c]=!0,c}},lb.each(lb.expr.match.bool.source.match(/\w+/g),function(a,b){var d=lb.expr.attrHandle[b]||lb.find.attr;lb.expr.attrHandle[b]=Lb&&Kb||!Jb.test(b)?function(a,b,e){var f=lb.expr.attrHandle[b],g=e?c:(lb.expr.attrHandle[b]=c)!=d(a,b,e)?b.toLowerCase():null;return lb.expr.attrHandle[b]=f,g}:function(a,b,d){return d?c:a[lb.camelCase("default-"+b)]?b.toLowerCase():null}}),Lb&&Kb||(lb.attrHooks.value={set:function(a,b,c){return lb.nodeName(a,"input")?void(a.defaultValue=b):Db&&Db.set(a,b,c)}}),Kb||(Db={set:function(a,b,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=b+="","value"===d||b===a.getAttribute(d)?b:c}},lb.expr.attrHandle.id=lb.expr.attrHandle.name=lb.expr.attrHandle.coords=function(a,b,d){var e;return d?c:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},lb.valHooks.button={get:function(a,b){var d=a.getAttributeNode(b);return d&&d.specified?d.value:c},set:Db.set},lb.attrHooks.contenteditable={set:function(a,b,c){Db.set(a,""===b?!1:b,c)}},lb.each(["width","height"],function(a,b){lb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),lb.support.hrefNormalized||lb.each(["href","src"],function(a,b){lb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),lb.support.style||(lb.attrHooks.style={get:function(a){return a.style.cssText||c},set:function(a,b){return a.style.cssText=b+""}}),lb.support.optSelected||(lb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),lb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lb.propFix[this.toLowerCase()]=this}),lb.support.enctype||(lb.propFix.enctype="encoding"),lb.each(["radio","checkbox"],function(){lb.valHooks[this]={set:function(a,b){return lb.isArray(b)?a.checked=lb.inArray(lb(a).val(),b)>=0:void 0}},lb.support.checkOn||(lb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Mb=/^(?:input|select|textarea)$/i,Nb=/^key/,Ob=/^(?:mouse|contextmenu)|click/,Pb=/^(?:focusinfocus|focusoutblur)$/,Qb=/^([^.]*)(?:\.(.+)|)$/;lb.event={global:{},add:function(a,b,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=lb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=lb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof lb===X||a&&lb.event.triggered===a.type?c:lb.event.dispatch.apply(l.elem,arguments)},l.elem=a),b=(b||"").match(nb)||[""],i=b.length;i--;)g=Qb.exec(b[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=lb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=lb.event.special[o]||{},m=lb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&lb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),lb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=lb.hasData(a)&&lb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Qb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=lb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||lb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)lb.event.remove(a,n+b[j],c,d,!0);lb.isEmptyObject(k)&&(delete q.handle,lb._removeData(a,"events"))}},trigger:function(a,d,e,f){var g,h,i,j,k,l,m,n=[e||Z],o=jb.call(a,"type")?a.type:a,p=jb.call(a,"namespace")?a.namespace.split("."):[];if(i=l=e=e||Z,3!==e.nodeType&&8!==e.nodeType&&!Pb.test(o+lb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,a=a[lb.expando]?a:new lb.Event(o,"object"==typeof a&&a),a.isTrigger=f?2:3,a.namespace=p.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=c,a.target||(a.target=e),d=null==d?[a]:lb.makeArray(d,[a]),k=lb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!lb.isWindow(e)){for(j=k.delegateType||o,Pb.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Z)&&n.push(l.defaultView||l.parentWindow||b)}for(m=0;(i=n[m++])&&!a.isPropagationStopped();)a.type=m>1?j:k.bindType||o,g=(lb._data(i,"events")||{})[a.type]&&lb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&lb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&a.preventDefault();if(a.type=o,!f&&!a.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&lb.acceptData(e)&&h&&e[o]&&!lb.isWindow(e)){l=e[h],l&&(e[h]=null),lb.event.triggered=o;try{e[o]()}catch(q){}lb.event.triggered=c,l&&(e[h]=l)}return a.result}},dispatch:function(a){a=lb.event.fix(a);var b,d,e,f,g,h=[],i=gb.call(arguments),j=(lb._data(this,"events")||{})[a.type]||[],k=lb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=lb.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((lb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==c&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=b[g],d=e.selector+" ",f[d]===c&&(f[d]=e.needsContext?lb(d,this).index(j)>=0:lb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<b.length&&h.push({elem:this,handlers:b.slice(i)}),h},fix:function(a){if(a[lb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ob.test(e)?this.mouseHooks:Nb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new lb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||Z,f=e.documentElement,d=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||g===c||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return lb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return lb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==c&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=lb.extend(new lb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?lb.event.trigger(e,null,b):lb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},lb.removeEvent=Z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===X&&(a[d]=null),a.detachEvent(d,c))},lb.Event=function(a,b){return this instanceof lb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?j:k):this.type=a,b&&lb.extend(this,b),this.timeStamp=a&&a.timeStamp||lb.now(),void(this[lb.expando]=!0)):new lb.Event(a,b)},lb.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()}},lb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){lb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!lb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),lb.support.submitBubbles||(lb.event.special.submit={setup:function(){return lb.nodeName(this,"form")?!1:void lb.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,d=lb.nodeName(b,"input")||lb.nodeName(b,"button")?b.form:c;d&&!lb._data(d,"submitBubbles")&&(lb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),lb._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&lb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return lb.nodeName(this,"form")?!1:void lb.event.remove(this,"._submit")}}),lb.support.changeBubbles||(lb.event.special.change={setup:function(){return Mb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),lb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),lb.event.simulate("change",this,a,!0)})),!1):void lb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Mb.test(b.nodeName)&&!lb._data(b,"changeBubbles")&&(lb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||lb.event.simulate("change",this.parentNode,a,!0)}),lb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lb.event.remove(this,"._change"),!Mb.test(this.nodeName)}}),lb.support.focusinBubbles||lb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){lb.event.simulate(b,a.target,lb.event.fix(a),!0)};lb.event.special[b]={setup:function(){0===c++&&Z.addEventListener(a,d,!0)},teardown:function(){0===--c&&Z.removeEventListener(a,d,!0)}}}),lb.fn.extend({on:function(a,b,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof b&&(d=d||b,b=c);for(g in a)this.on(g,b,d,a[g],f);return this}if(null==d&&null==e?(e=b,d=b=c):null==e&&("string"==typeof b?(e=d,d=c):(e=d,d=b,b=c)),e===!1)e=k;else if(!e)return this;return 1===f&&(h=e,e=function(a){return lb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=lb.guid++)),this.each(function(){lb.event.add(this,a,e,d,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,lb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(b===!1||"function"==typeof b)&&(d=b,b=c),d===!1&&(d=k),this.each(function(){lb.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){lb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?lb.event.trigger(a,b,c,!0):void 0}});var Rb=/^.[^:#\[\.,]*$/,Sb=/^(?:parents|prev(?:Until|All))/,Tb=lb.expr.match.needsContext,Ub={children:!0,contents:!0,next:!0,prev:!0};lb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(lb(a).filter(function(){for(b=0;e>b;b++)if(lb.contains(d[b],this))return!0}));for(b=0;e>b;b++)lb.find(a,d[b],c);return c=this.pushStack(e>1?lb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=lb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(lb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(n(this,a||[],!0))},filter:function(a){return this.pushStack(n(this,a||[],!1))},is:function(a){return!!n(this,"string"==typeof a&&Tb.test(a)?lb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Tb.test(a)||"string"!=typeof a?lb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&lb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?lb.unique(f):f)},index:function(a){return a?"string"==typeof a?lb.inArray(this[0],lb(a)):lb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?lb(a,b):lb.makeArray(a&&a.nodeType?[a]:a),d=lb.merge(this.get(),c);return this.pushStack(lb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),lb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return lb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return lb.dir(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return lb.dir(a,"nextSibling")},prevAll:function(a){return lb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return lb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return lb.dir(a,"previousSibling",c)},siblings:function(a){return lb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return lb.sibling(a.firstChild)},contents:function(a){return lb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:lb.merge([],a.childNodes)}},function(a,b){lb.fn[a]=function(c,d){var e=lb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=lb.filter(d,e)),this.length>1&&(Ub[a]||(e=lb.unique(e)),Sb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),lb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?lb.find.matchesSelector(d,a)?[d]:[]:lb.find.matches(a,lb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,d){for(var e=[],f=a[b];f&&9!==f.nodeType&&(d===c||1!==f.nodeType||!lb(f).is(d));)1===f.nodeType&&e.push(f),f=f[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Vb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wb=/ jQuery\d+="(?:null|\d+)"/g,Xb=new RegExp("<(?:"+Vb+")[\\s/>]","i"),Yb=/^\s+/,Zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$b=/<([\w:]+)/,_b=/<tbody/i,ac=/<|&#?\w+;/,bc=/<(?:script|style|link)/i,cc=/^(?:checkbox|radio)$/i,dc=/checked\s*(?:[^=]|=\s*.checked.)/i,ec=/^$|\/(?:java|ecma)script/i,fc=/^true\/(.*)/,gc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,hc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ic=o(Z),jc=ic.appendChild(Z.createElement("div"));hc.optgroup=hc.option,hc.tbody=hc.tfoot=hc.colgroup=hc.caption=hc.thead,hc.th=hc.td,lb.fn.extend({text:function(a){return lb.access(this,function(a){return a===c?lb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?lb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||lb.cleanData(v(c)),c.parentNode&&(b&&lb.contains(c.ownerDocument,c)&&s(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&lb.cleanData(v(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&lb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return lb.clone(this,a,b)})},html:function(a){return lb.access(this,function(a){var b=this[0]||{},d=0,e=this.length;if(a===c)return 1===b.nodeType?b.innerHTML.replace(Wb,""):c;if(!("string"!=typeof a||bc.test(a)||!lb.support.htmlSerialize&&Xb.test(a)||!lb.support.leadingWhitespace&&Yb.test(a)||hc[($b.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Zb,"<$1></$2>");try{for(;e>d;d++)b=this[d]||{},1===b.nodeType&&(lb.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=lb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),lb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=eb.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=lb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||lb.support.checkClone)&&dc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=lb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=lb.map(v(i,"script"),q),f=g.length;k>j;j++)e=i,j!==m&&(e=lb.clone(e,!0,!0),f&&lb.merge(g,v(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,lb.map(g,r),j=0;f>j;j++)e=g[j],ec.test(e.type||"")&&!lb._data(e,"globalEval")&&lb.contains(h,e)&&(e.src?lb._evalUrl(e.src):lb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(gc,"")));i=d=null}return this}}),lb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){lb.fn[a]=function(a){for(var c,d=0,e=[],f=lb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),lb(f[d])[b](c),fb.apply(e,c.get());return this.pushStack(e)}}),lb.extend({clone:function(a,b,c){var d,e,f,g,h,i=lb.contains(a.ownerDocument,a);if(lb.support.html5Clone||lb.isXMLDoc(a)||!Xb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(jc.innerHTML=a.outerHTML,jc.removeChild(f=jc.firstChild)),!(lb.support.noCloneEvent&&lb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||lb.isXMLDoc(a)))for(d=v(f),h=v(a),g=0;null!=(e=h[g]);++g)d[g]&&u(e,d[g]);if(b)if(c)for(h=h||v(a),d=d||v(f),g=0;null!=(e=h[g]);g++)t(e,d[g]);else t(a,f);return d=v(f,"script"),d.length>0&&s(d,!i&&v(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=o(b),n=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===lb.type(f))lb.merge(n,f.nodeType?[f]:f);else if(ac.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=($b.exec(f)||["",""])[1].toLowerCase(),k=hc[i]||hc._default,h.innerHTML=k[1]+f.replace(Zb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!lb.support.leadingWhitespace&&Yb.test(f)&&n.push(b.createTextNode(Yb.exec(f)[0])),!lb.support.tbody)for(f="table"!==i||_b.test(f)?"<table>"!==k[1]||_b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)lb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(lb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),lb.support.appendChecked||lb.grep(v(n,"input"),w),p=0;f=n[p++];)if((!d||-1===lb.inArray(f,d))&&(g=lb.contains(f.ownerDocument,f),h=v(m.appendChild(f),"script"),g&&s(h),c))for(e=0;f=h[e++];)ec.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=lb.expando,i=lb.cache,j=lb.support.deleteExpando,k=lb.event.special;null!=(c=a[g]);g++)if((b||lb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?lb.event.remove(c,d):lb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==X?c.removeAttribute(h):c[h]=null,cb.push(e))}},_evalUrl:function(a){return lb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),lb.fn.extend({wrapAll:function(a){if(lb.isFunction(a))return this.each(function(b){lb(this).wrapAll(a.call(this,b))});if(this[0]){var b=lb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(lb.isFunction(a)?function(b){lb(this).wrapInner(a.call(this,b))}:function(){var b=lb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=lb.isFunction(a);return this.each(function(c){lb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){lb.nodeName(this,"body")||lb(this).replaceWith(this.childNodes)}).end()}});var kc,lc,mc,nc=/alpha\([^)]*\)/i,oc=/opacity\s*=\s*([^)]*)/,pc=/^(top|right|bottom|left)$/,qc=/^(none|table(?!-c[ea]).+)/,rc=/^margin/,sc=new RegExp("^("+mb+")(.*)$","i"),tc=new RegExp("^("+mb+")(?!px)[a-z%]+$","i"),uc=new RegExp("^([+-])=("+mb+")","i"),vc={BODY:"block"},wc={position:"absolute",visibility:"hidden",display:"block"},xc={letterSpacing:0,fontWeight:400},yc=["Top","Right","Bottom","Left"],zc=["Webkit","O","Moz","ms"];lb.fn.extend({css:function(a,b){return lb.access(this,function(a,b,d){var e,f,g={},h=0;if(lb.isArray(b)){for(f=lc(a),e=b.length;e>h;h++)g[b[h]]=lb.css(a,b[h],!1,f);return g}return d!==c?lb.style(a,b,d):lb.css(a,b)},a,b,arguments.length>1)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){y(this)?lb(this).show():lb(this).hide()})}}),lb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=mc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=lb.camelCase(b),j=a.style;if(b=lb.cssProps[i]||(lb.cssProps[i]=x(j,i)),h=lb.cssHooks[b]||lb.cssHooks[i],d===c)return h&&"get"in h&&(f=h.get(a,!1,e))!==c?f:j[b];if(g=typeof d,"string"===g&&(f=uc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(lb.css(a,b)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||lb.cssNumber[i]||(d+="px"),lb.support.clearCloneStyle||""!==d||0!==b.indexOf("background")||(j[b]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===c)))try{j[b]=d}catch(k){}}},css:function(a,b,d,e){var f,g,h,i=lb.camelCase(b);return b=lb.cssProps[i]||(lb.cssProps[i]=x(a.style,i)),h=lb.cssHooks[b]||lb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===c&&(g=mc(a,b,e)),"normal"===g&&b in xc&&(g=xc[b]),""===d||d?(f=parseFloat(g),d===!0||lb.isNumeric(f)?f||0:g):g}}),b.getComputedStyle?(lc=function(a){return b.getComputedStyle(a,null)},mc=function(a,b,d){var e,f,g,h=d||lc(a),i=h?h.getPropertyValue(b)||h[b]:c,j=a.style;
return h&&(""!==i||lb.contains(a.ownerDocument,a)||(i=lb.style(a,b)),tc.test(i)&&rc.test(b)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Z.documentElement.currentStyle&&(lc=function(a){return a.currentStyle},mc=function(a,b,d){var e,f,g,h=d||lc(a),i=h?h[b]:c,j=a.style;return null==i&&j&&j[b]&&(i=j[b]),tc.test(i)&&!pc.test(b)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===b?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),lb.each(["height","width"],function(a,b){lb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&qc.test(lb.css(a,"display"))?lb.swap(a,wc,function(){return C(a,b,d)}):C(a,b,d):void 0},set:function(a,c,d){var e=d&&lc(a);return A(a,c,d?B(a,b,d,lb.support.boxSizing&&"border-box"===lb.css(a,"boxSizing",!1,e),e):0)}}}),lb.support.opacity||(lb.cssHooks.opacity={get:function(a,b){return oc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=lb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===lb.trim(f.replace(nc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=nc.test(f)?f.replace(nc,e):f+" "+e)}}),lb(function(){lb.support.reliableMarginRight||(lb.cssHooks.marginRight={get:function(a,b){return b?lb.swap(a,{display:"inline-block"},mc,[a,"marginRight"]):void 0}}),!lb.support.pixelPosition&&lb.fn.position&&lb.each(["top","left"],function(a,b){lb.cssHooks[b]={get:function(a,c){return c?(c=mc(a,b),tc.test(c)?lb(a).position()[b]+"px":c):void 0}}})}),lb.expr&&lb.expr.filters&&(lb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!lb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||lb.css(a,"display"))},lb.expr.filters.visible=function(a){return!lb.expr.filters.hidden(a)}),lb.each({margin:"",padding:"",border:"Width"},function(a,b){lb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+yc[d]+b]=f[d]||f[d-2]||f[0];return e}},rc.test(a)||(lb.cssHooks[a+b].set=A)});var Ac=/%20/g,Bc=/\[\]$/,Cc=/\r?\n/g,Dc=/^(?:submit|button|image|reset|file)$/i,Ec=/^(?:input|select|textarea|keygen)/i;lb.fn.extend({serialize:function(){return lb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=lb.prop(this,"elements");return a?lb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!lb(this).is(":disabled")&&Ec.test(this.nodeName)&&!Dc.test(a)&&(this.checked||!cc.test(a))}).map(function(a,b){var c=lb(this).val();return null==c?null:lb.isArray(c)?lb.map(c,function(a){return{name:b.name,value:a.replace(Cc,"\r\n")}}):{name:b.name,value:c.replace(Cc,"\r\n")}}).get()}}),lb.param=function(a,b){var d,e=[],f=function(a,b){b=lb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===c&&(b=lb.ajaxSettings&&lb.ajaxSettings.traditional),lb.isArray(a)||a.jquery&&!lb.isPlainObject(a))lb.each(a,function(){f(this.name,this.value)});else for(d in a)F(d,a[d],b,f);return e.join("&").replace(Ac,"+")},lb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){lb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),lb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fc,Gc,Hc=lb.now(),Ic=/\?/,Jc=/#.*$/,Kc=/([?&])_=[^&]*/,Lc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nc=/^(?:GET|HEAD)$/,Oc=/^\/\//,Pc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Qc=lb.fn.load,Rc={},Sc={},Tc="*/".concat("*");try{Gc=Y.href}catch(Uc){Gc=Z.createElement("a"),Gc.href="",Gc=Gc.href}Fc=Pc.exec(Gc.toLowerCase())||[],lb.fn.load=function(a,b,d){if("string"!=typeof a&&Qc)return Qc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),lb.isFunction(b)?(d=b,b=c):b&&"object"==typeof b&&(g="POST"),h.length>0&&lb.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){f=arguments,h.html(e?lb("<div>").append(lb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},lb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){lb.fn[b]=function(a){return this.on(b,a)}}),lb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gc,type:"GET",isLocal:Mc.test(Fc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lb.parseJSON,"text xml":lb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?I(I(a,lb.ajaxSettings),b):I(lb.ajaxSettings,a)},ajaxPrefilter:G(Rc),ajaxTransport:G(Sc),ajax:function(a,b){function d(a,b,d,e){var f,l,s,t,v,x=b;2!==u&&(u=2,i&&clearTimeout(i),k=c,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=J(m,w,d)),t=K(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(lb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(lb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(b||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=c,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--lb.active||lb.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=c),b=b||{};var e,f,g,h,i,j,k,l,m=lb.ajaxSetup({},b),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?lb(n):lb.event,p=lb.Deferred(),q=lb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Lc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Gc)+"").replace(Jc,"").replace(Oc,Fc[1]+"//"),m.type=b.method||b.type||m.method||m.type,m.dataTypes=lb.trim(m.dataType||"*").toLowerCase().match(nb)||[""],null==m.crossDomain&&(e=Pc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Fc[1]&&e[2]===Fc[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Fc[3]||("http:"===Fc[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=lb.param(m.data,m.traditional)),H(Rc,m,b,w),2===u)return w;j=m.global,j&&0===lb.active++&&lb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Nc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Ic.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Kc.test(g)?g.replace(Kc,"$1_="+Hc++):g+(Ic.test(g)?"&":"?")+"_="+Hc++)),m.ifModified&&(lb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",lb.lastModified[g]),lb.etag[g]&&w.setRequestHeader("If-None-Match",lb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||b.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Tc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=H(Sc,m,b,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return lb.get(a,b,c,"json")},getScript:function(a,b){return lb.get(a,c,b,"script")}}),lb.each(["get","post"],function(a,b){lb[b]=function(a,d,e,f){return lb.isFunction(d)&&(f=f||e,e=d,d=c),lb.ajax({url:a,type:b,dataType:f,data:d,success:e})}}),lb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return lb.globalEval(a),a}}}),lb.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),lb.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=Z.head||lb("head")[0]||Z.documentElement;return{send:function(c,e){b=Z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(c,!0)}}}});var Vc=[],Wc=/(=)\?(?=&|$)|\?\?/;lb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Vc.pop()||lb.expando+"_"+Hc++;return this[a]=!0,a}}),lb.ajaxPrefilter("json jsonp",function(a,d,e){var f,g,h,i=a.jsonp!==!1&&(Wc.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wc.test(a.data)&&"data");return i||"jsonp"===a.dataTypes[0]?(f=a.jsonpCallback=lb.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,i?a[i]=a[i].replace(Wc,"$1"+f):a.jsonp!==!1&&(a.url+=(Ic.test(a.url)?"&":"?")+a.jsonp+"="+f),a.converters["script json"]=function(){return h||lb.error(f+" was not called"),h[0]},a.dataTypes[0]="json",g=b[f],b[f]=function(){h=arguments},e.always(function(){b[f]=g,a[f]&&(a.jsonpCallback=d.jsonpCallback,Vc.push(f)),h&&lb.isFunction(g)&&g(h[0]),h=g=c}),"script"):void 0});var Xc,Yc,Zc=0,$c=b.ActiveXObject&&function(){var a;for(a in Xc)Xc[a](c,!0)};lb.ajaxSettings.xhr=b.ActiveXObject?function(){return!this.isLocal&&L()||M()}:L,Yc=lb.ajaxSettings.xhr(),lb.support.cors=!!Yc&&"withCredentials"in Yc,Yc=lb.support.ajax=!!Yc,Yc&&lb.ajaxTransport(function(a){if(!a.crossDomain||lb.support.cors){var d;return{send:function(e,f){var g,h,i=a.xhr();if(a.username?i.open(a.type,a.url,a.async,a.username,a.password):i.open(a.type,a.url,a.async),a.xhrFields)for(h in a.xhrFields)i[h]=a.xhrFields[h];a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(a.hasContent&&a.data||null),d=function(b,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=c,g&&(i.onreadystatechange=lb.noop,$c&&delete Xc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},a.async?4===i.readyState?setTimeout(d):(g=++Zc,$c&&(Xc||(Xc={},lb(b).unload($c)),Xc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(c,!0)}}}});var _c,ad,bd=/^(?:toggle|show|hide)$/,cd=new RegExp("^(?:([+-])=|)("+mb+")([a-z%]*)$","i"),dd=/queueHooks$/,ed=[R],fd={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cd.exec(b),f=e&&e[3]||(lb.cssNumber[a]?"":"px"),g=(lb.cssNumber[a]||"px"!==f&&+d)&&cd.exec(lb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,lb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};lb.Animation=lb.extend(P,{tweener:function(a,b){lb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fd[c]=fd[c]||[],fd[c].unshift(b)},prefilter:function(a,b){b?ed.unshift(a):ed.push(a)}}),lb.Tween=S,S.prototype={constructor:S,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(lb.cssNumber[c]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var b,c=S.propHooks[this.prop];return this.pos=b=this.options.duration?lb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=lb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){lb.fx.step[a.prop]?lb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[lb.cssProps[a.prop]]||lb.cssHooks[a.prop])?lb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},lb.each(["toggle","show","hide"],function(a,b){var c=lb.fn[b];lb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(T(b,!0),a,d,e)}}),lb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(y).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=lb.isEmptyObject(a),f=lb.speed(b,c,d),g=function(){var b=P(this,lb.extend({},a),f);(e||lb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=b,b=a,a=c),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=lb.timers,g=lb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&dd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&lb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=lb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=lb.timers,g=d?d.length:0;for(c.finish=!0,lb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),lb.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){lb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),lb.speed=function(a,b,c){var d=a&&"object"==typeof a?lb.extend({},a):{complete:c||!c&&b||lb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!lb.isFunction(b)&&b};return d.duration=lb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in lb.fx.speeds?lb.fx.speeds[d.duration]:lb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){lb.isFunction(d.old)&&d.old.call(this),d.queue&&lb.dequeue(this,d.queue)},d},lb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},lb.timers=[],lb.fx=S.prototype.init,lb.fx.tick=function(){var a,b=lb.timers,d=0;for(_c=lb.now();d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||lb.fx.stop(),_c=c},lb.fx.timer=function(a){a()&&lb.timers.push(a)&&lb.fx.start()},lb.fx.interval=13,lb.fx.start=function(){ad||(ad=setInterval(lb.fx.tick,lb.fx.interval))},lb.fx.stop=function(){clearInterval(ad),ad=null},lb.fx.speeds={slow:600,fast:200,_default:400},lb.fx.step={},lb.expr&&lb.expr.filters&&(lb.expr.filters.animated=function(a){return lb.grep(lb.timers,function(b){return a===b.elem}).length}),lb.fn.offset=function(a){if(arguments.length)return a===c?this:this.each(function(b){lb.offset.setOffset(this,a,b)});var b,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return b=g.documentElement,lb.contains(b,f)?(typeof f.getBoundingClientRect!==X&&(e=f.getBoundingClientRect()),d=U(g),{top:e.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):e},lb.offset={setOffset:function(a,b,c){var d=lb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=lb(a),h=g.offset(),i=lb.css(a,"top"),j=lb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&lb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),lb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},lb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===lb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),lb.nodeName(a[0],"html")||(c=a.offset()),c.top+=lb.css(a[0],"borderTopWidth",!0),c.left+=lb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-lb.css(d,"marginTop",!0),left:b.left-c.left-lb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||$;a&&!lb.nodeName(a,"html")&&"static"===lb.css(a,"position");)a=a.offsetParent;return a||$})}}),lb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);lb.fn[a]=function(e){return lb.access(this,function(a,e,f){var g=U(a);return f===c?g?b in g?g[b]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?lb(g).scrollLeft():f,d?f:lb(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),lb.each({Height:"height",Width:"width"},function(a,b){lb.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,e){lb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return lb.access(this,function(b,d,e){var f;return lb.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):e===c?lb.css(b,d,h):lb.style(b,d,e,h)},b,g?e:c,g,null)}})}),lb.fn.size=function(){return this.length},lb.fn.andSelf=lb.fn.addBack,"object"==typeof a&&a&&"object"==typeof a.exports?a.exports=lb:(b.jQuery=b.$=lb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return lb}))}(window)},{}],P8XPpL:[function(){!function(a,b){L.drawVersion="0.2.2",L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}},L.Draw={},L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(a,b){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,b&&b.shapeOptions&&(b.shapeOptions=L.Util.extend({},this.options.shapeOptions,b.shapeOptions)),L.Util.extend(this.options,b)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire("draw:drawstart",{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this.fire("disabled",{handler:this.type}),this._map.fire("draw:drawstop",{layerType:this.type}))},addHooks:function(){this._map&&(L.DomUtil.disableTextSelection(),this._tooltip=new L.Tooltip(this._map),L.DomEvent.addListener(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.removeListener(this._container,"keyup",this._cancelDrawing))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire("draw:created",{layer:a,layerType:this.type})},_cancelDrawing:function(a){27===a.keyCode&&this.disable()}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),guidelineDistance:20,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,showLength:!0,zIndexOffset:2e3},initialize:function(a,b){this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,b&&b.drawError&&(b.drawError=L.Util.extend({},this.options.drawError,b.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mousemove",this._onMouseMove,this).off("zoomend",this._onZoomEnd,this)},_finishShape:function(){var a=this._poly.newLatLngIntersects(this._poly.getLatLngs()[0],!0);return!this.options.allowIntersection&&a||!this._shapeIsValid()?void this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),void(this.options.repeatMode&&this.enable()))},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._updateGuide()},_onMouseMove:function(a){var b=a.layerPoint,c=a.latlng;this._currentLatLng=c,this._updateTooltip(c),this._updateGuide(b),this._mouseMarker.setLatLng(c),L.DomEvent.preventDefault(a.originalEvent)},_onClick:function(a){var b=a.target.getLatLng(),c=this._markers.length;return c>0&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(b)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(b)),this._poly.addLatLng(b),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._updateFinishHandler(),this._vertexAdded(b),this._clearGuides(),void this._updateTooltip())},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var b=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(b),b},_updateGuide:function(a){var b=this._markers.length;b>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[b-1].getLatLng()),a))},_updateTooltip:function(a){var b=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(b)},_drawGuide:function(a,b){var c,d,e,f,g=Math.floor(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)));for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane)),c=this.options.guidelineDistance;g>c;c+=this.options.guidelineDistance)d=c/g,e={x:Math.floor(a.x*(1-d)+d*b.x),y:Math.floor(a.y*(1-d)+d*b.y)},f=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),f.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(f,e)},_updateGuideColor:function(a){if(this._guidesContainer)for(var b=0,c=this._guidesContainer.childNodes.length;c>b;b++)this._guidesContainer.childNodes[b].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,b,c=this.options.showLength;return 0===this._markers.length?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(b=c?this._getMeasurementString():"",a=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:b}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:b}),a},_getMeasurementString:function(){var a,b=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=this._measurementRunningTotal+b.distanceTo(c),L.GeometryUtil.readableDistance(a,this.options.metric)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_vertexAdded:function(a){1===this._markers.length?this._measurementRunningTotal=0:this._measurementRunningTotal+=a.distanceTo(this._markers[this._markers.length-2].getLatLng())},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(a,b){L.Draw.Polyline.prototype.initialize.call(this,a,b),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;1===a&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,b;return 0===this._markers.length?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?a=L.drawLocal.draw.handlers.polygon.tooltip.cont:(a=L.drawLocal.draw.handlers.polygon.tooltip.end,b=this._getMeasurementString()),{text:a,subtext:b}},_getMeasurementString:function(){var a=this._area;return a?L.GeometryUtil.readableArea(a,this.options.metric):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexAdded:function(){if(!this.options.allowIntersection&&this.options.showArea){var a=this._poly.getLatLngs();this._area=L.GeometryUtil.geodesicArea(a)}},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,b){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this),L.DomEvent.off(b,"mouseup",this._onMouseUp),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(b,"mouseup",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._isDrawing&&(this._tooltip.updateContent({text:this._endLabelText}),this._drawShape(b))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(a,b){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0},initialize:function(a,b){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(a)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);
L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var b,c=a.latlng,d=(this.options.metric,this.options.showRadius),e=this.options.metric;this._tooltip.updatePosition(c),this._isDrawing&&(this._drawShape(c),b=this._shape.getRadius().toFixed(1),this._tooltip.updateContent({text:this._endLabelText,subtext:d?"Radius: "+L.GeometryUtil.readableDistance(b,e):""}))}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,b){this.type=L.Draw.Marker.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._mouseMarker.setLatLng(b),this._marker?this._marker.setLatLng(b):(this._marker=new L.Marker(b,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_fireCreatedEvent:function(){var a=new L.Marker(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(a,b){this._poly=a,L.setOptions(this,b)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,b,c,d,e=this._poly._latlngs;for(a=0,c=e.length;c>a;a++)d=this._createMarker(e[a],a),d.on("click",this._onMarkerClick,this),this._markers.push(d);var f,g;for(a=0,b=c-1;c>a;b=a++)(0!==a||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[b],g=this._markers[a],this._createMiddleMarker(f,g),this._updatePrevNext(f,g))},_createMarker:function(a,b){var c=new L.Marker(a,{draggable:!0,icon:this.options.icon});return c._origLatLng=a,c._index=b,c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(c),c},_removeMarker:function(a){var b=a._index;this._markerGroup.removeLayer(a),this._markers.splice(b,1),this._poly.spliceLatLngs(b,1),this._updateIndexes(b,-1),a.off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("click",this._onMarkerClick,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit")},_onMarkerDrag:function(a){var b=a.target;L.extend(b._origLatLng,b._latlng),b._middleLeft&&b._middleLeft.setLatLng(this._getMiddleLatLng(b._prev,b)),b._middleRight&&b._middleRight.setLatLng(this._getMiddleLatLng(b,b._next)),this._poly.redraw()},_onMarkerClick:function(a){if(!(this._poly._latlngs.length<3)){var b=a.target;this._removeMarker(b),this._updatePrevNext(b._prev,b._next),b._middleLeft&&this._markerGroup.removeLayer(b._middleLeft),b._middleRight&&this._markerGroup.removeLayer(b._middleRight),b._prev&&b._next?this._createMiddleMarker(b._prev,b._next):b._prev?b._next||(b._prev._middleRight=null):b._next._middleLeft=null,this._fireEdit()}},_updateIndexes:function(a,b){this._markerGroup.eachLayer(function(c){c._index>a&&(c._index+=b)})},_createMiddleMarker:function(a,b){var c,d,e,f=this._getMiddleLatLng(a,b),g=this._createMarker(f);g.setOpacity(.6),a._middleRight=b._middleLeft=g,d=function(){var d=b._index;g._index=d,g.off("click",c,this).on("click",this._onMarkerClick,this),f.lat=g.getLatLng().lat,f.lng=g.getLatLng().lng,this._poly.spliceLatLngs(d,0,f),this._markers.splice(d,0,g),g.setOpacity(1),this._updateIndexes(d,1),b._index++,this._updatePrevNext(a,g),this._updatePrevNext(g,b)},e=function(){g.off("dragstart",d,this),g.off("dragend",e,this),this._createMiddleMarker(a,g),this._createMiddleMarker(g,b)},c=function(){d.call(this),e.call(this),this._fireEdit()},g.on("click",c,this).on("dragstart",d,this).on("dragend",e,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(a,b){a&&(a._next=b),b&&(b._prev=a)},_getMiddleLatLng:function(a,b){var c=this._poly._map,d=c.latLngToLayerPoint(a.getLatLng()),e=c.latLngToLayerPoint(b.getLatLng());return c.layerPointToLatLng(d._add(e)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"})},initialize:function(a,b){this._shape=a,L.Util.setOptions(this,b)},addHooks:function(){this._shape._map&&(this._map=this._shape._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup))},removeHooks:function(){if(this._shape._map){this._unbindMarker(this._moveMarker);for(var a=0,b=this._resizeMarkers.length;b>a;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,b){var c=new L.Marker(a,{draggable:!0,icon:b,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this)},_onMarkerDragStart:function(a){var b=a.target;b.setOpacity(0)},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var b=a.target,c=b.getLatLng();b===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw()},_onMarkerDragEnd:function(a){var b=a.target;b.setOpacity(1),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),b=a.getCenter();this._moveMarker=this._createMarker(b,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var b=0,c=a.length;c>b;b++)this._resizeMarkers.push(this._createMarker(a[b],this.options.resizeIcon)),this._resizeMarkers[b]._cornerIndex=b},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var b=this._getCorners(),c=a.target,d=c._cornerIndex;this._oppositeCorner=b[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(a){var b,c,d=a.target;d===this._moveMarker&&(b=this._shape.getBounds(),c=b.getCenter(),d.setLatLng(c)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var b,c=this._shape.getLatLngs(),d=this._shape.getBounds(),e=d.getCenter(),f=[],g=0,h=c.length;h>g;g++)b=[c[g].lat-e.lat,c[g].lng-e.lng],f.push([a.lat+b[0],a.lng+b[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers()},_resize:function(a){var b;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),b=this._shape.getBounds(),this._moveMarker.setLatLng(b.getCenter())},_getCorners:function(){var a=this._shape.getBounds(),b=a.getNorthWest(),c=a.getNorthEast(),d=a.getSouthEast(),e=a.getSouthWest();return[b,c,d,e]},_toggleCornerMarkers:function(a){for(var b=0,c=this._resizeMarkers.length;c>b;b++)this._resizeMarkers[b].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),b=0,c=this._resizeMarkers.length;c>b;b++)this._resizeMarkers[b].setLatLng(a[b])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var a=this._shape.getLatLng(),b=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(b,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var b=this._shape._radius*Math.cos(Math.PI/4),c=this._map.project(a);return this._map.unproject([c.x+b,c.y-b])},_move:function(a){var b=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(b),this._shape.setLatLng(a)},_resize:function(a){var b=this._moveMarker.getLatLng(),c=b.distanceTo(a);this._shape.setRadius(c)}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.LatLngUtil={cloneLatLngs:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.cloneLatLng(a[c]));return b},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},L.GeometryUtil={geodesicArea:function(a){var b,c,d=a.length,e=0,f=L.LatLng.DEG_TO_RAD;if(d>2){for(var g=0;d>g;g++)b=a[g],c=a[(g+1)%d],e+=(c.lng-b.lng)*f*(2+Math.sin(b.lat*f)+Math.sin(c.lat*f));e=6378137*e*6378137/2}return Math.abs(e)},readableArea:function(a,b){var c;return b?c=a>=1e4?(1e-4*a).toFixed(2)+" ha":a.toFixed(2)+" m&sup2;":(a*=.836127,c=a>=3097600?(a/3097600).toFixed(2)+" mi&sup2;":a>=4840?(a/4840).toFixed(2)+" acres":Math.ceil(a)+" yd&sup2;"),c},readableDistance:function(a,b){var c;return b?c=a>1e3?(a/1e3).toFixed(2)+" km":Math.ceil(a)+" m":(a*=1.09361,c=a>1760?(a/1760).toFixed(2)+" miles":Math.ceil(a)+" yd"),c}},L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,b,c,d){return this._checkCounterclockwise(a,c,d)!==this._checkCounterclockwise(b,c,d)&&this._checkCounterclockwise(a,b,c)!==this._checkCounterclockwise(a,b,d)},_checkCounterclockwise:function(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}}),L.Polyline.include({intersects:function(){var a,b,c,d=this._originalPoints,e=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=e-1;a>=3;a--)if(b=d[a-1],c=d[a],this._lineSegmentsIntersectsRange(b,c,a-2))return!0;return!1},newLatLngIntersects:function(a,b){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(a),b):!1},newPointIntersects:function(a,b){var c=this._originalPoints,d=c?c.length:0,e=c?c[d-1]:null,f=d-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(e,a,f,b?1:0)},_tooFewPointsForIntersection:function(a){var b=this._originalPoints,c=b?b.length:0;return c+=a||0,!this._originalPoints||3>=c},_lineSegmentsIntersectsRange:function(a,b,c,d){var e,f,g=this._originalPoints;d=d||0;for(var h=c;h>d;h--)if(e=g[h-1],f=g[h],L.LineUtil.segmentsIntersect(a,b,e,f))return!0;return!1}}),L.Polygon.include({intersects:function(){var a,b,c,d,e,f=this._originalPoints;return this._tooFewPointsForIntersection()?!1:(a=L.Polyline.prototype.intersects.call(this))?!0:(b=f.length,c=f[0],d=f[b-1],e=b-2,this._lineSegmentsIntersectsRange(d,c,e,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<="0.5.1")throw new Error("Leaflet.draw 0.2.0+ requires Leaflet 0.6.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var b,c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),b=L.stamp(c),this._toolbars[b]=c,this._toolbars[b].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),b=L.stamp(c),this._toolbars[b]=c,this._toolbars[b].on("enable",this._toolbarEnabled,this))},onAdd:function(a){var b,c=L.DomUtil.create("div","leaflet-draw"),d=!1,e="leaflet-draw-toolbar-top";for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(b=this._toolbars[f].addToolbar(a),d||(L.DomUtil.hasClass(b,e)||L.DomUtil.addClass(b.childNodes[0],e),d=!0),c.appendChild(b));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var b in this._toolbars)this._toolbars[b]instanceof L.DrawToolbar&&this._toolbars[b].setOptions(a)},_toolbarEnabled:function(a){var b=""+L.stamp(a.target);for(var c in this._toolbars)this._toolbars.hasOwnProperty(c)&&c!==b&&this._toolbars[c].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var b=0,c=this._actionButtons.length;c>b;b++)this._disposeButton(this._actionButtons[b].button,this._actionButtons[b].callback);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,b,c,d,e){var f=a.type;this._modes[f]={},this._modes[f].handler=a,this._modes[f].button=this._createButton({title:e,className:d+"-"+f,container:b,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=c,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(a){var b=L.DomUtil.create("a",a.className||"",a.container);return b.href="#",a.text&&(b.innerHTML=a.text),a.title&&(b.title=a.title),L.DomEvent.on(b,"click",L.DomEvent.stopPropagation).on(b,"mousedown",L.DomEvent.stopPropagation).on(b,"dblclick",L.DomEvent.stopPropagation).on(b,"click",L.DomEvent.preventDefault).on(b,"click",a.callback,a.context),b},_disposeButton:function(a,b){L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,"click",b)},_handlerActivated:function(a){this._activeMode&&this._activeMode.handler.enabled()&&this._activeMode.handler.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){for(var b,c,d=L.DomUtil.create("ul","leaflet-draw-actions"),e=a.length,f=0;e>f;f++)b=L.DomUtil.create("li","",d),c=this._createButton({title:a[f].title,text:a[f].text,container:b,callback:a[f].callback,context:a[f].context}),this._actionButtons.push({button:c,callback:a[f].callback});return d},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,b=this._lastButtonIndex,c=26,d=1,e=a*c+a*d-1;this._actionsContainer.style.top=e+"px",0===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===b&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}}),L.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1},dispose:function(){this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",0!==a.subtext.length||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",this):this},updatePosition:function(a){var b=this._map.latLngToLayerPoint(a);return this._container&&L.DomUtil.setPosition(this._container,b),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this}}),L.DrawToolbar=L.Toolbar.extend({options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(a){for(var b in this.options)this.options.hasOwnProperty(b)&&a[b]&&(a[b]=L.extend({},this.options[b],a[b]));L.Toolbar.prototype.initialize.call(this,a)},addToolbar:function(a){var b=L.DomUtil.create("div","leaflet-draw-section"),c=0,d="leaflet-draw-draw";return this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this.options.polyline&&this._initModeHandler(new L.Draw.Polyline(a,this.options.polyline),this._toolbarContainer,c++,d,L.drawLocal.draw.toolbar.buttons.polyline),this.options.polygon&&this._initModeHandler(new L.Draw.Polygon(a,this.options.polygon),this._toolbarContainer,c++,d,L.drawLocal.draw.toolbar.buttons.polygon),this.options.rectangle&&this._initModeHandler(new L.Draw.Rectangle(a,this.options.rectangle),this._toolbarContainer,c++,d,L.drawLocal.draw.toolbar.buttons.rectangle),this.options.circle&&this._initModeHandler(new L.Draw.Circle(a,this.options.circle),this._toolbarContainer,c++,d,L.drawLocal.draw.toolbar.buttons.circle),this.options.marker&&this._initModeHandler(new L.Draw.Marker(a,this.options.marker),this._toolbarContainer,c++,d,L.drawLocal.draw.toolbar.buttons.marker),this._lastButtonIndex=--c,this._actionsContainer=this._createActions([{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]),b.appendChild(this._toolbarContainer),b.appendChild(this._actionsContainer),b},setOptions:function(a){L.setOptions(this,a);for(var b in this._modes)this._modes.hasOwnProperty(b)&&a.hasOwnProperty(b)&&this._modes[b].handler.setOptions(a[b])}}),L.EditToolbar=L.Toolbar.extend({options:{edit:{selectedPathOptions:{color:"#fe57a1",opacity:.6,dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1}},remove:{},featureGroup:null},initialize:function(a){a.edit&&("undefined"==typeof a.edit.selectedPathOptions&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit=L.extend({},this.options.edit,a.edit)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},addToolbar:function(a){var b=L.DomUtil.create("div","leaflet-draw-section"),c=0,d="leaflet-draw-edit",e=this.options.featureGroup;return this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,this.options.edit&&this._initModeHandler(new L.EditToolbar.Edit(a,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions}),this._toolbarContainer,c++,d,L.drawLocal.edit.toolbar.buttons.edit),this.options.remove&&this._initModeHandler(new L.EditToolbar.Delete(a,{featureGroup:e}),this._toolbarContainer,c++,d,L.drawLocal.edit.toolbar.buttons.remove),this._lastButtonIndex=--c,this._actionsContainer=this._createActions([{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]),b.appendChild(this._toolbarContainer),b.appendChild(this._actionsContainer),this._checkDisabled(),e.on("layeradd layerremove",this._checkDisabled,this),b},removeToolbar:function(){L.Toolbar.prototype.removeToolbar.call(this),this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode.handler.disable()},_checkDisabled:function(){var a,b=this.options.featureGroup,c=0===b.getLayers().length;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,L.DomUtil.toggleClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,L.DomUtil.toggleClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.DomUtil.toggleClass||L.Util.extend(L.DomUtil,{toggleClass:function(a,b){this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),this._selectedPathOptions=b.selectedPathOptions,this._featureGroup=b.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this),this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}))},disable:function(){this._enabled&&(this.fire("disabled",{handler:this.type}),this._map.fire("draw:editstop",{handler:this.type}),this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this))},addHooks:function(){this._map&&(this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(b){b.edited&&(a.addLayer(b),b.edited=!1)}),this._map.fire("draw:edited",{layers:a})},_backupLayer:function(a){var b=L.Util.stamp(a);this._uneditedLayerProps[b]||(this._uneditedLayerProps[b]=a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?{latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?{latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:{latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())})},_revertLayer:function(a){var b=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(b)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[b].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[b].latlng),a.setRadius(this._uneditedLayerProps[b].radius)):a.setLatLng(this._uneditedLayerProps[b].latlng))},_toggleMarkerHighlight:function(a){if(a._icon){var b=a._icon;b.style.display="none",L.DomUtil.hasClass(b,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,-4)):(L.DomUtil.addClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,4)),b.style.display=""}},_offsetMarker:function(a,b){var c=parseInt(a.style.marginTop,10)-b,d=parseInt(a.style.marginLeft,10)-b;a.style.marginTop=c+"px",a.style.marginLeft=d+"px"},_enableLayerEdit:function(a){var b,c=a.layer||a.target||a,d=c instanceof L.Marker;(!d||c._icon)&&(this._backupLayer(c),this._selectedPathOptions&&(b=L.Util.extend({},this._selectedPathOptions),d?this._toggleMarkerHighlight(c):(c.options.previousOptions=c.options,c instanceof L.Circle||c instanceof L.Polygon||c instanceof L.Rectangle||(b.fill=!1),c.setStyle(b))),d?(c.dragging.enable(),c.on("dragend",this._onMarkerDragEnd)):c.editing.enable())},_disableLayerEdit:function(a){var b=a.layer||a.target||a;b.edited=!1,this._selectedPathOptions&&(b instanceof L.Marker?this._toggleMarkerHighlight(b):(b.setStyle(b.options.previousOptions),delete b.options.previousOptions)),b instanceof L.Marker?(b.dragging.disable(),b.off("dragend",this._onMarkerDragEnd,this)):b.editing.disable()},_onMarkerDragEnd:function(a){var b=a.target;b.edited=!0},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,b),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this),this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),this.fire("disabled",{handler:this.type}),this._map.fire("draw:editstop",{handler:this.type}))},addHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.layerGroup,this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a)},this)},save:function(){this._map.fire("draw:deleted",{layers:this._deletedLayers})},_enableLayerDelete:function(a){var b=a.layer||a.target||a;b.on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var b=a.layer||a.target||a;b.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(b)},_removeLayer:function(a){var b=a.layer||a.target||a;this._deletableLayers.removeLayer(b),this._deletedLayers.addLayer(b)},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(this,document)},{}],X317Tq:[function(require,a){!function(b,c,d){var e=b.L,f={};f.version="0.6.4","object"==typeof a&&"object"==typeof a.exports?a.exports=f:"function"==typeof define&&define.amd&&define(f),f.noConflict=function(){return b.L=e,this},b.L=f,f.Util={extend:function(a){var b,c,d,e,f=Array.prototype.slice.call(arguments,1);for(c=0,d=f.length;d>c;c++){e=f[c]||{};for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])}return a},bind:function(a,b){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},stamp:function(){var a=0,b="_leaflet_id";return function(c){return c[b]=c[b]||++a,c[b]}}(),invokeEach:function(a,b,c){var d,e;if("object"==typeof a){e=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(c,[d,a[d]].concat(e));return!0}return!1},limitExecByInterval:function(a,b,c){var d,e;return function f(){var g=arguments;return d?void(e=!0):(d=!0,setTimeout(function(){d=!1,e&&(f.apply(c,g),e=!1)},b),void a.apply(c,g))}},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return f.Util.trim(a).split(/\s+/)},setOptions:function(a,b){return a.options=f.extend({},a.options,b),a.options},getParamString:function(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){var e=b[c];if(e===d)throw new Error("No value provided for variable "+a);return"function"==typeof e&&(e=e(b)),e})},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function a(a){var c,d,e=["webkit","moz","o","ms"];for(c=0;c<e.length&&!d;c++)d=b[e[c]+a];return d}function c(a){var c=+new Date,e=Math.max(0,16-(c-d));return d=c+e,b.setTimeout(a,e)}var d=0,e=b.requestAnimationFrame||a("RequestAnimationFrame")||c,g=b.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){b.clearTimeout(a)};f.Util.requestAnimFrame=function(a,d,g,h){return a=f.bind(a,d),g&&e===c?void a():e.call(b,a,h)},f.Util.cancelAnimFrame=function(a){a&&g.call(b,a)}}(),f.extend=f.Util.extend,f.bind=f.Util.bind,f.stamp=f.Util.stamp,f.setOptions=f.Util.setOptions,f.Class=function(){},f.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()
},c=function(){};c.prototype=this.prototype;var d=new c;d.constructor=b,b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&(b[e]=this[e]);a.statics&&(f.extend(b,a.statics),delete a.statics),a.includes&&(f.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes),a.options&&d.options&&(a.options=f.extend({},d.options,a.options)),f.extend(d,a),d._initHooks=[];var g=this;return b.__super__=g.prototype,d.callInitHooks=function(){if(!this._initHooksCalled){g.prototype.callInitHooks&&g.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b},f.Class.include=function(a){f.extend(this.prototype,a)},f.Class.mergeOptions=function(a){f.extend(this.prototype.options,a)},f.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c)};var g="_leaflet_events";f.Mixin={},f.Mixin.Events={addEventListener:function(a,b,c){if(f.Util.invokeEach(a,this.addEventListener,this,b,c))return this;var d,e,h,i,j,k,l,m=this[g]=this[g]||{},n=c&&f.stamp(c);for(a=f.Util.splitWords(a),d=0,e=a.length;e>d;d++)h={action:b,context:c||this},i=a[d],c?(j=i+"_idx",k=j+"_len",l=m[j]=m[j]||{},l[n]||(l[n]=[],m[k]=(m[k]||0)+1),l[n].push(h)):(m[i]=m[i]||[],m[i].push(h));return this},hasEventListeners:function(a){var b=this[g];return!!b&&(a in b&&b[a].length>0||a+"_idx"in b&&b[a+"_idx_len"]>0)},removeEventListener:function(a,b,c){if(!this[g])return this;if(!a)return this.clearAllEventListeners();if(f.Util.invokeEach(a,this.removeEventListener,this,b,c))return this;var d,e,h,i,j,k,l,m,n,o=this[g],p=c&&f.stamp(c);for(a=f.Util.splitWords(a),d=0,e=a.length;e>d;d++)if(h=a[d],k=h+"_idx",l=k+"_len",m=o[k],b){if(i=c&&m?m[p]:o[h]){for(j=i.length-1;j>=0;j--)i[j].action!==b||c&&i[j].context!==c||(n=i.splice(j,1),n[0].action=f.Util.falseFn);c&&m&&0===i.length&&(delete m[p],o[l]--)}}else delete o[h],delete o[k];return this},clearAllEventListeners:function(){return delete this[g],this},fireEvent:function(a,b){if(!this.hasEventListeners(a))return this;var c,d,e,h,i,j=f.Util.extend({},b,{type:a,target:this}),k=this[g];if(k[a])for(c=k[a].slice(),d=0,e=c.length;e>d;d++)c[d].action.call(c[d].context||this,j);h=k[a+"_idx"];for(i in h)if(c=h[i].slice())for(d=0,e=c.length;e>d;d++)c[d].action.call(c[d].context||this,j);return this},addOneTimeEventListener:function(a,b,c){if(f.Util.invokeEach(a,this.addOneTimeEventListener,this,b,c))return this;var d=f.bind(function(){this.removeEventListener(a,b,c).removeEventListener(a,d,c)},this);return this.addEventListener(a,b,c).addEventListener(a,d,c)}},f.Mixin.Events.on=f.Mixin.Events.addEventListener,f.Mixin.Events.off=f.Mixin.Events.removeEventListener,f.Mixin.Events.once=f.Mixin.Events.addOneTimeEventListener,f.Mixin.Events.fire=f.Mixin.Events.fireEvent,function(){var a=!!b.ActiveXObject,e=a&&!b.XMLHttpRequest,g=a&&!c.querySelector,h=a&&!c.addEventListener,i=navigator.userAgent.toLowerCase(),j=-1!==i.indexOf("webkit"),k=-1!==i.indexOf("chrome"),l=-1!==i.indexOf("phantom"),m=-1!==i.indexOf("android"),n=-1!==i.search("android [23]"),o=typeof orientation!=d+"",p=b.navigator&&b.navigator.msPointerEnabled&&b.navigator.msMaxTouchPoints,q="devicePixelRatio"in b&&b.devicePixelRatio>1||"matchMedia"in b&&b.matchMedia("(min-resolution:144dpi)")&&b.matchMedia("(min-resolution:144dpi)").matches,r=c.documentElement,s=a&&"transition"in r.style,t="WebKitCSSMatrix"in b&&"m11"in new b.WebKitCSSMatrix,u="MozPerspective"in r.style,v="OTransition"in r.style,w=!b.L_DISABLE_3D&&(s||t||u||v)&&!l,x=!b.L_NO_TOUCH&&!l&&function(){var a="ontouchstart";if(p||a in r)return!0;var b=c.createElement("div"),d=!1;return b.setAttribute?(b.setAttribute(a,"return;"),"function"==typeof b[a]&&(d=!0),b.removeAttribute(a),b=null,d):!1}();f.Browser={ie:a,ie6:e,ie7:g,ielt9:h,webkit:j,android:m,android23:n,chrome:k,ie3d:s,webkit3d:t,gecko3d:u,opera3d:v,any3d:w,mobile:o,mobileWebkit:o&&j,mobileWebkit3d:o&&t,mobileOpera:o&&b.opera,touch:x,msTouch:p,retina:q}}(),f.Point=function(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b},f.Point.prototype={clone:function(){return new f.Point(this.x,this.y)},add:function(a){return this.clone()._add(f.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(f.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(a){a=f.point(a);var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return a=f.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=f.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+f.Util.formatNum(this.x)+", "+f.Util.formatNum(this.y)+")"}},f.point=function(a,b,c){return a instanceof f.Point?a:f.Util.isArray(a)?new f.Point(a[0],a[1]):a===d||null===a?a:new f.Point(a,b,c)},f.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},f.Bounds.prototype={extend:function(a){return a=f.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new f.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new f.Point(this.min.x,this.max.y)},getTopRight:function(){return new f.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return a="number"==typeof a[0]||a instanceof f.Point?f.point(a):f.bounds(a),a instanceof f.Bounds?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=f.bounds(a);var b=this.min,c=this.max,d=a.min,e=a.max,g=e.x>=b.x&&d.x<=c.x,h=e.y>=b.y&&d.y<=c.y;return g&&h},isValid:function(){return!(!this.min||!this.max)}},f.bounds=function(a,b){return!a||a instanceof f.Bounds?a:new f.Bounds(a,b)},f.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d},f.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new f.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}},f.DomUtil={get:function(a){return"string"==typeof a?c.getElementById(a):a},getStyle:function(a,b){var d=a.style[b];if(!d&&a.currentStyle&&(d=a.currentStyle[b]),(!d||"auto"===d)&&c.defaultView){var e=c.defaultView.getComputedStyle(a,null);d=e?e[b]:null}return"auto"===d?null:d},getViewportOffset:function(a){var b,d=0,e=0,g=a,h=c.body,i=c.documentElement,j=f.Browser.ie7;do{if(d+=g.offsetTop||0,e+=g.offsetLeft||0,d+=parseInt(f.DomUtil.getStyle(g,"borderTopWidth"),10)||0,e+=parseInt(f.DomUtil.getStyle(g,"borderLeftWidth"),10)||0,b=f.DomUtil.getStyle(g,"position"),g.offsetParent===h&&"absolute"===b)break;if("fixed"===b){d+=h.scrollTop||i.scrollTop||0,e+=h.scrollLeft||i.scrollLeft||0;break}if("relative"===b&&!g.offsetLeft){var k=f.DomUtil.getStyle(g,"width"),l=f.DomUtil.getStyle(g,"max-width"),m=g.getBoundingClientRect();("none"!==k||"none"!==l)&&(e+=m.left+g.clientLeft),d+=m.top+(h.scrollTop||i.scrollTop||0);break}g=g.offsetParent}while(g);g=a;do{if(g===h)break;d-=g.scrollTop||0,e-=g.scrollLeft||0,f.DomUtil.documentIsLtr()||!f.Browser.webkit&&!j||(e+=g.scrollWidth-g.clientWidth,j&&"hidden"!==f.DomUtil.getStyle(g,"overflow-y")&&"hidden"!==f.DomUtil.getStyle(g,"overflow")&&(e+=17)),g=g.parentNode}while(g);return new f.Point(e,d)},documentIsLtr:function(){return f.DomUtil._docIsLtrCached||(f.DomUtil._docIsLtrCached=!0,f.DomUtil._docIsLtr="ltr"===f.DomUtil.getStyle(c.body,"direction")),f.DomUtil._docIsLtr},create:function(a,b,d){var e=c.createElement(a);return e.className=b,d&&d.appendChild(e),e},hasClass:function(a,b){return a.className.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){f.DomUtil.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){a.className=f.Util.trim((" "+a.className+" ").replace(" "+b+" "," "))},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(e){if(1===b)return}b=Math.round(100*b),c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}},testProp:function(a){for(var b=c.documentElement.style,d=0;d<a.length;d++)if(a[d]in b)return a[d];return!1},getTranslateString:function(a){var b=f.Browser.webkit3d,c="translate"+(b?"3d":"")+"(",d=(b?",0":"")+")";return c+a.x+"px,"+a.y+"px"+d},getScaleString:function(a,b){var c=f.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a))),d=" scale("+a+") ";return c+d},setPosition:function(a,b,c){a._leaflet_pos=b,!c&&f.Browser.any3d?(a.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(b),f.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}},f.DomUtil.TRANSFORM=f.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),f.DomUtil.TRANSITION=f.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),f.DomUtil.TRANSITION_END="webkitTransition"===f.DomUtil.TRANSITION||"OTransition"===f.DomUtil.TRANSITION?f.DomUtil.TRANSITION+"End":"transitionend",function(){var a=f.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);f.extend(f.DomUtil,{disableTextSelection:function(){if(f.DomEvent.on(b,"selectstart",f.DomEvent.preventDefault),a){var d=c.documentElement.style;this._userSelect=d[a],d[a]="none"}},enableTextSelection:function(){f.DomEvent.off(b,"selectstart",f.DomEvent.preventDefault),a&&(c.documentElement.style[a]=this._userSelect,delete this._userSelect)},disableImageDrag:function(){f.DomEvent.on(b,"dragstart",f.DomEvent.preventDefault)},enableImageDrag:function(){f.DomEvent.off(b,"dragstart",f.DomEvent.preventDefault)}})}(),f.LatLng=function(a,b){var c=parseFloat(a),d=parseFloat(b);if(isNaN(c)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=c,this.lng=d},f.extend(f.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),f.LatLng.prototype={equals:function(a){if(!a)return!1;a=f.latLng(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=f.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+f.Util.formatNum(this.lat,a)+", "+f.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=f.latLng(a);var b=6378137,c=f.LatLng.DEG_TO_RAD,d=(a.lat-this.lat)*c,e=(a.lng-this.lng)*c,g=this.lat*c,h=a.lat*c,i=Math.sin(d/2),j=Math.sin(e/2),k=i*i+j*j*Math.cos(g)*Math.cos(h);return 2*b*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))},wrap:function(a,b){var c=this.lng;return a=a||-180,b=b||180,c=(c+b)%(b-a)+(a>c||c===b?b:a),new f.LatLng(this.lat,c)}},f.latLng=function(a,b){return a instanceof f.LatLng?a:f.Util.isArray(a)?new f.LatLng(a[0],a[1]):a===d||null===a?a:"object"==typeof a&&"lat"in a?new f.LatLng(a.lat,"lng"in a?a.lng:a.lon):new f.LatLng(a,b)},f.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},f.LatLngBounds.prototype={extend:function(a){return a?(a="number"==typeof a[0]||"string"==typeof a[0]||a instanceof f.LatLng?f.latLng(a):f.latLngBounds(a),a instanceof f.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new f.LatLng(a.lat,a.lng),this._northEast=new f.LatLng(a.lat,a.lng)):a instanceof f.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this):this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a,e=Math.abs(b.lng-c.lng)*a;return new f.LatLngBounds(new f.LatLng(b.lat-d,b.lng-e),new f.LatLng(c.lat+d,c.lng+e))},getCenter:function(){return new f.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new f.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new f.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof f.LatLng?f.latLng(a):f.latLngBounds(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof f.LatLngBounds?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=f.latLngBounds(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),g=e.lat>=b.lat&&d.lat<=c.lat,h=e.lng>=b.lng&&d.lng<=c.lng;return g&&h},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=f.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},f.latLngBounds=function(a,b){return!a||a instanceof f.LatLngBounds?a:new f.LatLngBounds(a,b)},f.Projection={},f.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var b=f.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),e=a.lng*b,g=d*b;return g=Math.log(Math.tan(Math.PI/4+g/2)),new f.Point(e,g)},unproject:function(a){var b=f.LatLng.RAD_TO_DEG,c=a.x*b,d=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new f.LatLng(d,c)}},f.Projection.LonLat={project:function(a){return new f.Point(a.lng,a.lat)},unproject:function(a){return new f.LatLng(a.y,a.x)}},f.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)}},f.CRS.Simple=f.extend({},f.CRS,{projection:f.Projection.LonLat,transformation:new f.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),f.CRS.EPSG3857=f.extend({},f.CRS,{code:"EPSG:3857",projection:f.Projection.SphericalMercator,transformation:new f.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(a){var b=this.projection.project(a),c=6378137;return b.multiplyBy(c)}}),f.CRS.EPSG900913=f.extend({},f.CRS.EPSG3857,{code:"EPSG:900913"}),f.CRS.EPSG4326=f.extend({},f.CRS,{code:"EPSG:4326",projection:f.Projection.LonLat,transformation:new f.Transformation(1/360,.5,-1/360,.5)}),f.Map=f.Class.extend({includes:f.Mixin.Events,options:{crs:f.CRS.EPSG3857,fadeAnimation:f.DomUtil.TRANSITION&&!f.Browser.android23,trackResize:!0,markerZoomAnimation:f.DomUtil.TRANSITION&&f.Browser.any3d},initialize:function(a,b){b=f.setOptions(this,b),this._initContainer(a),this._initLayout(),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.center&&b.zoom!==d&&this.setView(f.latLng(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(b.layers)},setView:function(a,b){return this._resetView(f.latLng(a),this._limitZoom(b)),this},setZoom:function(a,b){return this.setView(this.getCenter(),a,{zoom:b})},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2),g=a instanceof f.Point?a:this.latLngToContainerPoint(a),h=g.subtract(e).multiplyBy(1-1/d),i=this.containerPointToLatLng(e.add(h));return this.setView(i,b,{zoom:c})},fitBounds:function(a,b){b=b||{},a=a.getBounds?a.getBounds():f.latLngBounds(a);var c=f.point(b.paddingTopLeft||b.padding||[0,0]),d=f.point(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d)),g=d.subtract(c).divideBy(2),h=this.project(a.getSouthWest(),e),i=this.project(a.getNorthEast(),e),j=this.unproject(h.add(i).divideBy(2).add(g),e);return this.setView(j,e,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(f.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a,b){if(a=f.latLngBounds(a),this.options.maxBounds=a,!a)return this._boundsMinZoom=null,this.off("moveend",this._panInsideMaxBounds,this),this;var c=this.getBoundsZoom(a,!0);return this._boundsMinZoom=c,this._loaded&&(this._zoom<c?this.setView(a.getCenter(),c,b):this.panInsideBounds(a)),this.on("moveend",this._panInsideMaxBounds,this),this},panInsideBounds:function(a){a=f.latLngBounds(a);var b=this.getPixelBounds(),c=b.getBottomLeft(),d=b.getTopRight(),e=this.project(a.getSouthWest()),g=this.project(a.getNorthEast()),h=0,i=0;return d.y<g.y&&(i=Math.ceil(g.y-d.y)),d.x>g.x&&(h=Math.floor(g.x-d.x)),c.y>e.y&&(i=Math.floor(e.y-c.y)),c.x<e.x&&(h=Math.ceil(e.x-c.x)),h||i?this.panBy([h,i]):this},addLayer:function(a){var b=f.stamp(a);return this._layers[b]?this:(this._layers[b]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[b]=a,this._updateZoomLevels()),this.options.zoomAnimation&&f.TileLayer&&a instanceof f.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var b=f.stamp(a);if(this._layers[b])return this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels()),this.options.zoomAnimation&&f.TileLayer&&a instanceof f.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(a){return a?f.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},invalidateSize:function(a){a=f.extend({animate:!1,pan:!0},a===!0?{animate:!0}:a);var b=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var c=this.getSize(),d=b.subtract(c).divideBy(2).round();return d.x||d.y?(a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f.bind(this.fire,this,"moveend"),200)),this.fire("resize",{oldSize:b,newSize:c})):this},addHandler:function(a,b){if(b){var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this}},remove:function(){return this._loaded&&this.fire("unload"),this._initEvents("off"),delete this._container._leaflet,this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._moved()?this.layerPointToLatLng(this._getCenterLayerPoint()):this._initialCenter},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),c=this.unproject(a.getTopRight());return new f.LatLngBounds(b,c)},getMinZoom:function(){var a=this._layersMinZoom===d?0:this._layersMinZoom,b=this._boundsMinZoom===d?0:this._boundsMinZoom;return this.options.minZoom===d?Math.max(a,b):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===d?this._layersMaxZoom===d?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=f.latLngBounds(a);var d,e=this.getMinZoom()-(b?1:0),g=this.getMaxZoom(),h=this.getSize(),i=a.getNorthWest(),j=a.getSouthEast(),k=!0;c=f.point(c||[0,0]);do e++,d=this.project(j,e).subtract(this.project(i,e)).add(c),k=b?d.x<h.x||d.y<h.y:h.contains(d);while(k&&g>=e);return k&&b?null:b?e:e-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new f.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new f.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===d?this._zoom:b,this.options.crs.latLngToPoint(f.latLng(a),b)},unproject:function(a,b){return b=b===d?this._zoom:b,this.options.crs.pointToLatLng(f.point(a),b)},layerPointToLatLng:function(a){var b=f.point(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){var b=this.project(f.latLng(a))._round();return b._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return f.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return f.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(f.point(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(f.latLng(a)))},mouseEventToContainerPoint:function(a){return f.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=f.DomUtil.get(a);if(!b)throw new Error("Map container not found.");if(b._leaflet)throw new Error("Map container is already initialized.");b._leaflet=!0},_initLayout:function(){var a=this._container;f.DomUtil.addClass(a,"leaflet-container"+(f.Browser.touch?" leaflet-touch":"")+(f.Browser.retina?" leaflet-retina":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=f.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";this.options.markerZoomAnimation||(f.DomUtil.addClass(a.markerPane,b),f.DomUtil.addClass(a.shadowPane,b),f.DomUtil.addClass(a.popupPane,b))},_createPane:function(a,b){return f.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?f.Util.isArray(a)?a:[a]:[];for(var b=0,c=a.length;c>b;b++)this.addLayer(a[b])},_resetView:function(a,b,c,d){var e=this._zoom!==b;d||(this.fire("movestart"),e&&this.fire("zoomstart")),this._zoom=b,this._initialCenter=a,this._initialTopLeftPoint=this._getNewTopLeftPoint(a),c?this._initialTopLeftPoint._add(this._getMapPanePos()):f.DomUtil.setPosition(this._mapPane,new f.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var g=!this._loaded;this._loaded=!0,g&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!c}),this.fire("move"),(e||d)&&this.fire("zoomend"),this.fire("moveend",{hard:!c})},_rawPanBy:function(a){f.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=1/0,c=-1/0,e=this._getZoomSpan();for(a in this._zoomBoundLayers){var f=this._zoomBoundLayers[a];isNaN(f.options.minZoom)||(b=Math.min(b,f.options.minZoom)),isNaN(f.options.maxZoom)||(c=Math.max(c,f.options.maxZoom))}a===d?this._layersMaxZoom=this._layersMinZoom=d:(this._layersMaxZoom=c,this._layersMinZoom=b),e!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){if(f.DomEvent){a=a||"on",f.DomEvent[a](this._container,"click",this._onMouseClick,this);var c,d,e=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(c=0,d=e.length;d>c;c++)f.DomEvent[a](this._container,e[c],this._fireMouseEvent,this);this.options.trackResize&&f.DomEvent[a](b,"resize",this._onResize,this)}},_onResize:function(){f.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=f.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&this.dragging&&this.dragging.moved()||f.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!f.DomEvent._skipped(a)){var b=a.type;if(b="mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,this.hasEventListeners(b)){"contextmenu"===b&&f.DomEvent.preventDefault(a);var c=this.mouseEventToContainerPoint(a),d=this.containerPointToLayerPoint(c),e=this.layerPointToLatLng(d);this.fire(b,{latlng:e,layerPoint:d,containerPoint:c,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return f.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){var d=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(d)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}}),f.map=function(a,b){return new f.Map(a,b)},f.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var b=f.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),e=this.R_MAJOR,g=this.R_MINOR,h=a.lng*b*e,i=d*b,j=g/e,k=Math.sqrt(1-j*j),l=k*Math.sin(i);l=Math.pow((1-l)/(1+l),.5*k);var m=Math.tan(.5*(.5*Math.PI-i))/l;return i=-e*Math.log(m),new f.Point(h,i)},unproject:function(a){for(var b,c=f.LatLng.RAD_TO_DEG,d=this.R_MAJOR,e=this.R_MINOR,g=a.x*c/d,h=e/d,i=Math.sqrt(1-h*h),j=Math.exp(-a.y/d),k=Math.PI/2-2*Math.atan(j),l=15,m=1e-7,n=l,o=.1;Math.abs(o)>m&&--n>0;)b=i*Math.sin(k),o=Math.PI/2-2*Math.atan(j*Math.pow((1-b)/(1+b),.5*i))-k,k+=o;return new f.LatLng(k*c,g)}},f.CRS.EPSG3395=f.extend({},f.CRS,{code:"EPSG:3395",projection:f.Projection.Mercator,transformation:function(){var a=f.Projection.Mercator,b=a.R_MAJOR,c=a.R_MINOR;return new f.Transformation(.5/(Math.PI*b),.5,-.5/(Math.PI*c),.5)}()}),f.TileLayer=f.Class.extend({includes:f.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:f.Browser.mobile,updateWhenIdle:f.Browser.mobile},initialize:function(a,b){b=f.setOptions(this,b),b.detectRetina&&f.Browser.retina&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom>0&&b.minZoom--,this.options.maxZoom--),b.bounds&&(b.bounds=f.latLngBounds(b.bounds)),this._url=a;var c=this.options.subdomains;"string"==typeof c&&(this.options.subdomains=c.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),this._createTileProto(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=f.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==d&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var c,d,e,f=a.children,g=-b(1/0,-1/0);for(d=0,e=f.length;e>d;d++)f[d]!==this._container&&(c=parseInt(f[d].style.zIndex,10),isNaN(c)||(g=b(g,c)));this.options.zIndex=this._container.style.zIndex=(isFinite(g)?g:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(f.Browser.ielt9)for(a in b)f.DomUtil.setOpacity(b[a],this.options.opacity);else f.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=f.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var b="leaflet-tile-container leaflet-zoom-animated";this._bgBuffer=f.DomUtil.create("div",b,this._container),this._tileContainer=f.DomUtil.create("div",b,this._container)}else this._tileContainer=this._container;a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()
},_update:function(){if(this._map){var a=this._map.getPixelBounds(),b=this._map.getZoom(),c=this.options.tileSize;if(!(b>this.options.maxZoom||b<this.options.minZoom)){var d=f.bounds(a.min.divideBy(c)._floor(),a.max.divideBy(c)._floor());this._addTilesFromCenterOut(d),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(d)}}},_addTilesFromCenterOut:function(a){var b,d,e,g=[],h=a.getCenter();for(b=a.min.y;b<=a.max.y;b++)for(d=a.min.x;d<=a.max.x;d++)e=new f.Point(d,b),this._tileShouldBeLoaded(e)&&g.push(e);var i=g.length;if(0!==i){g.sort(function(a,b){return a.distanceTo(h)-b.distanceTo(h)});var j=c.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=i,d=0;i>d;d++)this._addTile(g[d],j);this._tileContainer.appendChild(j)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var c=this._getWrapTileNum();if(b.noWrap&&(a.x<0||a.x>=c)||a.y<0||a.y>=c)return!1}if(b.bounds){var d=b.tileSize,e=a.multiplyBy(d),f=e.add([d,d]),g=this._map.unproject(e),h=this._map.unproject(f);if(b.continuousWorld||b.noWrap||(g=g.wrap(),h=h.wrap()),!b.bounds.intersects([g,h]))return!1}return!0},_removeOtherTiles:function(a){var b,c,d,e;for(e in this._tiles)b=e.split(":"),c=parseInt(b[0],10),d=parseInt(b[1],10),(c<a.min.x||c>a.max.x||d<a.min.y||d>a.max.y)&&this._removeTile(e)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src}),this.options.reuseTiles?(f.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b),f.Browser.android||(b.onload=null,b.src=f.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(a,b){var c=this._getTilePos(a),d=this._getTile();f.DomUtil.setPosition(d,c,f.Browser.chrome||f.Browser.android23),this._tiles[a.x+":"+a.y]=d,this._loadTile(d,a),d.parentNode!==this._tileContainer&&b.appendChild(d)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+a.zoomOffset},_getTilePos:function(a){var b=this._map.getPixelOrigin(),c=this.options.tileSize;return a.multiplyBy(c).subtract(b)},getTileUrl:function(a){return f.Util.template(this._url,f.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b+b)%b),this.options.tms&&(a.y=b-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_createTileProto:function(){var a=this._tileImg=f.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this.options.tileSize+"px",a.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=this._tileImg.cloneNode(!1);return a.onselectstart=a.onmousemove=f.Util.falseFn,f.Browser.ielt9&&this.options.opacity!==d&&f.DomUtil.setOpacity(a,this.options.opacity),a},_loadTile:function(a,b){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(b),a.src=this.getTileUrl(b)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(f.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==f.Util.emptyImageUrl&&(f.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b),a._tileLoaded()}}),f.tileLayer=function(a,b){return new f.TileLayer(a,b)},f.TileLayer.WMS=f.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;var c=f.extend({},this.defaultWmsParams),d=b.tileSize||this.options.tileSize;c.width=c.height=b.detectRetina&&f.Browser.retina?2*d:d;for(var e in b)this.options.hasOwnProperty(e)||"crs"===e||(c[e]=b[e]);this.wmsParams=c,f.setOptions(this,b)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;var b=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,f.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a,b){var c=this._map,d=this.options.tileSize,e=a.multiplyBy(d),g=e.add([d,d]),h=this._crs.project(c.unproject(e,b)),i=this._crs.project(c.unproject(g,b)),j=[h.x,i.y,i.x,h.y].join(","),k=f.Util.template(this._url,{s:this._getSubdomain(a)});return k+f.Util.getParamString(this.wmsParams,k,!0)+"&BBOX="+j},setParams:function(a,b){return f.extend(this.wmsParams,a),b||this.redraw(),this}}),f.tileLayer.wms=function(a,b){return new f.TileLayer.WMS(a,b)},f.TileLayer.Canvas=f.TileLayer.extend({options:{async:!1},initialize:function(a){f.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTileProto:function(){var a=this._canvasProto=f.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize},_createTile:function(){var a=this._canvasProto.cloneNode(!1);return a.onselectstart=a.onmousemove=f.Util.falseFn,a},_loadTile:function(a,b){a._layer=this,a._tilePoint=b,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),f.tileLayer.canvas=function(a){return new f.TileLayer.Canvas(a)},f.ImageOverlay=f.Class.extend({includes:f.Mixin.Events,options:{opacity:1},initialize:function(a,b,c){this._url=a,this._bounds=f.latLngBounds(b),f.setOptions(this,c)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&f.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},_initImage:function(){this._image=f.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&f.Browser.any3d?f.DomUtil.addClass(this._image,"leaflet-zoom-animated"):f.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),f.extend(this._image,{galleryimg:"no",onselectstart:f.Util.falseFn,onmousemove:f.Util.falseFn,onload:f.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=this._map,c=this._image,d=b.getZoomScale(a.zoom),e=this._bounds.getNorthWest(),g=this._bounds.getSouthEast(),h=b._latLngToNewLayerPoint(e,a.zoom,a.center),i=b._latLngToNewLayerPoint(g,a.zoom,a.center)._subtract(h),j=h._add(i._multiplyBy(.5*(1-1/d)));c.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(j)+" scale("+d+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);f.DomUtil.setPosition(a,b),a.style.width=c.x+"px",a.style.height=c.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){f.DomUtil.setOpacity(this._image,this.options.opacity)}}),f.imageOverlay=function(a,b,c){return new f.ImageOverlay(a,b,c)},f.Icon=f.Class.extend({options:{className:""},initialize:function(a){f.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d;return d=b&&"IMG"===b.tagName?this._createImg(c,b):this._createImg(c),this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var c,d=this.options,e=f.point(d[b+"Size"]);c=f.point("shadow"===b?d.shadowAnchor||d.iconAnchor:d.iconAnchor),!c&&e&&(c=e.divideBy(2,!0)),a.className="leaflet-marker-"+b+" "+d.className,c&&(a.style.marginLeft=-c.x+"px",a.style.marginTop=-c.y+"px"),e&&(a.style.width=e.x+"px",a.style.height=e.y+"px")},_createImg:function(a,b){return f.Browser.ie6?(b||(b=c.createElement("div")),b.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+a+'")'):(b||(b=c.createElement("img")),b.src=a),b},_getIconUrl:function(a){return f.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),f.icon=function(a){return new f.Icon(a)},f.Icon.Default=f.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];f.Browser.retina&&"icon"===a&&(a+="-2x");var c=f.Icon.Default.imagePath;if(!c)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return c+"/marker-"+a+".png"}}),f.Icon.Default.imagePath=function(){var a,b,d,e,f,g=c.getElementsByTagName("script"),h=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(a=0,b=g.length;b>a;a++)if(d=g[a].src,e=d.match(h))return f=d.split(h)[0],(f?f+"/":"")+"images"}(),f.Marker=f.Class.extend({includes:f.Mixin.Events,options:{icon:new f.Icon.Default,title:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){f.setOptions(this,b),this._latlng=f.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=f.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b=this._map,c=b.options.zoomAnimation&&b.options.markerZoomAnimation,d=c?"leaflet-zoom-animated":"leaflet-zoom-hide",e=a.icon.createIcon(this._icon),g=!1;e!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(e.title=a.title)),f.DomUtil.addClass(e,d),a.keyboard&&(e.tabIndex="0"),this._icon=e,this._initInteraction(),a.riseOnHover&&f.DomEvent.on(e,"mouseover",this._bringToFront,this).on(e,"mouseout",this._resetZIndex,this);var h=a.icon.createShadow(this._shadow),i=!1;h!==this._shadow&&(this._removeShadow(),i=!0),h&&f.DomUtil.addClass(h,d),this._shadow=h,a.opacity<1&&this._updateOpacity();var j=this._map._panes;g&&j.markerPane.appendChild(this._icon),h&&i&&j.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&f.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){f.DomUtil.setPosition(this._icon,a),this._shadow&&f.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPos(b)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];f.DomUtil.addClass(a,"leaflet-clickable"),f.DomEvent.on(a,"click",this._onMouseClick,this),f.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)f.DomEvent.on(a,b[c],this._fireMouseEvent,this);f.Handler.MarkerDrag&&(this.dragging=new f.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&f.DomEvent.stopPropagation(a),b||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&f.DomEvent.preventDefault(a),"mousedown"!==a.type?f.DomEvent.stopPropagation(a):f.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){f.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&f.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),f.marker=function(a,b){return new f.Marker(a,b)},f.DivIcon=f.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){var b=a&&"DIV"===a.tagName?a:c.createElement("div"),d=this.options;return b.innerHTML=d.html!==!1?d.html:"",d.bgPos&&(b.style.backgroundPosition=-d.bgPos.x+"px "+-d.bgPos.y+"px"),this._setIconStyles(b,"icon"),b},createShadow:function(){return null}}),f.divIcon=function(a){return new f.DivIcon(a)},f.Map.mergeOptions({closePopupOnClick:!0}),f.Popup=f.Class.extend({includes:f.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,b){f.setOptions(this,a),this._source=b,this._animated=f.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout(),this._updateContent();var b=a.options.fadeAnimation;b&&f.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this._update(),b&&f.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),f.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&f.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},setLatLng:function(a){return this._latlng=f.latLng(a),this._update(),this},setContent:function(a){return this._content=a,this._update(),this},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b="leaflet-popup",c=b+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),d=this._container=f.DomUtil.create("div",c);this.options.closeButton&&(a=this._closeButton=f.DomUtil.create("a",b+"-close-button",d),a.href="#close",a.innerHTML="&#215;",f.DomEvent.disableClickPropagation(a),f.DomEvent.on(a,"click",this._onCloseButtonClick,this));var e=this._wrapper=f.DomUtil.create("div",b+"-content-wrapper",d);f.DomEvent.disableClickPropagation(e),this._contentNode=f.DomUtil.create("div",b+"-content",e),f.DomEvent.on(this._contentNode,"mousewheel",f.DomEvent.stopPropagation),f.DomEvent.on(this._contentNode,"MozMousePixelScroll",f.DomEvent.stopPropagation),f.DomEvent.on(e,"contextmenu",f.DomEvent.stopPropagation),this._tipContainer=f.DomUtil.create("div",b+"-tip-container",d),this._tip=f.DomUtil.create("div",b+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="",b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="";var d=a.offsetHeight,e=this.options.maxHeight,g="leaflet-popup-scrolled";e&&d>e?(b.height=e+"px",f.DomUtil.addClass(a,g)):f.DomUtil.removeClass(a,g),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,c=f.point(this.options.offset);b&&f.DomUtil.setPosition(this._container,a),this._containerBottom=-c.y-(b?0:a.y),this._containerLeft=-Math.round(this._containerWidth/2)+c.x+(b?0:a.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);f.DomUtil.setPosition(this._container,b)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,c=this._containerWidth,d=new f.Point(this._containerLeft,-b-this._containerBottom);this._animated&&d._add(f.DomUtil.getPosition(this._container));var e=a.layerPointToContainerPoint(d),g=f.point(this.options.autoPanPadding),h=a.getSize(),i=0,j=0;e.x+c>h.x&&(i=e.x+c-h.x+g.x),e.x-i<0&&(i=e.x-g.x),e.y+b>h.y&&(j=e.y+b-h.y+g.y),e.y-j<0&&(j=e.y-g.y),(i||j)&&a.fire("autopanstart").panBy([i,j])}},_onCloseButtonClick:function(a){this._close(),f.DomEvent.stop(a)}}),f.popup=function(a,b){return new f.Popup(a,b)},f.Map.include({openPopup:function(a,b,c){if(this.closePopup(),!(a instanceof f.Popup)){var d=a;a=new f.Popup(c).setLatLng(b).setContent(d)}return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),f.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(a,b){var c=f.point(this.options.icon.options.popupAnchor||[0,0]);return c=c.add(f.Popup.prototype.options.offset),b&&b.offset&&(c=c.add(b.offset)),b=f.extend({offset:c},b),this._popup||this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),a instanceof f.Popup?(f.setOptions(a,b),this._popup=a):this._popup=new f.Popup(b,this).setContent(a),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.removeEventListener("click",this.togglePopup,this).removeEventListener("remove",this.closePopup,this).removeEventListener("move",this._movePopup,this)),this},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),f.LayerGroup=f.Class.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;c>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return f.stamp(a)}}),f.layerGroup=function(a){return new f.LayerGroup(a)},f.FeatureGroup=f.LayerGroup.extend({includes:f.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:(a.on(f.FeatureGroup.EVENTS,this._propagateEvent,this),f.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(f.FeatureGroup.EVENTS,this._propagateEvent,this),f.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new f.LatLngBounds;return this.eachLayer(function(b){a.extend(b instanceof f.Marker?b.getLatLng():b.getBounds())}),a},_propagateEvent:function(a){a.layer||(a.layer=a.target),a.target=this,this.fire(a.type,a)}}),f.featureGroup=function(a){return new f.FeatureGroup(a)},f.Path=f.Class.extend({includes:[f.Mixin.Events],statics:{CLIP_PADDING:function(){var a=f.Browser.mobile?1280:2e3,c=(a/Math.max(b.outerWidth,b.outerHeight)-1)/2;return Math.max(0,Math.min(.5,c))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){f.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,f.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return f.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),f.Map.include({_updatePathViewport:function(){var a=f.Path.CLIP_PADDING,b=this.getSize(),c=f.DomUtil.getPosition(this._mapPane),d=c.multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),e=d.add(b.multiplyBy(1+2*a)._round());this._pathViewport=new f.Bounds(d,e)}}),f.Path.SVG_NS="http://www.w3.org/2000/svg",f.Browser.svg=!(!c.createElementNS||!c.createElementNS(f.Path.SVG_NS,"svg").createSVGRect),f.Path=f.Path.extend({statics:{SVG:f.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;return b&&a.lastChild!==b&&a.appendChild(b),this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,c=a.firstChild;return b&&c!==b&&a.insertBefore(b,c),this},getPathString:function(){},_createElement:function(a){return c.createElementNS(f.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(f.Browser.svg||!f.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),f.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],b=0;b<a.length;b++)f.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var b=this._map,c=b.mouseEventToContainerPoint(a),d=b.containerPointToLayerPoint(c),e=b.layerPointToLatLng(d);this.fire(a.type,{latlng:e,layerPoint:d,containerPoint:c,originalEvent:a}),"contextmenu"===a.type&&f.DomEvent.preventDefault(a),"mousemove"!==a.type&&f.DomEvent.stopPropagation(a)}}}),f.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=f.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&f.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom),c=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(c)+" scale("+b+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max,d=c.x-b.x,e=c.y-b.y,g=this._pathRoot,h=this._panes.overlayPane;f.Browser.mobileWebkit&&h.removeChild(g),f.DomUtil.setPosition(g,b),g.setAttribute("width",d),g.setAttribute("height",e),g.setAttribute("viewBox",[b.x,b.y,d,e].join(" ")),f.Browser.mobileWebkit&&h.appendChild(g)}}}),f.Path.include({bindPopup:function(a,b){return a instanceof f.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new f.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),f.Browser.vml=!f.Browser.svg&&function(){try{var a=c.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(d){return!1}}(),f.Path=f.Browser.svg||!f.Browser.vml?f.Path:f.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return c.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return c.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");f.DomUtil.addClass(a,"leaflet-vml-shape"),this.options.clickable&&f.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke,d.filled=c.fill,c.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",d.appendChild(a)),a.weight=c.weight+"px",a.color=c.color,a.opacity=c.opacity,a.dashStyle=c.dashArray?c.dashArray instanceof Array?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):""):a&&(d.removeChild(a),this._stroke=null),c.fill?(b||(b=this._fill=this._createElement("fill"),d.appendChild(b)),b.color=c.fillColor||c.color,b.opacity=c.fillOpacity):b&&(d.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),f.Map.include(f.Browser.svg||!f.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=c.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),f.Browser.canvas=function(){return!!c.createElement("canvas").getContext}(),f.Path=f.Path.SVG&&!b.L_PREFER_CANVAS||!f.Browser.canvas?f.Path:f.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return f.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!f.Path._updateRequest&&(f.Path._updateRequest=f.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){f.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)
},_drawPath:function(){var a,b,c,d,e,g;for(this._ctx.beginPath(),a=0,c=this._parts.length;c>a;a++){for(b=0,d=this._parts[a].length;d>b;b++)e=this._parts[a][b],g=(0===b?"move":"line")+"To",this._ctx[g](e.x,e.y);this instanceof f.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,b=this.options;this._drawPath(),a.save(),this._updateStyle(),b.fill&&(a.globalAlpha=b.fillOpacity,a.fill()),b.stroke&&(a.globalAlpha=b.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),f.Map.include(f.Path.SVG&&!b.L_PREFER_CANVAS||!f.Browser.canvas?{}:{_initPathRoot:function(){var a,b=this._pathRoot;b||(b=this._pathRoot=c.createElement("canvas"),b.style.position="absolute",a=this._canvasCtx=b.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(b),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max.subtract(b),d=this._pathRoot;f.DomUtil.setPosition(d,b),d.width=c.x,d.height=c.y,d.getContext("2d").translate(-b.x,-b.y)}}}),f.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=this._reducePoints(a,c),a=this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var c=a.length,e=typeof Uint8Array!=d+""?Uint8Array:Array,f=new e(c);f[0]=f[c-1]=1,this._simplifyDPStep(a,f,b,0,c-1);var g,h=[];for(g=0;c>g;g++)f[g]&&h.push(a[g]);return h},_simplifyDPStep:function(a,b,c,d,e){var f,g,h,i=0;for(g=d+1;e-1>=g;g++)h=this._sqClosestPointOnSegment(a[g],a[d],a[e],!0),h>i&&(f=g,i=h);i>c&&(b[f]=1,this._simplifyDPStep(a,b,c,d,f),this._simplifyDPStep(a,b,c,f,e))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,e=0,f=a.length;f>d;d++)this._sqDist(a[d],a[e])>b&&(c.push(a[d]),e=d);return f-1>e&&c.push(a[f-1]),c},clipSegment:function(a,b,c,d){var e,f,g,h=d?this._lastCode:this._getBitCode(a,c),i=this._getBitCode(b,c);for(this._lastCode=i;;){if(!(h|i))return[a,b];if(h&i)return!1;e=h||i,f=this._getEdgeIntersection(a,b,e,c),g=this._getBitCode(f,c),e===h?(a=f,h=g):(b=f,i=g)}},_getEdgeIntersection:function(a,b,c,d){var e=b.x-a.x,g=b.y-a.y,h=d.min,i=d.max;return 8&c?new f.Point(a.x+e*(i.y-a.y)/g,i.y):4&c?new f.Point(a.x+e*(h.y-a.y)/g,h.y):2&c?new f.Point(i.x,a.y+g*(i.x-a.x)/e):1&c?new f.Point(h.x,a.y+g*(h.x-a.x)/e):void 0},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,c,d){var e,g=b.x,h=b.y,i=c.x-g,j=c.y-h,k=i*i+j*j;return k>0&&(e=((a.x-g)*i+(a.y-h)*j)/k,e>1?(g=c.x,h=c.y):e>0&&(g+=i*e,h+=j*e)),i=a.x-g,j=a.y-h,d?i*i+j*j:new f.Point(g,h)}},f.Polyline=f.Path.extend({initialize:function(a,b){f.Path.prototype.initialize.call(this,b),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";b>a;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(f.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(a){for(var b,c,d=1/0,e=this._parts,g=null,h=0,i=e.length;i>h;h++)for(var j=e[h],k=1,l=j.length;l>k;k++){b=j[k-1],c=j[k];var m=f.LineUtil._sqClosestPointOnSegment(a,b,c,!0);d>m&&(d=m,g=f.LineUtil._sqClosestPointOnSegment(a,b,c))}return g&&(g.distance=Math.sqrt(d)),g},getBounds:function(){return new f.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var c,d,e=b?a:[];for(c=0,d=a.length;d>c;c++){if(f.Util.isArray(a[c])&&"number"!=typeof a[c][0])return;e[c]=f.latLng(a[c])}return e},_initEvents:function(){f.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var b,c=f.Path.VML,d=0,e=a.length,g="";e>d;d++)b=a[d],c&&b._round(),g+=(d?"L":"M")+b.x+" "+b.y;return g},_clipPoints:function(){var a,b,c,d=this._originalPoints,e=d.length;if(this.options.noClip)return void(this._parts=[d]);this._parts=[];var g=this._parts,h=this._map._pathViewport,i=f.LineUtil;for(a=0,b=0;e-1>a;a++)c=i.clipSegment(d[a],d[a+1],h,a),c&&(g[b]=g[b]||[],g[b].push(c[0]),(c[1]!==d[a+1]||a===e-2)&&(g[b].push(c[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,b=f.LineUtil,c=0,d=a.length;d>c;c++)a[c]=b.simplify(a[c],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),f.Path.prototype._updatePath.call(this))}}),f.polyline=function(a,b){return new f.Polyline(a,b)},f.PolyUtil={},f.PolyUtil.clipPolygon=function(a,b){var c,d,e,g,h,i,j,k,l,m=[1,4,2,8],n=f.LineUtil;for(d=0,j=a.length;j>d;d++)a[d]._code=n._getBitCode(a[d],b);for(g=0;4>g;g++){for(k=m[g],c=[],d=0,j=a.length,e=j-1;j>d;e=d++)h=a[d],i=a[e],h._code&k?i._code&k||(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)):(i._code&k&&(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)),c.push(h));a=c}return a},f.Polygon=f.Polyline.extend({options:{fill:!0},initialize:function(a,b){var c,d,e;if(f.Polyline.prototype.initialize.call(this,a,b),a&&f.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=this._convertLatLngs(a[0]),this._holes=a.slice(1),c=0,d=this._holes.length;d>c;c++)e=this._holes[c]=this._convertLatLngs(this._holes[c]),e[0].equals(e[e.length-1])&&e.pop();a=this._latlngs,a.length>=2&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(f.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,c,d;for(a=0,c=this._holes.length;c>a;a++)for(this._holePoints[a]=[],b=0,d=this._holes[a].length;d>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},_clipPoints:function(){var a=this._originalPoints,b=[];if(this._parts=[a].concat(this._holePoints),!this.options.noClip){for(var c=0,d=this._parts.length;d>c;c++){var e=f.PolyUtil.clipPolygon(this._parts[c],this._map._pathViewport);e.length&&b.push(e)}this._parts=b}},_getPathPartStr:function(a){var b=f.Polyline.prototype._getPathPartStr.call(this,a);return b+(f.Browser.svg?"z":"x")}}),f.polygon=function(a,b){return new f.Polygon(a,b)},function(){function a(a){return f.FeatureGroup.extend({initialize:function(a,b){this._layers={},this._options=b,this.setLatLngs(a)},setLatLngs:function(b){var c=0,d=b.length;for(this.eachLayer(function(a){d>c?a.setLatLngs(b[c++]):this.removeLayer(a)},this);d>c;)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}f.MultiPolyline=a(f.Polyline),f.MultiPolygon=a(f.Polygon),f.multiPolyline=function(a,b){return new f.MultiPolyline(a,b)},f.multiPolygon=function(a,b){return new f.MultiPolygon(a,b)}}(),f.Rectangle=f.Polygon.extend({initialize:function(a,b){f.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=f.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),f.rectangle=function(a,b){return new f.Rectangle(a,b)},f.Circle=f.Path.extend({initialize:function(a,b,c){f.Path.prototype.initialize.call(this,c),this._latlng=f.latLng(a),this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=f.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,c=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b),this._radius=Math.max(this._point.x-c.x,1)},getBounds:function(){var a=this._getLngRadius(),b=this._mRadius/40075017*360,c=this._latlng;return new f.LatLngBounds([c.lat-b,c.lng-a],[c.lat+b,c.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":f.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(f.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}}),f.circle=function(a,b,c){return new f.Circle(a,b,c)},f.CircleMarker=f.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){f.Circle.prototype.initialize.call(this,a,null,b),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){f.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()}}),f.circleMarker=function(a,b){return new f.CircleMarker(a,b)},f.Polyline.include(f.Path.CANVAS?{_containsPoint:function(a,b){var c,d,e,g,h,i,j,k=this.options.weight/2;for(f.Browser.touch&&(k+=10),c=0,g=this._parts.length;g>c;c++)for(j=this._parts[c],d=0,h=j.length,e=h-1;h>d;e=d++)if((b||0!==d)&&(i=f.LineUtil.pointToSegmentDistance(a,j[e],j[d]),k>=i))return!0;return!1}}:{}),f.Polygon.include(f.Path.CANVAS?{_containsPoint:function(a){var b,c,d,e,g,h,i,j,k=!1;if(f.Polyline.prototype._containsPoint.call(this,a,!0))return!0;for(e=0,i=this._parts.length;i>e;e++)for(b=this._parts[e],g=0,j=b.length,h=j-1;j>g;h=g++)c=b[g],d=b[h],c.y>a.y!=d.y>a.y&&a.x<(d.x-c.x)*(a.y-c.y)/(d.y-c.y)+c.x&&(k=!k);return k}}:{}),f.Circle.include(f.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this._point,c=this.options.stroke?this.options.weight/2:0;return a.distanceTo(b)<=this._radius+c}}:{}),f.CircleMarker.include(f.Path.CANVAS?{_updateStyle:function(){f.Path.prototype._updateStyle.call(this)}}:{}),f.GeoJSON=f.FeatureGroup.extend({initialize:function(a,b){f.setOptions(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var b,c,d,e=f.Util.isArray(a)?a:a.features;if(e){for(b=0,c=e.length;c>b;b++)d=e[b],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(e[b]);return this}var g=this.options;if(!g.filter||g.filter(a)){var h=f.GeoJSON.geometryToLayer(a,g.pointToLayer,g.coordsToLatLng);return h.feature=f.GeoJSON.asFeature(a),h.defaultOptions=h.options,this.resetStyle(h),g.onEachFeature&&g.onEachFeature(a,h),this.addLayer(h)}},resetStyle:function(a){var b=this.options.style;b&&(f.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}}),f.extend(f.GeoJSON,{geometryToLayer:function(a,b,c){var d,e,g,h,i,j="Feature"===a.type?a.geometry:a,k=j.coordinates,l=[];switch(c=c||this.coordsToLatLng,j.type){case"Point":return d=c(k),b?b(a,d):new f.Marker(d);case"MultiPoint":for(g=0,h=k.length;h>g;g++)d=c(k[g]),i=b?b(a,d):new f.Marker(d),l.push(i);return new f.FeatureGroup(l);case"LineString":return e=this.coordsToLatLngs(k,0,c),new f.Polyline(e);case"Polygon":return e=this.coordsToLatLngs(k,1,c),new f.Polygon(e);case"MultiLineString":return e=this.coordsToLatLngs(k,1,c),new f.MultiPolyline(e);case"MultiPolygon":return e=this.coordsToLatLngs(k,2,c),new f.MultiPolygon(e);case"GeometryCollection":for(g=0,h=j.geometries.length;h>g;g++)i=this.geometryToLayer({geometry:j.geometries[g],type:"Feature",properties:a.properties},b,c),l.push(i);return new f.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new f.LatLng(a[1],a[0])},coordsToLatLngs:function(a,b,c){var d,e,f,g=[];for(e=0,f=a.length;f>e;e++)d=b?this.coordsToLatLngs(a[e],b-1,c):(c||this.coordsToLatLng)(a[e]),g.push(d);return g},latLngToCoords:function(a){return[a.lng,a.lat]},latLngsToCoords:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(f.GeoJSON.latLngToCoords(a[c]));return b},getFeature:function(a,b){return a.feature?f.extend({},a.feature,{geometry:b}):f.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var h={toGeoJSON:function(){return f.GeoJSON.getFeature(this,{type:"Point",coordinates:f.GeoJSON.latLngToCoords(this.getLatLng())})}};f.Marker.include(h),f.Circle.include(h),f.CircleMarker.include(h),f.Polyline.include({toGeoJSON:function(){return f.GeoJSON.getFeature(this,{type:"LineString",coordinates:f.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),f.Polygon.include({toGeoJSON:function(){var a,b,c,d=[f.GeoJSON.latLngsToCoords(this.getLatLngs())];if(d[0].push(d[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)c=f.GeoJSON.latLngsToCoords(this._holes[a]),c.push(c[0]),d.push(c);return f.GeoJSON.getFeature(this,{type:"Polygon",coordinates:d})}}),function(){function a(a,b){a.include({toGeoJSON:function(){var a=[];return this.eachLayer(function(b){a.push(b.toGeoJSON().geometry.coordinates)}),f.GeoJSON.getFeature(this,{type:b,coordinates:a})}})}a(f.MultiPolyline,"MultiLineString"),a(f.MultiPolygon,"MultiPolygon")}(),f.LayerGroup.include({toGeoJSON:function(){var a=[];return this.eachLayer(function(b){b.toGeoJSON&&a.push(f.GeoJSON.asFeature(b.toGeoJSON()))}),{type:"FeatureCollection",features:a}}}),f.geoJson=function(a,b){return new f.GeoJSON(a,b)},f.DomEvent={addListener:function(a,b,c,d){var e,g,h,i=f.stamp(c),j="_leaflet_"+b+i;return a[j]?this:(e=function(b){return c.call(d||a,b||f.DomEvent._getEvent())},f.Browser.msTouch&&0===b.indexOf("touch")?this.addMsTouchListener(a,b,e,i):(f.Browser.touch&&"dblclick"===b&&this.addDoubleTapListener&&this.addDoubleTapListener(a,e,i),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",e,!1),a.addEventListener(b,e,!1)):"mouseenter"===b||"mouseleave"===b?(g=e,h="mouseenter"===b?"mouseover":"mouseout",e=function(b){return f.DomEvent._checkMouse(a,b)?g(b):void 0},a.addEventListener(h,e,!1)):"click"===b&&f.Browser.android?(g=e,e=function(a){return f.DomEvent._filterClick(a,g)},a.addEventListener(b,e,!1)):a.addEventListener(b,e,!1):"attachEvent"in a&&a.attachEvent("on"+b,e),a[j]=e,this))},removeListener:function(a,b,c){var d=f.stamp(c),e="_leaflet_"+b+d,g=a[e];return g?(f.Browser.msTouch&&0===b.indexOf("touch")?this.removeMsTouchListener(a,b,d):f.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",g,!1),a.removeEventListener(b,g,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===b?"mouseover":"mouseout",g,!1):a.removeEventListener(b,g,!1):"detachEvent"in a&&a.detachEvent("on"+b,g),a[e]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,f.DomEvent._skipped(a),this},disableClickPropagation:function(a){for(var b=f.DomEvent.stopPropagation,c=f.Draggable.START.length-1;c>=0;c--)f.DomEvent.addListener(a,f.Draggable.START[c],b);return f.DomEvent.addListener(a,"click",f.DomEvent._fakeStop).addListener(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return f.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){var d=f.Browser.ie7,e=c.body,g=c.documentElement,h=a.pageX?a.pageX-e.scrollLeft-g.scrollLeft:a.clientX,i=a.pageY?a.pageY-e.scrollTop-g.scrollTop:a.clientY,j=new f.Point(h,i),k=b.getBoundingClientRect(),l=k.left-b.clientLeft,m=k.top-b.clientTop;return f.DomUtil.documentIsLtr()||!f.Browser.webkit&&!d||(l+=b.scrollWidth-b.clientWidth,d&&"hidden"!==f.DomUtil.getStyle(b,"overflow-y")&&"hidden"!==f.DomUtil.getStyle(b,"overflow")&&(l+=17)),j._subtract(new f.Point(l,m))},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){f.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_getEvent:function(){var a=b.event;if(!a)for(var c=arguments.callee.caller;c&&(a=c.arguments[0],!a||b.Event!==a.constructor);)c=c.caller;return a},_filterClick:function(a,b){var c=a.timeStamp||a.originalEvent.timeStamp,d=f.DomEvent._lastClick&&c-f.DomEvent._lastClick;return d&&d>100&&1e3>d||a.target._simulatedClick&&!a._simulated?void f.DomEvent.stop(a):(f.DomEvent._lastClick=c,b(a))}},f.DomEvent.on=f.DomEvent.addListener,f.DomEvent.off=f.DomEvent.removeListener,f.Draggable=f.Class.extend({includes:f.Mixin.Events,statics:{START:f.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a,this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=f.Draggable.START.length-1;a>=0;a--)f.DomEvent.on(this._dragStartTarget,f.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=f.Draggable.START.length-1;a>=0;a--)f.DomEvent.off(this._dragStartTarget,f.Draggable.START[a],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(a){if(!a.shiftKey&&(1===a.which||1===a.button||a.touches)&&(f.DomEvent.stopPropagation(a),!f.Draggable._disabled)){f.DomUtil.disableImageDrag(),f.DomUtil.disableTextSelection();var b=a.touches?a.touches[0]:a,d=b.target;f.Browser.touch&&"a"===d.tagName.toLowerCase()&&f.DomUtil.addClass(d,"leaflet-active"),this._moved=!1,this._moving||(this._startPoint=new f.Point(b.clientX,b.clientY),this._startPos=this._newPos=f.DomUtil.getPosition(this._element),f.DomEvent.on(c,f.Draggable.MOVE[a.type],this._onMove,this).on(c,f.Draggable.END[a.type],this._onUp,this))}},_onMove:function(a){if(!(a.touches&&a.touches.length>1)){var b=a.touches&&1===a.touches.length?a.touches[0]:a,d=new f.Point(b.clientX,b.clientY),e=d.subtract(this._startPoint);(e.x||e.y)&&(f.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=f.DomUtil.getPosition(this._element).subtract(e),f.Browser.touch||f.DomUtil.addClass(c.body,"leaflet-dragging")),this._newPos=this._startPos.add(e),this._moving=!0,f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),f.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){f.Browser.touch||f.DomUtil.removeClass(c.body,"leaflet-dragging");for(var a in f.Draggable.MOVE)f.DomEvent.off(c,f.Draggable.MOVE[a],this._onMove).off(c,f.Draggable.END[a],this._onUp);f.DomUtil.enableImageDrag(),f.DomUtil.enableTextSelection(),this._moved&&(f.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1}}),f.Handler=f.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),f.Map.mergeOptions({dragging:!0,inertia:!f.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:f.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),f.Map.Drag=f.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new f.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),this._onViewReset())}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,f=(d+b+c)%a-b-c,g=Math.abs(e+c)<Math.abs(f+c)?e:f;this._draggable._newPos.x=g},_onDragEnd:function(){var a=this._map,b=a.options,c=+new Date-this._lastTime,d=!b.inertia||c>b.inertiaThreshold||!this._positions[0];if(a.fire("dragend"),d)a.fire("moveend");else{var e=this._lastPos.subtract(this._positions[0]),g=(this._lastTime+c-this._times[0])/1e3,h=b.easeLinearity,i=e.multiplyBy(h/g),j=i.distanceTo([0,0]),k=Math.min(b.inertiaMaxSpeed,j),l=i.multiplyBy(k/j),m=k/(b.inertiaDeceleration*h),n=l.multiplyBy(-m/2).round();n.x&&n.y?f.Util.requestAnimFrame(function(){a.panBy(n,{duration:m,easeLinearity:h,noMoveStart:!0})}):a.fire("moveend")}}}),f.Map.addInitHook("addHandler","dragging",f.Map.Drag),f.Map.mergeOptions({doubleClickZoom:!0}),f.Map.DoubleClickZoom=f.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(a){this.setZoomAround(a.containerPoint,this._zoom+1)}}),f.Map.addInitHook("addHandler","doubleClickZoom",f.Map.DoubleClickZoom),f.Map.mergeOptions({scrollWheelZoom:!0}),f.Map.ScrollWheelZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),f.DomEvent.on(this._map._container,"MozMousePixelScroll",f.DomEvent.preventDefault),this._delta=0},removeHooks:function(){f.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),f.DomEvent.off(this._map._container,"MozMousePixelScroll",f.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=f.DomEvent.getWheelDelta(a);this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var c=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f.bind(this._performZoom,this),c),f.DomEvent.preventDefault(a),f.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom();b=b>0?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c,this._delta=0,this._startTime=null,b&&a.setZoomAround(this._lastMousePos,c+b)}}),f.Map.addInitHook("addHandler","scrollWheelZoom",f.Map.ScrollWheelZoom),f.extend(f.DomEvent,{_touchstart:f.Browser.msTouch?"MSPointerDown":"touchstart",_touchend:f.Browser.msTouch?"MSPointerUp":"touchend",addDoubleTapListener:function(a,b,d){function e(a){var b;if(f.Browser.msTouch?(o.push(a.pointerId),b=o.length):b=a.touches.length,!(b>1)){var c=Date.now(),d=c-(h||c);i=a.touches?a.touches[0]:a,j=d>0&&k>=d,h=c}}function g(a){if(f.Browser.msTouch){var c=o.indexOf(a.pointerId);if(-1===c)return;o.splice(c,1)}if(j){if(f.Browser.msTouch){var d,e={};for(var g in i)d=i[g],e[g]="function"==typeof d?d.bind(i):d;i=e}i.type="dblclick",b(i),h=null}}var h,i,j=!1,k=250,l="_leaflet_",m=this._touchstart,n=this._touchend,o=[];a[l+m+d]=e,a[l+n+d]=g;var p=f.Browser.msTouch?c.documentElement:a;return a.addEventListener(m,e,!1),p.addEventListener(n,g,!1),f.Browser.msTouch&&p.addEventListener("MSPointerCancel",g,!1),this},removeDoubleTapListener:function(a,b){var d="_leaflet_";return a.removeEventListener(this._touchstart,a[d+this._touchstart+b],!1),(f.Browser.msTouch?c.documentElement:a).removeEventListener(this._touchend,a[d+this._touchend+b],!1),f.Browser.msTouch&&c.documentElement.removeEventListener("MSPointerCancel",a[d+this._touchend+b],!1),this}}),f.extend(f.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(a,b,c,d){switch(b){case"touchstart":return this.addMsTouchListenerStart(a,b,c,d);case"touchend":return this.addMsTouchListenerEnd(a,b,c,d);case"touchmove":return this.addMsTouchListenerMove(a,b,c,d);default:throw"Unknown touch event type"}},addMsTouchListenerStart:function(a,b,d,e){var f="_leaflet_",g=this._msTouches,h=function(a){for(var b=!1,c=0;c<g.length;c++)if(g[c].pointerId===a.pointerId){b=!0;break}b||g.push(a),a.touches=g.slice(),a.changedTouches=[a],d(a)};if(a[f+"touchstart"+e]=h,a.addEventListener("MSPointerDown",h,!1),!this._msDocumentListener){var i=function(a){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}};c.documentElement.addEventListener("MSPointerUp",i,!1),c.documentElement.addEventListener("MSPointerCancel",i,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(a,b,c,d){function e(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice(),a.changedTouches=[a],c(a)}}var f="_leaflet_",g=this._msTouches;return a[f+"touchmove"+d]=e,a.addEventListener("MSPointerMove",e,!1),this},addMsTouchListenerEnd:function(a,b,c,d){var e="_leaflet_",f=this._msTouches,g=function(a){for(var b=0;b<f.length;b++)if(f[b].pointerId===a.pointerId){f.splice(b,1);break}a.touches=f.slice(),a.changedTouches=[a],c(a)};return a[e+"touchend"+d]=g,a.addEventListener("MSPointerUp",g,!1),a.addEventListener("MSPointerCancel",g,!1),this},removeMsTouchListener:function(a,b,c){var d="_leaflet_",e=a[d+b+c];switch(b){case"touchstart":a.removeEventListener("MSPointerDown",e,!1);break;case"touchmove":a.removeEventListener("MSPointerMove",e,!1);break;case"touchend":a.removeEventListener("MSPointerUp",e,!1),a.removeEventListener("MSPointerCancel",e,!1)}return this}}),f.Map.mergeOptions({touchZoom:f.Browser.touch&&!f.Browser.android23}),f.Map.TouchZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),e=b.mouseEventToLayerPoint(a.touches[1]),g=b._getCenterLayerPoint();this._startCenter=d.add(e)._divideBy(2),this._startDist=d.distanceTo(e),this._moved=!1,this._zooming=!0,this._centerOffset=g.subtract(this._startCenter),b._panAnim&&b._panAnim.stop(),f.DomEvent.on(c,"touchmove",this._onTouchMove,this).on(c,"touchend",this._onTouchEnd,this),f.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var c=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);this._scale=c.distanceTo(d)/this._startDist,this._delta=c._add(d)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(f.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),f.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),c=a.layerPointToLatLng(b),d=a.getScaleZoom(this._scale);a._animateZoom(c,d,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var a=this._map;this._zooming=!1,f.DomUtil.removeClass(a._mapPane,"leaflet-touching"),f.Util.cancelAnimFrame(this._animRequest),f.DomEvent.off(c,"touchmove",this._onTouchMove).off(c,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),d=a.layerPointToLatLng(b),e=a.getZoom(),g=a.getScaleZoom(this._scale)-e,h=g>0?Math.ceil(g):Math.floor(g),i=a._limitZoom(e+h),j=a.getZoomScale(i)/this._scale;a._animateZoom(d,i,b,j)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),f.Map.addInitHook("addHandler","touchZoom",f.Map.TouchZoom),f.Map.mergeOptions({tap:!0,tapTolerance:15}),f.Map.Tap=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(f.DomEvent.preventDefault(a),this._fireClick=!0,a.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0],d=b.target;this._startPos=this._newPos=new f.Point(b.clientX,b.clientY),"a"===d.tagName.toLowerCase()&&f.DomUtil.addClass(d,"leaflet-active"),this._holdTimeout=setTimeout(f.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1e3),f.DomEvent.on(c,"touchmove",this._onMove,this).on(c,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),f.DomEvent.off(c,"touchmove",this._onMove,this).off(c,"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){var b=a.changedTouches[0],d=b.target;"a"===d.tagName.toLowerCase()&&f.DomUtil.removeClass(d,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var b=a.touches[0];this._newPos=new f.Point(b.clientX,b.clientY)},_simulateEvent:function(a,d){var e=c.createEvent("MouseEvents");e._simulated=!0,d.target._simulatedClick=!0,e.initMouseEvent(a,!0,!0,b,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(e)}}),f.Browser.touch&&!f.Browser.msTouch&&f.Map.addInitHook("addHandler","tap",f.Map.Tap),f.Map.mergeOptions({boxZoom:!0}),f.Map.BoxZoom=f.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){f.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){f.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(a){return!a.shiftKey||1!==a.which&&1!==a.button?!1:(f.DomUtil.disableTextSelection(),f.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),this._box=f.DomUtil.create("div","leaflet-zoom-box",this._pane),f.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",f.DomEvent.on(c,"mousemove",this._onMouseMove,this).on(c,"mouseup",this._onMouseUp,this).on(c,"keydown",this._onKeyDown,this),void this._map.fire("boxzoomstart"))
},_onMouseMove:function(a){var b=this._startLayerPoint,c=this._box,d=this._map.mouseEventToLayerPoint(a),e=d.subtract(b),g=new f.Point(Math.min(d.x,b.x),Math.min(d.y,b.y));f.DomUtil.setPosition(c,g),c.style.width=Math.max(0,Math.abs(e.x)-4)+"px",c.style.height=Math.max(0,Math.abs(e.y)-4)+"px"},_finish:function(){this._pane.removeChild(this._box),this._container.style.cursor="",f.DomUtil.enableTextSelection(),f.DomUtil.enableImageDrag(),f.DomEvent.off(c,"mousemove",this._onMouseMove).off(c,"mouseup",this._onMouseUp).off(c,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map,c=b.mouseEventToLayerPoint(a);if(!this._startLayerPoint.equals(c)){var d=new f.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(c));b.fitBounds(d),b.fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),f.Map.addInitHook("addHandler","boxZoom",f.Map.BoxZoom),f.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),f.Map.Keyboard=f.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),f.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;f.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=c.body,d=c.documentElement,e=a.scrollTop||d.scrollTop,f=a.scrollLeft||d.scrollLeft;this._map._container.focus(),b.scrollTo(f,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(a){var b,c,d=this._panKeys={},e=this.keyCodes;for(b=0,c=e.left.length;c>b;b++)d[e.left[b]]=[-1*a,0];for(b=0,c=e.right.length;c>b;b++)d[e.right[b]]=[a,0];for(b=0,c=e.down.length;c>b;b++)d[e.down[b]]=[0,a];for(b=0,c=e.up.length;c>b;b++)d[e.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,c,d=this._zoomKeys={},e=this.keyCodes;for(b=0,c=e.zoomIn.length;c>b;b++)d[e.zoomIn[b]]=a;for(b=0,c=e.zoomOut.length;c>b;b++)d[e.zoomOut[b]]=-a},_addHooks:function(){f.DomEvent.on(c,"keydown",this._onKeyDown,this)},_removeHooks:function(){f.DomEvent.off(c,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,c=this._map;if(b in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;c.panBy(this._panKeys[b]),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else{if(!(b in this._zoomKeys))return;c.setZoom(c.getZoom()+this._zoomKeys[b])}f.DomEvent.stop(a)}}),f.Map.addInitHook("addHandler","keyboard",f.Map.Keyboard),f.Handler.MarkerDrag=f.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new f.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable()},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,c=f.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(c);b&&f.DomUtil.setPosition(b,c),a._latlng=d,a.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),f.Control=f.Class.extend({options:{position:"topright"},initialize:function(a){f.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition(),d=a._controlCorners[c];return f.DomUtil.addClass(b,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this},removeFrom:function(a){var b=this.getPosition(),c=a._controlCorners[b];return c.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this}}),f.control=function(a){return new f.Control(a)},f.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,e){var g=c+a+" "+c+e;b[a+e]=f.DomUtil.create("div",g,d)}var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=f.DomUtil.create("div",c+"control-container",this._container);a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),f.Control.Zoom=f.Control.extend({options:{position:"topleft"},onAdd:function(a){var b="leaflet-control-zoom",c=f.DomUtil.create("div",b+" leaflet-bar");return this._map=a,this._zoomInButton=this._createButton("+","Zoom in",b+"-in",c,this._zoomIn,this),this._zoomOutButton=this._createButton("-","Zoom out",b+"-out",c,this._zoomOut,this),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,c,d,e,g){var h=f.DomUtil.create("a",c,d);h.innerHTML=a,h.href="#",h.title=b;var i=f.DomEvent.stopPropagation;return f.DomEvent.on(h,"click",i).on(h,"mousedown",i).on(h,"dblclick",i).on(h,"click",f.DomEvent.preventDefault).on(h,"click",e,g),h},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";f.DomUtil.removeClass(this._zoomInButton,b),f.DomUtil.removeClass(this._zoomOutButton,b),a._zoom===a.getMinZoom()&&f.DomUtil.addClass(this._zoomOutButton,b),a._zoom===a.getMaxZoom()&&f.DomUtil.addClass(this._zoomInButton,b)}}),f.Map.mergeOptions({zoomControl:!0}),f.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f.Control.Zoom,this.addControl(this.zoomControl))}),f.control.zoom=function(a){return new f.Control.Zoom(a)},f.Control.Attribution=f.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){f.setOptions(this,a),this._attributions={}},onAdd:function(a){return this._container=f.DomUtil.create("div","leaflet-control-attribution"),f.DomEvent.disableClickPropagation(this._container),a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix),a.length&&c.push(a.join(", ")),this._container.innerHTML=c.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),f.Map.mergeOptions({attributionControl:!0}),f.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new f.Control.Attribution).addTo(this))}),f.control.attribution=function(a){return new f.Control.Attribution(a)},f.Control.Scale=f.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b="leaflet-control-scale",c=f.DomUtil.create("div",b),d=this.options;return this._addScales(d,b,c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=f.DomUtil.create("div",b+"-line",c)),a.imperial&&(this._iScale=f.DomUtil.create("div",b+"-line",c))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,c=6378137*Math.PI*Math.cos(b*Math.PI/180),d=c*(a.getNorthEast().lng-a.getSouthWest().lng)/180,e=this._map.getSize(),f=this.options,g=0;e.x>0&&(g=d*(f.maxWidth/e.x)),this._updateScales(f,g)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b),a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px",this._mScale.innerHTML=1e3>b?b+" m":b/1e3+" km"},_updateImperial:function(a){var b,c,d,e=3.2808399*a,f=this._iScale;e>5280?(b=e/5280,c=this._getRoundNum(b),f.style.width=this._getScaleWidth(c/b)+"px",f.innerHTML=c+" mi"):(d=this._getRoundNum(e),f.style.width=this._getScaleWidth(d/e)+"px",f.innerHTML=d+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1),c=a/b;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,b*c}}),f.control.scale=function(a){return new f.Control.Scale(a)},f.Control.Layers=f.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,c){f.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update(),this},removeLayer:function(a){var b=f.stamp(a);return delete this._layers[b],this._update(),this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=f.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0),f.Browser.touch?f.DomEvent.on(b,"click",f.DomEvent.stopPropagation):(f.DomEvent.disableClickPropagation(b),f.DomEvent.on(b,"mousewheel",f.DomEvent.stopPropagation));var c=this._form=f.DomUtil.create("form",a+"-list");if(this.options.collapsed){f.Browser.android||f.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this);var d=this._layersLink=f.DomUtil.create("a",a+"-toggle",b);d.href="#",d.title="Layers",f.Browser.touch?f.DomEvent.on(d,"click",f.DomEvent.stop).on(d,"click",this._expand,this):f.DomEvent.on(d,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=f.DomUtil.create("div",a+"-base",c),this._separator=f.DomUtil.create("div",a+"-separator",c),this._overlaysList=f.DomUtil.create("div",a+"-overlays",c),b.appendChild(c)},_addLayer:function(a,b,c){var d=f.stamp(a);this._layers[d]={layer:a,name:b,overlay:c},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var a,b,c=!1,d=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),d=d||b.overlay,c=c||!b.overlay;this._separator.style.display=d&&c?"":"none"}},_onLayerChange:function(a){var b=this._layers[f.stamp(a.layer)];if(b){this._handlingClick||this._update();var c=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)}},_createRadioElement:function(a,b){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(d+=' checked="checked"'),d+="/>";var e=c.createElement("div");return e.innerHTML=d,e.firstChild},_addItem:function(a){var b,d=c.createElement("label"),e=this._map.hasLayer(a.layer);a.overlay?(b=c.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=e):b=this._createRadioElement("leaflet-base-layers",e),b.layerId=f.stamp(a.layer),f.DomEvent.on(b,"click",this._onInputClick,this);var g=c.createElement("span");g.innerHTML=" "+a.name,d.appendChild(b),d.appendChild(g);var h=a.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(d),d},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=d.length;for(this._handlingClick=!0,a=0;e>a;a++)b=d[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1},_expand:function(){f.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),f.control.layers=function(a,b,c){return new f.Control.Layers(a,b,c)},f.PosAnimation=f.Class.extend({includes:f.Mixin.Events,run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._newPos=b,this.fire("start"),a.style[f.DomUtil.TRANSITION]="all "+(c||.25)+"s cubic-bezier(0,0,"+(d||.5)+",1)",f.DomEvent.on(a,f.DomUtil.TRANSITION_END,this._onTransitionEnd,this),f.DomUtil.setPosition(a,b),f.Util.falseFn(a.offsetWidth),this._stepTimer=setInterval(f.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(f.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),f.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,c,d,e=this._el,g=b.getComputedStyle(e);if(f.Browser.any3d){if(d=g[f.DomUtil.TRANSFORM].match(this._transformRe),!d)return;a=parseFloat(d[1]),c=parseFloat(d[2])}else a=parseFloat(g.left),c=parseFloat(g.top);return new f.Point(a,c,!0)},_onTransitionEnd:function(){f.DomEvent.off(this._el,f.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[f.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),f.Map.include({setView:function(a,b,c){if(b=this._limitZoom(b),a=f.latLng(a),c=c||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==d&&(c.zoom=f.extend({animate:c.animate},c.zoom),c.pan=f.extend({animate:c.animate},c.pan));var e=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan);if(e)return clearTimeout(this._sizeTimer),this}return this._resetView(a,b),this},panBy:function(a,b){if(a=f.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new f.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){f.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){f.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();return(b&&b.animate)===!0||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}}),f.PosAnimation=f.DomUtil.TRANSITION?f.PosAnimation:f.PosAnimation.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=f.DomUtil.getPosition(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=f.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,b=1e3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){var b=this._startPos.add(this._offset.multiplyBy(a));f.DomUtil.setPosition(this._el,b),this.fire("step")},_complete:function(){f.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),f.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),f.DomUtil.TRANSITION&&f.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&f.DomUtil.TRANSITION&&f.Browser.any3d&&!f.Browser.android23&&!f.Browser.mobileOpera,this._zoomAnimated&&f.DomEvent.on(this._mapPane,f.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),f.Map.include(f.DomUtil.TRANSITION?{_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d),f=this._getCenterLayerPoint()._add(e);return c.animate===!0||this.getSize().contains(e)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,f,d,null,!0),!0):!1},_animateZoom:function(a,b,c,d,e,g){this._animatingZoom=!0,f.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=a,this._animateToZoom=b,f.Draggable&&(f.Draggable._disabled=!0),this.fire("zoomanim",{center:a,zoom:b,origin:c,scale:d,delta:e,backwards:g})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,f.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),f.Draggable&&(f.Draggable._disabled=!1)}}:{}),f.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,c=f.DomUtil.TRANSFORM,d=a.delta?f.DomUtil.getTranslateString(a.delta):b.style[c],e=f.DomUtil.getScaleString(a.scale,a.origin);b.style[c]=a.backwards?e+" "+d:d+" "+e},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),f.Util.falseFn(b.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[f.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,c=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);return b&&c>.5&&.5>d?(a.style.visibility="hidden",void this._stopLoadingImages(a)):(b.style.visibility="hidden",b.style[f.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){var b,c,d=a.getElementsByTagName("img"),e=0;for(b=0,c=d.length;c>b;b++)d[b].complete&&e++;return e/c},_stopLoadingImages:function(a){var b,c,d,e=Array.prototype.slice.call(a.getElementsByTagName("img"));for(b=0,c=e.length;c>b;b++)d=e[b],d.complete||(d.onload=f.Util.falseFn,d.onerror=f.Util.falseFn,d.src=f.Util.emptyImageUrl,d.parentNode.removeChild(d))}}),f.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=f.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=f.bind(this._handleGeolocationResponse,this),c=f.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,c=a.coords.longitude,d=new f.LatLng(b,c),e=180*a.coords.accuracy/40075017,g=e/Math.cos(f.LatLng.DEG_TO_RAD*b),h=f.latLngBounds([b-e,c-g],[b+e,c+g]),i=this._locateOptions;if(i.setView){var j=Math.min(this.getBoundsZoom(h),i.maxZoom);this.setView(d,j)}var k={latlng:d,bounds:h};for(var l in a.coords)"number"==typeof a.coords[l]&&(k[l]=a.coords[l]);this.fire("locationfound",k)}})}(window,document)},{}],"G+2w3U":[function(require,a){!function(b,c,d){var e=b.jQuery||b.Zepto||b.ender||b.elo;"undefined"!=typeof a&&a.exports?a.exports=d(e):b[c]=d(e)}(this,"Response",function(a){function b(a){throw new TypeError(a?I+"."+a:I)}function c(a){return"string"==typeof a?f(a.split(" ")):R(a)?f(a):[]}function d(a,b,c){if(null==a)return a;for(var d=0,e=a.length;e>d;)b.call(c||a[d],a[d],d++,a);return a}function e(a,b,c){var d,e=[],f=a.length,g=0;for(b=b||"",c=c||"";f>g;)d=a[g++],null==d||e.push(b+d+c);return e}function f(a,b,c){var d,e,f,g=0,h=0,i=[],j="function"==typeof b;if(!a)return i;for(c=(f=!0===c)?null:c,d=a.length;d>h;h++)e=a[h],f===!(j?b.call(c,e,h,a):b?typeof e===b:e)&&(i[g++]=e);return i}function g(a,b){if(!a||!b)return a;var c,d=b.length;if("function"!=typeof b&&"number"==typeof d&&d===d){for(c=0;d>c;c++)void 0===b[c]||(a[c]=b[c]);a.length>c||(a.length=c)}else for(c in b)S.call(b,c)&&void 0!==b[c]&&(a[c]=b[c]);return a}function h(a,b,c){return null==a?a:("object"!=typeof a||a.nodeType||"number"!=typeof a.length||a.length!==a.length?b.call(c||a,a):d(a,b,c),a)}function i(a){return function(b,c){var d,e=a();return d=e>=(b||0),c?d&&c>=e:d}}function j(a){var b=L.devicePixelRatio;return null==a?b||(j(2)?2:j(1.5)?1.5:j(1)?1:0):isFinite(a)?b&&b>0?b>=a:(a="only all and (min--moz-device-pixel-ratio:"+a+")",ob(a).matches?!0:!!ob(a.replace("-moz-","")).matches):!1}function k(a){return a.replace(kb,"$1").replace(jb,function(a,b){return b.toUpperCase()})}function l(a){return"data-"+(a?a.replace(kb,"$1").replace(ib,"$1-$2").toLowerCase():a)}function m(a){var b;return a&&"string"==typeof a?"true"===a?!0:"false"===a?!1:"undefined"===a?b:"null"===a?null:(b=parseFloat(a))===+b?b:a:a}function n(a){return a?1===a.nodeType?a:a[0]&&1===a[0].nodeType?a[0]:!1:!1}function o(a,b){var c,e=arguments.length,f=n(this),g={},h=!1;if(e){if(R(a)&&(h=!0,a=a[0]),"string"==typeof a){if(a=l(a),1===e)return g=f.getAttribute(a),h?m(g):g;if(this===f||2>(c=this.length||1))f.setAttribute(a,b);else for(;c--;)c in this&&o.apply(this[c],arguments)}else if(a instanceof Object)for(c in a)a.hasOwnProperty(c)&&o.call(this,c,a[c]);return this}return f.dataset&&DOMStringMap?f.dataset:(d(f.attributes,function(a){a&&(c=String(a.name).match(kb))&&(g[k(c[1])]=a.value)}),g)}function p(a){return this&&"string"==typeof a&&(a=c(a),h(this,function(b){d(a,function(a){a&&b.removeAttribute(l(a))})})),this}function q(a){return o.apply(a,T.call(arguments,1))}function r(a,b){return p.call(a,b)}function s(a){for(var b,c=[],d=0,e=a.length;e>d;)(b=a[d++])&&c.push("["+l(b.replace(hb,"").replace(".","\\."))+"]");return c.join()}function t(a,b){var c=a.getBoundingClientRect?a.getBoundingClientRect():{};return b="number"==typeof b?b||0:0,{top:(c.top||0)-b,left:(c.left||0)-b,bottom:(c.bottom||0)+b,right:(c.right||0)+b}}function u(a,b){var c=t(n(a),b);return!!c&&0<=c.bottom&&c.top<=rb()&&0<=c.right&&c.left<=G()}function v(a){var b={img:1,input:1,source:3,embed:3,track:3,iframe:5,audio:5,video:5,script:5}[a.tagName.toLowerCase()]||-1;return 4>b?b:"string"==typeof a.getAttribute("src")?5:-5}function w(a,c,d){var e;return(!a||null==c)&&b("store"),d="string"==typeof d&&d,h(a,function(a){e=d?a.getAttribute(d):0<v(a)?a.getAttribute("src"):a.innerHTML,null==e?r(a,c):q(a,c,e)}),C}function x(a,b){var e=[];return a&&b&&d(c(b),function(b){e.push(q(a,b))},a),e}function y(a){return P.on("resize",a),C}function z(a){return h(a,function(a){"object"==typeof a||b("create @args");var c,e=lb(D).configure(a),f=e.verge;a=e.breakpoints;var g=mb("scroll"),h=mb("resize");a.length&&(c=a[0]||a[1]||!1,O(function(){function a(){e.reset(),d(e.$e,function(a,b){e[b].decideValue().updateDOM()}).trigger(i)}function b(){d(e.$e,function(a,b){u(e[b].$e,f)&&e[b].updateDOM()})}var i=nb.allLoaded,j=!!e.lazy;d(e.target().$e,function(a,b){e[b]=lb(e).prepareData(a),(!j||u(e[b].$e,f))&&e[b].updateDOM()}),e.dynamic&&(e.custom||db>c)&&y(a,h),j&&(P.on(g,b),e.$e.one(i,function(){P.off(g,b)}))}))}),C}function A(a,b){if("function"==typeof a&&a.fn){(b||void 0===a.fn.dataset)&&(a.fn.dataset=o),(b||void 0===a.fn.deletes)&&(a.fn.deletes=p);var c=a.fn;d(["inX","inY","inViewport"],function(d){(b||!c[d])&&(c[d]=function(b,c){return a(f(this,function(a){return!!a&&!c===C[d](a,b)}))})})}return C}if("function"!=typeof a)try{console.log("Response was unable to run due to missing dependency.")}catch(B){}var C,D,E,F,G,H=this,I="Response",J=H[I],K="init"+I,L=window,M=document,N=M.documentElement,O=a.domReady||a,P=a(L),Q=L.screen,R=Array.isArray||function(a){return a instanceof Array},S={}.hasOwnProperty,T=[].slice,U=[].concat,V=[].map,W=V?function(a,b,c){return V.call(a,b,c)}:function(a,b,c){var d,e=a.length,f=[];for(d=0;e>d;d++)d in a&&(f[d]=b.call(c,a[d],d,a));return f},X={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},Y={},Z={},$={},_={all:[]},ab=1,bb=Q.width,cb=Q.height,db=bb>cb?bb:cb,eb=bb+cb-db,Q=function(){return bb},fb=function(){return cb},gb=/[^a-z0-9_\-\.]/gi,hb=/^[\W\s]+|[\W\s]+$|/g,ib=/([a-z])([A-Z])/g,jb=/-(.)/g,kb=/^data-(.+)$/,lb=Object.create||function(a){function b(){}return b.prototype=a,new b},mb=function(a,b){return b=b||I,a.replace(hb,"")+"."+b.replace(hb,"")},nb={allLoaded:mb("allLoaded"),crossover:mb("crossover")},ob=(E=L.matchMedia||L.msMatchMedia)||function(){return{}},pb=L;F=N.clientWidth;var qb=pb.innerWidth;G=E&&qb>F&&!0===E("(min-width:"+qb+"px)").matches?function(){return pb.innerWidth}:function(){return N.clientWidth};var rb,sb=L;F=N.clientHeight,qb=sb.innerHeight,rb=E&&qb>F&&!0===E("(min-height:"+qb+"px)").matches?function(){return sb.innerHeight}:function(){return N.clientHeight},E=i(G),F=i(rb),Y.band=i(Q),Y.wave=i(fb);var tb=function(a){return"string"==typeof a?a.toLowerCase().replace(gb,""):""},ub=nb.crossover,vb=Math.min;return D={$e:0,mode:0,breakpoints:null,prefix:null,prop:"width",keys:[],dynamic:null,custom:0,values:[],fn:0,verge:null,newValue:0,currValue:1,aka:null,lazy:null,i:0,uid:null,reset:function(){for(var a=this.breakpoints,b=a.length,c=0;!c&&b--;)this.fn(a[b])&&(c=b);return c!==this.i&&(P.trigger(ub).trigger(this.prop+ub),this.i=c||0),this},configure:function(a){g(this,a);var h,i,j=!0;if(h=this.prop,this.uid=ab++,this.verge=isFinite(this.verge)?this.verge:vb(db,500),this.fn=Z[h]||b("create @fn"),"boolean"!=typeof this.dynamic&&(this.dynamic="device"!==h.substring(0,6)),this.custom=$[h],i=this.prefix?f(W(c(this.prefix),tb)):["min-"+h+"-"],a=1<i.length?i.slice(1):0,this.prefix=i[0],i=this.breakpoints,R(i)?(d(i,function(a){if(!a&&0!==a)throw"invalid breakpoint";j=j&&isFinite(a)}),i=j?i.sort(function(a,b){return a-b}):i,i.length||b("create @breakpoints")):i=X[h]||X[h.split("-").pop()]||b("create @prop"),this.breakpoints=j?f(i,function(a){return db>=a}):i,this.keys=e(this.breakpoints,this.prefix),this.aka=null,a){for(i=[],h=a.length;h--;)i.push(e(this.breakpoints,a[h]));this.aka=i,this.keys=U.apply(this.keys,i)}return _.all=_.all.concat(_[this.uid]=this.keys),this},target:function(){return this.$e=a(s(_[this.uid])),w(this.$e,K),this.keys.push(K),this},decideValue:function(){for(var a=null,b=this.breakpoints,c=b.length,d=c;null==a&&d--;)this.fn(b[d])&&(a=this.values[d]);return this.newValue="string"==typeof a?a:this.values[c],this},prepareData:function(b){if(this.$e=a(b),this.mode=v(b),this.values=x(this.$e,this.keys),this.aka)for(b=this.aka.length;b--;)this.values=g(this.values,x(this.$e,this.aka[b]));return this.decideValue()},updateDOM:function(){return this.currValue===this.newValue?this:(this.currValue=this.newValue,0<this.mode?this.$e[0].setAttribute("src",this.newValue):null==this.newValue?this.$e.empty&&this.$e.empty():this.$e.html?this.$e.html(this.newValue):(this.$e.empty&&this.$e.empty(),this.$e[0].innerHTML=this.newValue),this)}},Z.width=E,Z.height=F,Z["device-width"]=Y.band,Z["device-height"]=Y.wave,Z["device-pixel-ratio"]=j,C={deviceMin:function(){return eb},deviceMax:function(){return db},noConflict:function(a){return H[I]===C&&(H[I]=J),"function"==typeof a&&a.call(H,C),C},chain:function(b,c){return b=arguments.length?b:a,A(b,c)},bridge:A,create:z,addTest:function(a,b){return"string"==typeof a&&"function"==typeof b&&(Z[a]=b,$[a]=1),C},datatize:l,camelize:k,render:m,store:w,access:x,target:function(b){return a(s(c(b)))},object:lb,crossover:function(a,b){var c,d=nb.crossover;return"function"==typeof a&&(c=b,b=a,a=c),P.on(a?""+a+d:d,b),C},action:function(a){return h(a,function(a){O(a),y(a)}),C},resize:y,ready:O,affix:e,sift:f,dpr:j,deletes:r,scrollX:function(){return window.pageXOffset||N.scrollLeft},scrollY:function(){return window.pageYOffset||N.scrollTop},deviceW:Q,deviceH:fb,device:Y,inX:function(a,b){var c=t(n(a),b);return!!c&&0<=c.right&&c.left<=G()},inY:function(a,b){var c=t(n(a),b);return!!c&&0<=c.bottom&&c.top<=rb()},route:h,merge:g,media:ob,wave:F,band:E,map:W,each:d,inViewport:u,dataset:q,viewportH:rb,viewportW:G},O(function(){var b,c=q(M.body,"responsejs");c&&((b=!!L.JSON&&JSON.parse)?c=b(c):a.parseJSON&&(c=a.parseJSON(c)),c&&c.create&&z(c.create)),N.className=N.className.replace(/(^|\s)(no-)?responsejs(\s|$)/,"$1$3")+" responsejs "}),C})},{}],Z57M2G:[function(require,a){!function(a){a(["jquery"],function(a){return function(){function b(a,b,c){return j({type:r.error,iconClass:l().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(a,b,c){return j({type:r.info,iconClass:l().iconClasses.info,message:a,optionsOverride:c,title:b})}function d(a){o=a}function e(a,b,c){return j({type:r.success,iconClass:l().iconClasses.success,message:a,optionsOverride:c,title:b})}function f(a,b,c){return j({type:r.warning,iconClass:l().iconClasses.warning,message:a,optionsOverride:c,title:b})}function g(b){var c=l();return n||k(c),b&&0===a(":focus",b).length?void b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){m(b)}}):void(n.children().length&&n[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){n.remove()}}))}function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function i(a){o&&o(a)}function j(b){function c(b){return!a(":focus",j).length||b?j[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){m(j),f.onHidden&&f.onHidden(),s.state="hidden",s.endTime=new Date,i(s)
}}):void 0}function d(){(f.timeOut>0||f.extendedTimeOut>0)&&(h=setTimeout(c,f.extendedTimeOut))}function e(){clearTimeout(h),j.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=l(),g=b.iconClass||f.iconClass;"undefined"!=typeof b.optionsOverride&&(f=a.extend(f,b.optionsOverride),g=b.optionsOverride.iconClass||g),q++,n=k(f);var h=null,j=a("<div/>"),o=a("<div/>"),p=a("<div/>"),r=a(f.closeHtml),s={toastId:q,state:"visible",startTime:new Date,options:f,map:b};return b.iconClass&&j.addClass(f.toastClass).addClass(g),b.title&&(o.append(b.title).addClass(f.titleClass),j.append(o)),b.message&&(p.append(b.message).addClass(f.messageClass),j.append(p)),f.closeButton&&(r.addClass("toast-close-button"),j.prepend(r)),j.hide(),f.newestOnTop?n.prepend(j):n.append(j),j[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(h=setTimeout(c,f.timeOut)),j.hover(e,d),!f.onclick&&f.tapToDismiss&&j.click(c),f.closeButton&&r&&r.click(function(a){a.stopPropogation(),c(!0)}),f.onclick&&j.click(function(){f.onclick(),c()}),i(s),f.debug&&console&&console.log(s),j}function k(b){return b||(b=l()),n=a("#"+b.containerId),n.length?n:(n=a("<div/>").attr("id",b.containerId).addClass(b.positionClass),n.appendTo(a(b.target)),n)}function l(){return a.extend({},h(),s.options)}function m(a){n||(n=k()),a.is(":visible")||(a.remove(),a=null,0===n.children().length&&n.remove())}var n,o,p="2.0.0",q=0,r={error:"error",info:"info",success:"success",warning:"warning"},s={clear:g,error:b,getContainer:k,info:c,options:{},subscribe:d,success:e,version:p,warning:f};return s}()})}("function"==typeof define&&define.amd?define:function(b,c){"undefined"!=typeof a&&a.exports?a.exports=c(require(b[0])):window.toastr=c(window.jQuery)})},{}],NbqfyZ:[function(require,a){var b=self;(function(a,c,d,e){b.jQuery=require("jquery"),function(a){{var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.1",d=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(this),e=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),f=function(){function c(b){b=b||{},this._send=b.transport?e(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function e(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new d(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new d(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(b),i.set(a,b)}function e(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var j,k=this;(j=g[a])?j.done(d):h>f?(f++,g[a]=this._send(a,b).done(d).always(e)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(e)}):this._get(a,c,d),!!e}}),c}(),g=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.datums=[],this.trie=e()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),h=function(){function d(a){var c=a.local||null;return b.isFunction(c)&&(c=c.call(null)),c}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();window.Bloodhound=function(){function c(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=d(b.sorter),this.dupDetector=b.dupDetector||i,this.local=h.local(b),this.prefetch=h.prefetch(b),this.remote=h.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new g({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new e(this.cacheKey):null}function d(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function i(){return!1}var j;return j={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.tokenizers={whitespace:function(a){return a.split(/\s+/)},nonword:function(a){return a.split(/\W+/)}},b.mixin(c.prototype,{_loadPrefetch:function(b){function c(a){var c;c=b.filter?b.filter(a):a,f.add(c),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a){var c=f.remote.filter?f.remote.filter(a):a;b(c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(j.data,a,c),this.storage.set(j.protocol,location.protocol,c),this.storage.set(j.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(j.data),c.protocol=this.storage.get(j.protocol),c.thumbprint=this.storage.get(j.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},initialize:function(){function b(){d.add(d.local)}var c,d=this;return c=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),this.local&&c.done(b),this.transport=this.remote?new f(this.remote):null,this.initialize=function(){return c.promise()},c.promise()},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=e.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return f.dupDetector(a,b)}),!c&&d.push(a),d.length<f.limit}),c&&c(f.sorter(d))}var e,f=this,g=!1;""===a?e=this.index.serialize().datums.slice(0):(e=this.index.get(a),e.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d))),e=this.sorter(e).slice(0,this.limit),!g&&c&&c(e)},ttAdapter:function(){return b.bind(this.get,this)}}),c}()}}(window.jQuery),e("undefined"!=typeof Bloodhound?Bloodhound:window.Bloodhound)}).call(b,void 0,void 0,void 0,function(b){a.exports=b})},{jquery:"82HPDv"}],"qeak1/":[function(require,a){var b=self;(function(){b.jQuery=require("jquery"),b.bootstrap=require("bootstrap"),function(a){function b(){return new Date(Date.UTC.apply(Date,arguments))}function c(b,c){var d,e=a(b).data(),f={},g=new RegExp("^"+c.toLowerCase()+"([A-Z])"),c=new RegExp("^"+c.toLowerCase());for(var h in e)c.test(h)&&(d=h.replace(g,function(a,b){return b.toLowerCase()}),f[d]=e[h]);return f}function d(b){var c={};if(k[b]||(b=b.split("-")[0],k[b])){var d=k[b];return a.each(j,function(a,b){b in d&&(c[b]=d[b])}),c}}var e=a(window),f=function(b,c){this._process_options(c),this.element=a(b),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=a(l.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};f.prototype={constructor:f,_process_options:function(b){this._o=a.extend({},this._o,b);var c=this.o=a.extend({},this._o),d=c.language;switch(k[d]||(d=d.split("-")[0],k[d]||(d=i.language)),c.language=d,c.startView){case 2:case"decade":c.startView=2;break;case 1:case"year":c.startView=1;break;default:c.startView=0}switch(c.minViewMode){case 1:case"months":c.minViewMode=1;break;case 2:case"years":c.minViewMode=2;break;default:c.minViewMode=0}c.startView=Math.max(c.startView,c.minViewMode),c.weekStart%=7,c.weekEnd=(c.weekStart+6)%7;var e=l.parseFormat(c.format);c.startDate!==-1/0&&(c.startDate=c.startDate?c.startDate instanceof Date?this._local_to_utc(this._zero_time(c.startDate)):l.parseDate(c.startDate,e,c.language):-1/0),1/0!==c.endDate&&(c.endDate=c.endDate?c.endDate instanceof Date?this._local_to_utc(this._zero_time(c.endDate)):l.parseDate(c.endDate,e,c.language):1/0),c.daysOfWeekDisabled=c.daysOfWeekDisabled||[],a.isArray(c.daysOfWeekDisabled)||(c.daysOfWeekDisabled=c.daysOfWeekDisabled.split(/[,\s]*/)),c.daysOfWeekDisabled=a.map(c.daysOfWeekDisabled,function(a){return parseInt(a,10)});var f=String(c.orientation).toLowerCase().split(/\s+/g),g=c.orientation.toLowerCase();if(f=a.grep(f,function(a){return/^auto|left|right|top|bottom$/.test(a)}),c.orientation={x:"auto",y:"auto"},g&&"auto"!==g)if(1===f.length)switch(f[0]){case"top":case"bottom":c.orientation.y=f[0];break;case"left":case"right":c.orientation.x=f[0]}else g=a.grep(f,function(a){return/^left|right$/.test(a)}),c.orientation.x=g[0]||"auto",g=a.grep(f,function(a){return/^top|bottom$/.test(a)}),c.orientation.y=g[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b,c,d=0;d<a.length;d++)b=a[d][0],c=a[d][1],b.on(c)},_unapplyEvents:function(a){for(var b,c,d=0;d<a.length;d++)b=a[d][0],c=a[d][1],b.off(c)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.date,e=this._utc_to_local(d);this.element.trigger({type:b,date:e,format:a.proxy(function(a){var b=a||this.o.format;return l.formatDate(d,b,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),a&&a.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(a){return new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(this._local_to_utc(a))},setUTCDate:function(a){this.date=a,this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a).change():this.component&&this.element.find("input").val(a).change()},getFormattedDate:function(a){return void 0===a&&(a=this.o.format),l.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a}),this.update(),this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=10,f=e.width(),g=e.height(),h=e.scrollTop(),i=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+10,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left,n=j.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=b-l)):(this.picker.addClass("datepicker-orient-left"),j.left<0?m-=j.left-d:j.left+b>f&&(m=f-b-d));var o,p,q=this.o.orientation.y;"auto"===q&&(o=-h+j.top-c,p=h+g-(j.top+k+c),q=Math.max(o,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+q),"top"===q?n+=k:n-=c+parseInt(this.picker.css("padding-top")),this.picker.css({top:n,left:m,zIndex:i})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=new Date(this.date),c=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],a instanceof Date&&(a=this._local_to_utc(a)),c=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=l.parseDate(a,this.o.format,this.o.language),c?this.setValue():a?b.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";if(this.o.calendarWeeks){var c='<th class="cw">&nbsp;</th>';b+=c,this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}for(;a<this.o.weekStart+7;)b+='<th class="dow">'+k[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+k[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=this.date.valueOf(),g=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()==d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()==d&&b.getUTCMonth()>e)&&c.push("new"),this.o.todayHighlight&&b.getUTCFullYear()==g.getFullYear()&&b.getUTCMonth()==g.getMonth()&&b.getUTCDate()==g.getDate()&&c.push("today"),b.valueOf()==f&&c.push("active"),(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!=a.inArray(b.valueOf(),this.range)&&c.push("selected")),c},fill:function(){{var c,d=new Date(this.viewDate),e=d.getUTCFullYear(),f=d.getUTCMonth(),g=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,i=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,j=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf()}this.picker.find(".datepicker-days thead th.datepicker-switch").text(k[this.o.language].months[f]+" "+e),this.picker.find("tfoot th.today").text(k[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(k[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var m=b(e,f-1,28,0,0,0,0),n=l.getDaysInMonth(m.getUTCFullYear(),m.getUTCMonth());m.setUTCDate(n),m.setUTCDate(n-(m.getUTCDay()-this.o.weekStart+7)%7);var o=new Date(m);o.setUTCDate(o.getUTCDate()+42),o=o.valueOf();for(var p,q=[];m.valueOf()<o;){if(m.getUTCDay()==this.o.weekStart&&(q.push("<tr>"),this.o.calendarWeeks)){var r=new Date(+m+(this.o.weekStart-m.getUTCDay()-7)%7*864e5),s=new Date(+r+(11-r.getUTCDay())%7*864e5),t=new Date(+(t=b(s.getUTCFullYear(),0,1))+(11-t.getUTCDay())%7*864e5),u=(s-t)/864e5/7+1;q.push('<td class="cw">'+u+"</td>")}if(p=this.getClassNames(m),p.push("day"),this.o.beforeShowDay!==a.noop){var v=this.o.beforeShowDay(this._utc_to_local(m));void 0===v?v={}:"boolean"==typeof v?v={enabled:v}:"string"==typeof v&&(v={classes:v}),v.enabled===!1&&p.push("disabled"),v.classes&&(p=p.concat(v.classes.split(/\s+/))),v.tooltip&&(c=v.tooltip)}p=a.unique(p),q.push('<td class="'+p.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+m.getUTCDate()+"</td>"),m.getUTCDay()==this.o.weekEnd&&q.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(q.join(""));var w=this.date&&this.date.getUTCFullYear(),x=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");w&&w==e&&x.eq(this.date.getUTCMonth()).addClass("active"),(g>e||e>i)&&x.addClass("disabled"),e==g&&x.slice(0,h).addClass("disabled"),e==i&&x.slice(j+1).addClass("disabled"),q="",e=10*parseInt(e/10,10);var y=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var z=-1;11>z;z++)q+='<span class="year'+(-1==z?" old":10==z?" new":"")+(w==e?" active":"")+(g>e||e>i?" disabled":"")+'">'+e+"</span>",e+=1;y.html(q)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(c){c.preventDefault();var d=a(c.target).closest("span, td, th");if(1==d.length)switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var e=l.modes[this.viewMode].navStep*("prev"==d[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var f=new Date;f=b(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),this.showMode(-2);var g="linked"==this.o.todayBtn?null:"view";this._setDate(f,g);break;case"clear":var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!d.is(".disabled")){if(this.viewDate.setUTCDate(1),d.is(".month")){var i=1,j=d.parent().find("span").index(d),k=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(j),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(b(k,j,i,0,0,0,0))}else{var k=parseInt(d.text(),10)||0,i=1,j=0;this.viewDate.setUTCFullYear(k),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(b(k,j,i,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(d.is(".day")&&!d.is(".disabled")){var i=parseInt(d.text(),10)||1,k=this.viewDate.getUTCFullYear(),j=this.viewDate.getUTCMonth();d.is(".old")?0===j?(j=11,k-=1):j-=1:d.is(".new")&&(11==j?(j=0,k+=1):j+=1),this._setDate(b(k,j,i,0,0,0,0))}}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a)),b&&"view"!=b||(this.viewDate=new Date(a)),this.fill(),this.setValue(),this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.change(),!this.o.autoclose||b&&"date"!=b||this.hide()},moveMonth:function(a,b){if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b);if(b=b>0?1:-1,1==h)d=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=c},c=g+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var i=0;h>i;i++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!=e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27==a.keyCode&&this.show());var b,c,d,e=!1;switch(a.keyCode){case 27:this.hide(),a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;b=37==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b),this._trigger("changeYear",this.viewDate)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b),this._trigger("changeMonth",this.viewDate)):(c=new Date(this.date),c.setUTCDate(this.date.getUTCDate()+b),d=new Date(this.viewDate),d.setUTCDate(this.viewDate.getUTCDate()+b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;b=38==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b),this._trigger("changeYear",this.viewDate)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b),this._trigger("changeMonth",this.viewDate)):(c=new Date(this.date),c.setUTCDate(this.date.getUTCDate()+7*b),d=new Date(this.viewDate),d.setUTCDate(this.viewDate.getUTCDate()+7*b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 13:this.hide(),a.preventDefault();break;case 9:this.hide()}if(e){this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change()}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var g=function(b,c){this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,a(this.inputs).datepicker(c).bind("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};g.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.date}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){var c=a(b.target).data("datepicker"),d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=this.inputs.length;if(-1!=e){if(d<this.dates[e])for(;e>=0&&d<this.dates[e];)this.pickers[e--].setUTCDate(d);else if(d>this.dates[e])for(;f>e&&d>this.dates[e];)this.pickers[e++].setUTCDate(d);this.updateDates()}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var h=a.fn.datepicker;a.fn.datepicker=function(b){var e=Array.apply(null,arguments);e.shift();var h;return this.each(function(){var j=a(this),k=j.data("datepicker"),l="object"==typeof b&&b;if(!k){var m=c(this,"date"),n=a.extend({},i,m,l),o=d(n.language),p=a.extend({},i,o,m,l);if(j.is(".input-daterange")||p.inputs){var q={inputs:p.inputs||j.find("input").toArray()};j.data("datepicker",k=new g(this,a.extend(p,q)))}else j.data("datepicker",k=new f(this,p))}return"string"==typeof b&&"function"==typeof k[b]&&(h=k[b].apply(k,e),void 0!==h)?!1:void 0}),void 0!==h?h:this};var i=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},j=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=f;var k=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,l.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,d,e){if(c instanceof Date)return c;if("string"==typeof d&&(d=l.parseFormat(d)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(c)){var g,h,i=/([\-+]\d+)([dmwy])/,j=c.match(/([\-+]\d+)([dmwy])/g);c=new Date;for(var m=0;m<j.length;m++)switch(g=i.exec(j[m]),h=parseInt(g[1]),g[2]){case"d":c.setUTCDate(c.getUTCDate()+h);
break;case"m":c=f.prototype.moveMonth.call(f.prototype,c,h);break;case"w":c.setUTCDate(c.getUTCDate()+7*h);break;case"y":c=f.prototype.moveYear.call(f.prototype,c,h)}return b(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),0,0,0)}var n,o,g,j=c&&c.match(this.nonpunctuation)||[],c=new Date,p={},q=["yyyy","yy","M","MM","m","mm","d","dd"],r={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};r.M=r.MM=r.mm=r.m,r.dd=r.d,c=b(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);var s=d.parts.slice();if(j.length!=s.length&&(s=a(s).filter(function(b,c){return-1!==a.inArray(c,q)}).toArray()),j.length==s.length){for(var m=0,t=s.length;t>m;m++){if(n=parseInt(j[m],10),g=s[m],isNaN(n))switch(g){case"MM":o=a(k[e].months).filter(function(){var a=this.slice(0,j[m].length),b=j[m].slice(0,a.length);return a==b}),n=a.inArray(o[0],k[e].months)+1;break;case"M":o=a(k[e].monthsShort).filter(function(){var a=this.slice(0,j[m].length),b=j[m].slice(0,a.length);return a==b}),n=a.inArray(o[0],k[e].monthsShort)+1}p[g]=n}for(var u,v,m=0;m<q.length;m++)v=q[m],v in p&&!isNaN(p[v])&&(u=new Date(c),r[v](u,p[v]),isNaN(u)||(c=u))}return c},formatDate:function(b,c,d){"string"==typeof c&&(c=l.parseFormat(c));var e={d:b.getUTCDate(),D:k[d].daysShort[b.getUTCDay()],DD:k[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:k[d].monthsShort[b.getUTCMonth()],MM:k[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m;for(var b=[],f=a.extend([],c.separators),g=0,h=c.parts.length;h>=g;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=l,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=h,this},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),c.datepicker("show"))}),a(function(){a('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery)}).call(b,a,void 0)},{bootstrap:"Y0FfMV",jquery:"82HPDv"}],"OD+bFs":[function(require,a){var b=self;(function(){b.jQuery=require("jquery"),b.bootstrap=require("bootstrap"),!function(a){var b=function(b,c){this.element=a(b),this.picker=a('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||c.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var d=this.element.data("slider-tooltip")||c.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||c.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||c.min,this.max=this.element.data("slider-max")||c.max,this.step=this.element.data("slider-step")||c.step,this.value=this.element.data("slider-value")||c.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||c.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var e=this.element.data("slider-handle")||c.handle;switch(e){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=c.formater,this.layout(),this.picker.on(this.touchCapable?{touchstart:a.proxy(this.mousedown,this)}:{mousedown:a.proxy(this.mousedown,this)}),"show"===d?this.picker.on({mouseenter:a.proxy(this.showTooltip,this),mouseleave:a.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};b.prototype={constructor:b,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(b){this.touchCapable&&"touchstart"===b.type&&(b=b.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var c=this.getPercentage(b);if(this.range){var d=Math.abs(this.percentage[0]-c),e=Math.abs(this.percentage[1]-c);this.dragged=e>d?0:1}else this.dragged=0;this.percentage[this.dragged]=c,this.layout(),a(document).on(this.touchCapable?{touchmove:a.proxy(this.mousemove,this),touchend:a.proxy(this.mouseup,this)}:{mousemove:a.proxy(this.mousemove,this),mouseup:a.proxy(this.mouseup,this)}),this.inDrag=!0;var f=this.calculateValue();return this.element.trigger({type:"slideStart",value:f}).trigger({type:"slide",value:f}),!1},mousemove:function(a){this.touchCapable&&"touchmove"===a.type&&(a=a.originalEvent);var b=this.getPercentage(a);this.range&&(0===this.dragged&&this.percentage[1]<b?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>b&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=b,this.layout();var c=this.calculateValue();return this.element.trigger({type:"slide",value:c}).data("value",c).prop("value",c),!1},mouseup:function(){a(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var b=this.calculateValue();return this.element.trigger({type:"slideStop",value:b}).data("value",b).prop("value",b),!1},calculateValue:function(){var a;return this.range?(a=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=a):(a=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[a,this.value[1]]),a},getPercentage:function(a){this.touchCapable&&(a=a.touches[0]);var b=100*(a[this.mousePos]-this.offset[this.stylePos])/this.size;return b=Math.round(b/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,b))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(a){this.value=a,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},a.fn.slider=function(c,d){return this.each(function(){var e=a(this),f=e.data("slider"),g="object"==typeof c&&c;f||e.data("slider",f=new b(this,a.extend({},a.fn.slider.defaults,g))),"string"==typeof c&&f[c](d)})},a.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(a){return a}},a.fn.slider.Constructor=b}(window.jQuery)}).call(b,a,void 0)},{bootstrap:"Y0FfMV",jquery:"82HPDv"}],Y0FfMV:[function(require,a){var b=self;(function(){if(b.jQuery=require("jquery"),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.1",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.1",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c="prev"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[i]()}if(f.hasClass("active"))return this.sliding=!1;var k=f[0],l=a.Event("slide.bs.carousel",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass("active")}var n=a.Event("slid.bs.carousel",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.1",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.1",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.tooltip",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()
},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.popover",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.1",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.1",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery)}).call(b,a,void 0)},{jquery:"82HPDv"}],"1ZBhLG":[function(require,a){var b=self;(function(a,c){b.jQuery=require("jquery"),function(a){"use strict";"function"==typeof c&&c.amd?c(["jquery","jquery.ui.widget"],a):a(window.jQuery)}(function(a){"use strict";a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled")),a.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),a.support.xhrFormDataFileUpload=!!window.FormData,a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){return b=this.messages[b]||b.toString(),c&&a.each(c,function(a,c){b=b.replace("{"+a+"}",c)}),b},formData:function(a){return a.serializeArray()},add:function(b,c){(c.autoUpload||c.autoUpload!==!1&&a(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(a,b,c){var d=a-this.timestamp;return(!this.bitrate||!c||d>c)&&(this.bitrate=(b-this.loaded)*(1e3/d)*8,this.loaded=b,this.timestamp=a),this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;return"function"==typeof b.formData?b.formData(b.form):a.isArray(b.formData)?b.formData:"object"===a.type(b.formData)?(c=[],a.each(b.formData,function(a,b){c.push({name:a,value:b})}),c):[]},_getTotal:function(b){var c=0;return a.each(b,function(a,b){c+=b.size||1}),c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};b._progress?a.extend(b._progress,c):b._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(a,b){if(a.lengthComputable){var c,d=Date.now?Date.now():(new Date).getTime();if(b._time&&b.progressInterval&&d-b._time<b.progressInterval&&a.loaded!==a.total)return;b._time=d,c=Math.floor(a.loaded/a.total*(b.chunkSize||b._progress.total))+(b.uploadedBytes||0),this._progress.loaded+=c-b._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,b.bitrateInterval),b._progress.loaded=b.loaded=c,b._progress.bitrate=b.bitrate=b._bitrateTimer.getBitrate(d,c,b.bitrateInterval),this._trigger("progress",a,b),this._trigger("progressall",a,this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable,a.loaded=d.loaded,a.total=d.total,c._onProgress(a,b)}),b.xhr=function(){return d})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(b){var c,d=this,e=b.files[0],f=b.multipart||!a.support.xhrFileUpload,g=b.paramName[0];b.headers=a.extend({},b.headers),b.contentRange&&(b.headers["Content-Range"]=b.contentRange),f&&!b.blob&&this._isInstanceOf("File",e)||(b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),f?a.support.xhrFormDataFileUpload&&(b.postMessage?(c=this._getFormData(b),b.blob?c.push({name:g,value:b.blob}):a.each(b.files,function(a,d){c.push({name:b.paramName[a]||g,value:d})})):(d._isInstanceOf("FormData",b.formData)?c=b.formData:(c=new FormData,a.each(this._getFormData(b),function(a,b){c.append(b.name,b.value)})),b.blob?c.append(g,b.blob,e.name):a.each(b.files,function(a,e){(d._isInstanceOf("File",e)||d._isInstanceOf("Blob",e))&&c.append(b.paramName[a]||g,e,e.name)})),b.data=c):(b.contentType=e.type,b.data=b.blob||e),b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||""),b.formData=this._getFormData(b),b.redirect&&c&&c!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;return d?a.isArray(d)||(d=[d]):(d=[],c.each(function(){for(var b=a(this),c=b.prop("name")||"files[]",e=(b.prop("files")||[1]).length;e;)d.push(c),e-=1}),d.length||(d=[c.prop("name")||"files[]"])),d},_initFormSettings:function(b){b.form&&b.form.length||(b.form=a(b.fileInput.prop("form")),b.form.length||(b.form=a(this.options.fileInput.prop("form")))),b.paramName=this._getParamName(b),b.url||(b.url=b.form.prop("action")||location.href),b.type=(b.type||b.form.prop("method")||"").toUpperCase(),"POST"!==b.type&&"PUT"!==b.type&&"PATCH"!==b.type&&(b.type="POST"),b.formAcceptCharset||(b.formAcceptCharset=b.form.attr("accept-charset"))},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);return this._initFormSettings(c),this._initDataSettings(c),c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();return c=c||this.options.context||f,b===!0?e.resolveWith(c,d):b===!1&&e.rejectWith(c,d),f.abort=e.promise,this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,[b]).promise()};c.process=function(a,b){return(a||b)&&(c._processQueue=this._processQueue=(this._processQueue||e(this)).pipe(a,b)),this._processQueue||e(this)},c.submit=function(){return"pending"!==this.state()&&(c.jqXHR=this.jqXHR=d._trigger("submit",b,this)!==!1&&d._onSend(b,this)),this.jqXHR||d._getXHRPromise()},c.abort=function(){return this.jqXHR?this.jqXHR.abort():d._getXHRPromise()},c.state=function(){return this.jqXHR?d._getDeferredState(this.jqXHR):this._processQueue?d._getDeferredState(this._processQueue):void 0},c.progress=function(){return this._progress},c.response=function(){return this._response}},_getUploadedBytes:function(a){var b=a.getResponseHeader("Range"),c=b&&b.split("-"),d=c&&c.length>1&&parseInt(c[1],10);return d&&d+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d,e,f=this,g=b.files[0],h=g.size,i=b.uploadedBytes,j=b.maxChunkSize||h,k=this._blobSlice,l=a.Deferred(),m=l.promise();return this._isXHRUpload(b)&&k&&(i||h>j)&&!b.data?c?!0:i>=h?(g.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,[null,"error",g.error])):(e=function(){var c=a.extend({},b),m=c._progress.loaded;c.blob=k.call(g,i,i+j,g.type),c.chunkSize=c.blob.size,c.contentRange="bytes "+i+"-"+(i+c.chunkSize-1)+"/"+h,f._initXHRData(c),f._initProgressListener(c),d=(f._trigger("chunksend",null,c)!==!1&&a.ajax(c)||f._getXHRPromise(!1,c.context)).done(function(d,g,j){i=f._getUploadedBytes(j)||i+c.chunkSize,m+c.chunkSize-c._progress.loaded&&f._onProgress(a.Event("progress",{lengthComputable:!0,loaded:i-c.uploadedBytes,total:i-c.uploadedBytes}),c),b.uploadedBytes=c.uploadedBytes=i,c.result=d,c.textStatus=g,c.jqXHR=j,f._trigger("chunkdone",null,c),f._trigger("chunkalways",null,c),h>i?e():l.resolveWith(c.context,[d,g,j])}).fail(function(a,b,d){c.jqXHR=a,c.textStatus=b,c.errorThrown=d,f._trigger("chunkfail",null,c),f._trigger("chunkalways",null,c),l.rejectWith(c.context,[a,b,d])})},this._enhancePromise(m),m.abort=function(){return d.abort()},e(),m):!1},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(b),this._initProgressObject(b),b._progress.loaded=b.loaded=b.uploadedBytes||0,b._progress.total=b.total=this._getTotal(b.files)||1,b._progress.bitrate=b.bitrate=0,this._active+=1,this._progress.loaded+=b.loaded,this._progress.total+=b.total},_onDone:function(b,c,d,e){var f=e._progress.total,g=e._response;e._progress.loaded<f&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:f,total:f}),e),g.result=e.result=b,g.textStatus=e.textStatus=c,g.jqXHR=e.jqXHR=d,this._trigger("done",null,e)},_onFail:function(a,b,c,d){var e=d._response;d.recalculateProgress&&(this._progress.loaded-=d._progress.loaded,this._progress.total-=d._progress.total),e.jqXHR=d.jqXHR=a,e.textStatus=d.textStatus=b,e.errorThrown=d.errorThrown=c,this._trigger("fail",null,d)},_onAlways:function(a,b,c,d){this._trigger("always",null,d)},_onSend:function(b,c){c.submit||this._addConvenienceMethods(b,c);var d,e,f,g,h=this,i=h._getAJAXSettings(c),j=function(){return h._sending+=1,i._bitrateTimer=new h._BitrateTimer,d=d||((e||h._trigger("send",b,i)===!1)&&h._getXHRPromise(!1,i.context,e)||h._chunkedUpload(i)||a.ajax(i)).done(function(a,b,c){h._onDone(a,b,c,i)}).fail(function(a,b,c){h._onFail(a,b,c,i)}).always(function(a,b,c){if(h._onAlways(a,b,c,i),h._sending-=1,h._active-=1,i.limitConcurrentUploads&&i.limitConcurrentUploads>h._sending)for(var d=h._slots.shift();d;){if("pending"===h._getDeferredState(d)){d.resolve();break}d=h._slots.shift()}0===h._active&&h._trigger("stop")})};return this._beforeSend(b,i),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(f=a.Deferred(),this._slots.push(f),g=f.pipe(j)):(this._sequence=this._sequence.pipe(j,j),g=this._sequence),g.abort=function(){return e=[void 0,"abort","abort"],d?d.abort():(f&&f.rejectWith(i.context,e),j())},this._enhancePromise(g)):j()},_onAdd:function(b,c){var d,e,f,g,h=this,i=!0,j=a.extend({},this.options,c),k=j.limitMultiFileUploads,l=this._getParamName(j);if((j.singleFileUploads||k)&&this._isXHRUpload(j))if(!j.singleFileUploads&&k)for(f=[],d=[],g=0;g<c.files.length;g+=k)f.push(c.files.slice(g,g+k)),e=l.slice(g,g+k),e.length||(e=l),d.push(e);else d=l;else f=[c.files],d=[l];return c.originalFiles=c.files,a.each(f||c.files,function(e,g){var j=a.extend({},c);return j.files=f?g:[g],j.paramName=d[e],h._initResponseObject(j),h._initProgressObject(j),h._addConvenienceMethods(b,j),i=h._trigger("add",b,j)}),i},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset(),b.after(c).detach(),a.cleanData(b.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(a,d){return d===b[0]?c[0]:d}),b[0]===this.element[0]&&(this.element=c)},_handleFileTreeEntry:function(b,c){var d,e=this,f=a.Deferred(),g=function(a){a&&!a.entry&&(a.entry=b),f.resolve([a])};return c=c||"",b.isFile?b._file?(b._file.relativePath=c,f.resolve(b._file)):b.file(function(a){a.relativePath=c,f.resolve(a)},g):b.isDirectory?(d=b.createReader(),d.readEntries(function(a){e._handleFileTreeEntries(a,c+b.name+"/").done(function(a){f.resolve(a)}).fail(g)},g)):f.resolve([]),f.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(a.map(c,function(a){var b;return a.webkitGetAsEntry?(b=a.webkitGetAsEntry(),b&&(b._file=a.getAsFile()),b):a.getAsEntry()})):a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c,d,e=b.prop("webkitEntries")||b.prop("entries");if(e&&e.length)return this._handleFileTreeEntries(e);if(c=a.makeArray(b.prop("files")),c.length)void 0===c[0].name&&c[0].fileName&&a.each(c,function(a,b){b.name=b.fileName,b.size=b.fileSize});else{if(d=b.prop("value"),!d)return a.Deferred().resolve([]).promise();c=[{name:d.replace(/^.*\\/,"")}]}return a.Deferred().resolve(c).promise()},_getFileInputFiles:function(b){return b instanceof a&&1!==b.length?a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(b)},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(a){d.files=a,c.options.replaceFileInput&&c._replaceFileInput(d.fileInput),c._trigger("change",b,d)!==!1&&c._onAdd(b,d)})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};return c&&c.length&&(a.each(c,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),this._trigger("paste",b,d)===!1||this._onAdd(b,d)===!1)?!1:void 0},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var b=this,c=a.dataTransfer,d={};c&&c.files&&c.files.length&&(a.preventDefault(),this._getDroppedFiles(c).always(function(c){d.files=c,b._trigger("drop",a,d)!==!1&&b._onAdd(a,d)}))},_onDragOver:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=b.dataTransfer;if(c){if(this._trigger("dragover",b)===!1)return!1;-1!==a.inArray("Files",c.types)&&(c.dropEffect="copy",b.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),a.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=-1!==a.inArray(b,this._specialOptions);d&&this._destroyEventHandlers(),this._super(b,c),d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof a||(b.fileInput=a(b.fileInput)),b.dropZone instanceof a||(b.dropZone=a(b.dropZone)),b.pasteZone instanceof a||(b.pasteZone=a(b.pasteZone))},_getRegExp:function(a){var b=a.split("/"),c=b.pop();return b.shift(),new RegExp(b.join("/"),c)},_isRegExpOption:function(b,c){return"url"!==b&&"string"===a.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options;a.each(a(this.element[0].cloneNode(!1)).data(),function(a,d){b._isRegExpOption(a,d)&&(d=b._getRegExp(d)),c[a]=d})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var c=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(a){b.files=a,c._onAdd(null,b)}):(b.files=a.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c,d,e=this,f=a.Deferred(),g=f.promise();return g.abort=function(){return d=!0,c?c.abort():(f.reject(null,"abort","abort"),g)},this._getFileInputFiles(b.fileInput).always(function(a){if(!d){if(!a.length)return void f.reject();b.files=a,c=e._onSend(null,b).then(function(a,b,c){f.resolve(a,b,c)},function(a,b,c){f.reject(a,b,c)})}}),this._enhancePromise(g)}if(b.files=a.makeArray(b.files),b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}})})}).call(b,a,void 0)},{jquery:"82HPDv"}],"mYaY/p":[function(require,a){var b=self;(function(a,c){b.jQuery=require("jquery"),function(a){"use strict";"function"==typeof c&&c.amd?c(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async){var d,e,f;return{send:function(g,h){d=a('<form style="display:none;"></form>'),d.attr("accept-charset",c.formAcceptCharset),f=/\?/.test(c.url)?"&":"?","DELETE"===c.type?(c.url=c.url+f+"_method=DELETE",c.type="POST"):"PUT"===c.type?(c.url=c.url+f+"_method=PUT",c.type="POST"):"PATCH"===c.type&&(c.url=c.url+f+"_method=PATCH",c.type="POST"),b+=1,e=a('<iframe src="javascript:false;" name="iframe-transport-'+b+'"></iframe>').bind("load",function(){var b,f=a.isArray(c.paramName)?c.paramName:[c.paramName];e.unbind("load").bind("load",function(){var b;try{if(b=e.contents(),!b.length||!b[0].firstChild)throw new Error}catch(c){b=void 0}h(200,"success",{iframe:b}),a('<iframe src="javascript:false;"></iframe>').appendTo(d),window.setTimeout(function(){d.remove()},0)}),d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type),c.formData&&a.each(c.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)}),c.fileInput&&c.fileInput.length&&"POST"===c.type&&(b=c.fileInput.clone(),c.fileInput.after(function(a){return b[a]}),c.paramName&&c.fileInput.each(function(b){a(this).prop("name",f[b]||c.paramName)}),d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),d.submit(),b&&b.length&&c.fileInput.each(function(c,d){var e=a(b[c]);a(d).prop("name",e.prop("name")),e.replaceWith(d)})}),d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;")),d&&d.remove()}}}}),a.ajaxSetup({converters:{"iframe text":function(b){return b&&a(b[0].body).text()},"iframe json":function(b){return b&&a.parseJSON(a(b[0].body).text())
},"iframe html":function(b){return b&&a(b[0].body).html()},"iframe xml":function(b){var c=b&&b[0];return c&&a.isXMLDoc(c)?c:a.parseXML(c.XMLDocument&&c.XMLDocument.xml||a(c.body).html())},"iframe script":function(b){return b&&a.globalEval(a(b[0].body).text())}}})})}).call(b,a,void 0)},{jquery:"82HPDv"}],"08VB7T":[function(require,a){var b=self;(function(a,c){b.jQuery=require("jquery"),function(a){"function"==typeof c&&c.amd?c(["jquery"],a):a(jQuery)}(function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})})}).call(b,a,void 0)},{jquery:"82HPDv"}],"1jmKrY":[function(require,a){var b=self;(function(){var a={dir:"/static/img/jscolor/",bindClass:"color",binding:!0,preloading:!0,install:function(){a.addEvent(window,"load",a.init)},init:function(){a.binding&&a.bind(),a.preloading&&a.preload()},getDir:function(){if(!a.dir){var b=a.detectDir();a.dir=b!==!1?b:"jscolor/"}return a.dir},detectDir:function(){for(var b=location.href,c=document.getElementsByTagName("base"),d=0;d<c.length;d+=1)c[d].href&&(b=c[d].href);for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d+=1)if(c[d].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(c[d].src)){var e=new a.URI(c[d].src),f=e.toAbsolute(b);return f.path=f.path.replace(/[^\/]+$/,""),f.query=null,f.fragment=null,f.toString()}return!1},bind:function(){for(var b=new RegExp("(^|\\s)("+a.bindClass+")\\s*(\\{[^}]*\\})?","i"),c=document.getElementsByTagName("input"),d=0;d<c.length;d+=1){var e;if(!c[d].color&&c[d].className&&(e=c[d].className.match(b))){var f={};if(e[3])try{f=new Function("return ("+e[3]+")")()}catch(g){}c[d].color=new a.color(c[d],f)}}},preload:function(){for(var b in a.imgRequire)a.imgRequire.hasOwnProperty(b)&&a.loadImage(b)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(b){a.imgRequire[b]=!0},loadImage:function(b){a.imgLoaded[b]||(a.imgLoaded[b]=new Image,a.imgLoaded[b].src=a.getDir()+b)},fetchElement:function(a){return"string"==typeof a?document.getElementById(a):a},addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},fireEvent:function(a,b){if(a)if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!0,!0),a.dispatchEvent(c)}else if(document.createEventObject){var c=document.createEventObject();a.fireEvent("on"+b,c)}else a["on"+b]&&a["on"+b]()},getElementPos:function(a){var b=a,c=a,d=0,e=0;if(b.offsetParent)do d+=b.offsetLeft,e+=b.offsetTop;while(b=b.offsetParent);for(;(c=c.parentNode)&&"BODY"!==c.nodeName.toUpperCase();)d-=c.scrollLeft,e-=c.scrollTop;return[d,e]},getElementSize:function(a){return[a.offsetWidth,a.offsetHeight]},getRelMousePos:function(a){var b=0,c=0;return a||(a=window.event),"number"==typeof a.offsetX?(b=a.offsetX,c=a.offsetY):"number"==typeof a.layerX&&(b=a.layerX,c=a.layerY),{x:b,y:c}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(b){function c(a){for(var b="";a;)if("../"===a.substr(0,3)||"./"===a.substr(0,2))a=a.replace(/^\.+/,"").substr(1);else if("/./"===a.substr(0,3)||"/."===a)a="/"+a.substr(3);else if("/../"===a.substr(0,4)||"/.."===a)a="/"+a.substr(4),b=b.replace(/\/?[^\/]*$/,"");else if("."===a||".."===a)a="";else{var c=a.match(/^\/?[^\/]*/)[0];a=a.substr(c.length),b+=c}return b}this.scheme=null,this.authority=null,this.path="",this.query=null,this.fragment=null,this.parse=function(a){var b=a.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);return this.scheme=b[3]?b[2]:null,this.authority=b[5]?b[6]:null,this.path=b[7],this.query=b[9]?b[10]:null,this.fragment=b[12]?b[13]:null,this},this.toString=function(){var a="";return null!==this.scheme&&(a=a+this.scheme+":"),null!==this.authority&&(a=a+"//"+this.authority),null!==this.path&&(a+=this.path),null!==this.query&&(a=a+"?"+this.query),null!==this.fragment&&(a=a+"#"+this.fragment),a},this.toAbsolute=function(b){var b=new a.URI(b),d=this,e=new a.URI;return null===b.scheme?!1:(null!==d.scheme&&d.scheme.toLowerCase()===b.scheme.toLowerCase()&&(d.scheme=null),null!==d.scheme?(e.scheme=d.scheme,e.authority=d.authority,e.path=c(d.path),e.query=d.query):(null!==d.authority?(e.authority=d.authority,e.path=c(d.path),e.query=d.query):(""===d.path?(e.path=b.path,e.query=null!==d.query?d.query:b.query):("/"===d.path.substr(0,1)?e.path=c(d.path):(e.path=null!==b.authority&&""===b.path?"/"+d.path:b.path.replace(/[^\/]+$/,"")+d.path,e.path=c(e.path)),e.query=d.query),e.authority=b.authority),e.scheme=b.scheme),e.fragment=d.fragment,e)},b&&this.parse(b)},color:function(b,c){function d(a,b,c){var d=Math.min(Math.min(a,b),c),e=Math.max(Math.max(a,b),c),f=e-d;if(0===f)return[null,0,e];var g=a===d?3+(c-b)/f:b===d?5+(a-c)/f:1+(b-a)/f;return[6===g?0:g,f/e,e]}function e(a,b,c){if(null===a)return[c,c,c];var d=Math.floor(a),e=d%2?a-d:1-(a-d),f=c*(1-b),g=c*(1-b*e);switch(d){case 6:case 0:return[c,g,f];case 1:return[g,c,f];case 2:return[f,c,g];case 3:return[f,g,c];case 4:return[g,f,c];case 5:return[c,f,g]}}function f(){delete a.picker.owner,document.getElementsByTagName("body")[0].removeChild(a.picker.boxB)}function g(c,d){function e(){var a=r.pickerInsetColor.split(/\s+/),b=a.length<2?a[0]:a[1]+" "+a[0]+" "+a[0]+" "+a[1];l.btn.style.borderColor=b}if(!a.picker){a.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(r.pickerCloseText)};for(var f=0,g=4;f<a.images.sld[1];f+=g){var k=document.createElement("div");k.style.height=g+"px",k.style.fontSize="1px",k.style.lineHeight="0",a.picker.sld.appendChild(k)}a.picker.sldB.appendChild(a.picker.sld),a.picker.box.appendChild(a.picker.sldB),a.picker.box.appendChild(a.picker.sldM),a.picker.padB.appendChild(a.picker.pad),a.picker.box.appendChild(a.picker.padB),a.picker.box.appendChild(a.picker.padM),a.picker.btnS.appendChild(a.picker.btnT),a.picker.btn.appendChild(a.picker.btnS),a.picker.box.appendChild(a.picker.btn),a.picker.boxB.appendChild(a.picker.box)}var l=a.picker;l.box.onmouseup=l.box.onmouseout=function(){b.focus()},l.box.onmousedown=function(){t=!0},l.box.onmousemove=function(a){(w||x)&&(w&&n(a),x&&o(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),p())},"ontouchstart"in window&&l.box.addEventListener("touchmove",function(a){var b={offsetX:a.touches[0].pageX-y.X,offsetY:a.touches[0].pageY-y.Y};(w||x)&&(w&&n(b),x&&o(b),p()),a.stopPropagation(),a.preventDefault()},!1),l.padM.onmouseup=l.padM.onmouseout=function(){w&&(w=!1,a.fireEvent(u,"change"))},l.padM.onmousedown=function(a){switch(s){case 0:0===r.hsv[2]&&r.fromHSV(null,null,1);break;case 1:0===r.hsv[1]&&r.fromHSV(null,1,null)}x=!1,w=!0,n(a),p()},"ontouchstart"in window&&l.padM.addEventListener("touchstart",function(a){y={X:a.target.offsetParent.offsetLeft,Y:a.target.offsetParent.offsetTop},this.onmousedown({offsetX:a.touches[0].pageX-y.X,offsetY:a.touches[0].pageY-y.Y})}),l.sldM.onmouseup=l.sldM.onmouseout=function(){x&&(x=!1,a.fireEvent(u,"change"))},l.sldM.onmousedown=function(a){w=!1,x=!0,o(a),p()},"ontouchstart"in window&&l.sldM.addEventListener("touchstart",function(a){y={X:a.target.offsetParent.offsetLeft,Y:a.target.offsetParent.offsetTop},this.onmousedown({offsetX:a.touches[0].pageX-y.X,offsetY:a.touches[0].pageY-y.Y})});var m=h(r);l.box.style.width=m[0]+"px",l.box.style.height=m[1]+"px",l.boxB.style.position="absolute",l.boxB.style.clear="both",l.boxB.style.left=c+"px",l.boxB.style.top=d+"px",l.boxB.style.zIndex=r.pickerZIndex,l.boxB.style.border=r.pickerBorder+"px solid",l.boxB.style.borderColor=r.pickerBorderColor,l.boxB.style.background=r.pickerFaceColor,l.pad.style.width=a.images.pad[0]+"px",l.pad.style.height=a.images.pad[1]+"px",l.padB.style.position="absolute",l.padB.style.left=r.pickerFace+"px",l.padB.style.top=r.pickerFace+"px",l.padB.style.border=r.pickerInset+"px solid",l.padB.style.borderColor=r.pickerInsetColor,l.padM.style.position="absolute",l.padM.style.left="0",l.padM.style.top="0",l.padM.style.width=r.pickerFace+2*r.pickerInset+a.images.pad[0]+a.images.arrow[0]+"px",l.padM.style.height=l.box.style.height,l.padM.style.cursor="crosshair",l.sld.style.overflow="hidden",l.sld.style.width=a.images.sld[0]+"px",l.sld.style.height=a.images.sld[1]+"px",l.sldB.style.display=r.slider?"block":"none",l.sldB.style.position="absolute",l.sldB.style.right=r.pickerFace+"px",l.sldB.style.top=r.pickerFace+"px",l.sldB.style.border=r.pickerInset+"px solid",l.sldB.style.borderColor=r.pickerInsetColor,l.sldM.style.display=r.slider?"block":"none",l.sldM.style.position="absolute",l.sldM.style.right="0",l.sldM.style.top="0",l.sldM.style.width=a.images.sld[0]+a.images.arrow[0]+r.pickerFace+2*r.pickerInset+"px",l.sldM.style.height=l.box.style.height;try{l.sldM.style.cursor="pointer"}catch(q){l.sldM.style.cursor="hand"}l.btn.style.display=r.pickerClosable?"block":"none",l.btn.style.position="absolute",l.btn.style.left=r.pickerFace+"px",l.btn.style.bottom=r.pickerFace+"px",l.btn.style.padding="0 15px",l.btn.style.height="18px",l.btn.style.border=r.pickerInset+"px solid",e(),l.btn.style.color=r.pickerButtonColor,l.btn.style.font="12px sans-serif",l.btn.style.textAlign="center";try{l.btn.style.cursor="pointer"}catch(q){l.btn.style.cursor="hand"}switch(l.btn.onmousedown=function(){r.hidePicker()},l.btnS.style.lineHeight=l.btn.style.height,s){case 0:var v="hs.png";break;case 1:var v="hv.png"}l.padM.style.backgroundImage="url('"+a.getDir()+"cross.gif')",l.padM.style.backgroundRepeat="no-repeat",l.sldM.style.backgroundImage="url('"+a.getDir()+"arrow.gif')",l.sldM.style.backgroundRepeat="no-repeat",l.pad.style.backgroundImage="url('"+a.getDir()+v+"')",l.pad.style.backgroundRepeat="no-repeat",l.pad.style.backgroundPosition="0 0",i(),j(),a.picker.owner=r,document.getElementsByTagName("body")[0].appendChild(l.boxB)}function h(b){var c=[2*b.pickerInset+2*b.pickerFace+a.images.pad[0]+(b.slider?2*b.pickerInset+2*a.images.arrow[0]+a.images.sld[0]:0),b.pickerClosable?4*b.pickerInset+3*b.pickerFace+a.images.pad[1]+b.pickerButtonHeight:2*b.pickerInset+2*b.pickerFace+a.images.pad[1]];return c}function i(){switch(s){case 0:var b=1;break;case 1:var b=2}var c=Math.round(r.hsv[0]/6*(a.images.pad[0]-1)),d=Math.round((1-r.hsv[b])*(a.images.pad[1]-1));a.picker.padM.style.backgroundPosition=r.pickerFace+r.pickerInset+c-Math.floor(a.images.cross[0]/2)+"px "+(r.pickerFace+r.pickerInset+d-Math.floor(a.images.cross[1]/2))+"px";var f=a.picker.sld.childNodes;switch(s){case 0:for(var g=e(r.hsv[0],r.hsv[1],1),h=0;h<f.length;h+=1)f[h].style.backgroundColor="rgb("+g[0]*(1-h/f.length)*100+"%,"+g[1]*(1-h/f.length)*100+"%,"+g[2]*(1-h/f.length)*100+"%)";break;case 1:var g,i,j=[r.hsv[2],0,0],h=Math.floor(r.hsv[0]),k=h%2?r.hsv[0]-h:1-(r.hsv[0]-h);switch(h){case 6:case 0:g=[0,1,2];break;case 1:g=[1,0,2];break;case 2:g=[2,0,1];break;case 3:g=[2,1,0];break;case 4:g=[1,2,0];break;case 5:g=[0,2,1]}for(var h=0;h<f.length;h+=1)i=1-1/(f.length-1)*h,j[1]=j[0]*(1-i*k),j[2]=j[0]*(1-i),f[h].style.backgroundColor="rgb("+100*j[g[0]]+"%,"+100*j[g[1]]+"%,"+100*j[g[2]]+"%)"}}function j(){switch(s){case 0:var b=2;break;case 1:var b=1}var c=Math.round((1-r.hsv[b])*(a.images.sld[1]-1));a.picker.sldM.style.backgroundPosition="0 "+(r.pickerFace+r.pickerInset+c-Math.floor(a.images.arrow[1]/2))+"px"}function k(){return a.picker&&a.picker.owner===r}function l(){u===b&&r.importColor(),r.pickerOnfocus&&r.hidePicker()}function m(){u!==b&&r.importColor()}function n(b){var c=a.getRelMousePos(b),d=c.x-r.pickerFace-r.pickerInset,e=c.y-r.pickerFace-r.pickerInset;switch(s){case 0:r.fromHSV(d*(6/(a.images.pad[0]-1)),1-e/(a.images.pad[1]-1),null,C);break;case 1:r.fromHSV(d*(6/(a.images.pad[0]-1)),null,1-e/(a.images.pad[1]-1),C)}}function o(b){var c=a.getRelMousePos(b),d=c.y-r.pickerFace-r.pickerInset;switch(s){case 0:r.fromHSV(null,null,1-d/(a.images.sld[1]-1),B);break;case 1:r.fromHSV(null,1-d/(a.images.sld[1]-1),null,B)}}function p(){if(r.onImmediateChange){var a;a="string"==typeof r.onImmediateChange?new Function(r.onImmediateChange):r.onImmediateChange,a.call(r)}}this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,this.valueElement=b,this.styleElement=b,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.minH=0,this.maxH=6,this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var q in c)c.hasOwnProperty(q)&&(this[q]=c[q]);this.hidePicker=function(){k()&&f()},this.showPicker=function(){if(!k()){var c,d,e,f=a.getElementPos(b),i=a.getElementSize(b),j=a.getViewPos(),l=a.getViewSize(),m=h(this);switch(this.pickerPosition.toLowerCase()){case"left":c=1,d=0,e=-1;break;case"right":c=1,d=0,e=1;break;case"top":c=0,d=1,e=-1;break;default:c=0,d=1,e=1}var n=(i[d]+m[d])/2;if(this.pickerSmartPosition)var o=[-j[c]+f[c]+m[c]>l[c]&&-j[c]+f[c]+i[c]/2>l[c]/2&&f[c]+i[c]-m[c]>=0?f[c]+i[c]-m[c]:f[c],-j[d]+f[d]+i[d]+m[d]-n+n*e>l[d]?-j[d]+f[d]+i[d]/2>l[d]/2&&f[d]+i[d]-n-n*e>=0?f[d]+i[d]-n-n*e:f[d]+i[d]-n+n*e:f[d]+i[d]-n+n*e>=0?f[d]+i[d]-n+n*e:f[d]+i[d]-n-n*e];else var o=[f[c],f[d]+i[d]-n+n*e];g(o[c],o[d])}},this.importColor=function(){u?this.adjust?!this.required&&/^\s*$/.test(u.value)?(u.value="",v.style.backgroundImage=v.jscStyle.backgroundImage,v.style.backgroundColor=v.jscStyle.backgroundColor,v.style.color=v.jscStyle.color,this.exportColor(z|A)):this.fromString(u.value)||this.exportColor():this.fromString(u.value,z)||(v.style.backgroundImage=v.jscStyle.backgroundImage,v.style.backgroundColor=v.jscStyle.backgroundColor,v.style.color=v.jscStyle.color,this.exportColor(z|A)):this.exportColor()},this.exportColor=function(a){if(!(a&z)&&u){var b=this.toString();this.caps&&(b=b.toUpperCase()),this.hash&&(b="#"+b),u.value=b}a&A||!v||(v.style.backgroundImage="none",v.style.backgroundColor="#"+this.toString(),v.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),a&B||!k()||i(),a&C||!k()||j()},this.fromHSV=function(a,b,c,d){null!==a&&(a=Math.max(0,this.minH,Math.min(6,this.maxH,a))),null!==b&&(b=Math.max(0,this.minS,Math.min(1,this.maxS,b))),null!==c&&(c=Math.max(0,this.minV,Math.min(1,this.maxV,c))),this.rgb=e(null===a?this.hsv[0]:this.hsv[0]=a,null===b?this.hsv[1]:this.hsv[1]=b,null===c?this.hsv[2]:this.hsv[2]=c),this.exportColor(d)},this.fromRGB=function(a,b,c,f){null!==a&&(a=Math.max(0,Math.min(1,a))),null!==b&&(b=Math.max(0,Math.min(1,b))),null!==c&&(c=Math.max(0,Math.min(1,c)));var g=d(null===a?this.rgb[0]:a,null===b?this.rgb[1]:b,null===c?this.rgb[2]:c);null!==g[0]&&(this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,g[0]))),0!==g[2]&&(this.hsv[1]=null===g[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,g[1]))),this.hsv[2]=null===g[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,g[2]));var h=e(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=h[0],this.rgb[1]=h[1],this.rgb[2]=h[2],this.exportColor(f)},this.fromString=function(a,b){var c=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return c?(6===c[1].length?this.fromRGB(parseInt(c[1].substr(0,2),16)/255,parseInt(c[1].substr(2,2),16)/255,parseInt(c[1].substr(4,2),16)/255,b):this.fromRGB(parseInt(c[1].charAt(0)+c[1].charAt(0),16)/255,parseInt(c[1].charAt(1)+c[1].charAt(1),16)/255,parseInt(c[1].charAt(2)+c[1].charAt(2),16)/255,b),!0):!1},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var r=this,s="hvs"===this.pickerMode.toLowerCase()?1:0,t=!1,u=a.fetchElement(this.valueElement),v=a.fetchElement(this.styleElement),w=!1,x=!1,y={},z=1,A=2,B=4,C=8;if(a.addEvent(b,"focus",function(){r.pickerOnfocus&&r.showPicker()}),a.addEvent(b,"blur",function(){t?t=!1:window.setTimeout(function(){t||l(),t=!1},0)}),u){var D=function(){r.fromString(u.value,z),p()};a.addEvent(u,"keyup",D),a.addEvent(u,"input",D),a.addEvent(u,"blur",m),u.setAttribute("autocomplete","off")}switch(v&&(v.jscStyle={backgroundImage:v.style.backgroundImage,backgroundColor:v.style.backgroundColor,color:v.style.color}),s){case 0:a.requireImage("hs.png");break;case 1:a.requireImage("hv.png")}a.requireImage("cross.gif"),a.requireImage("arrow.gif"),this.importColor()}};a.install()}).call(b,a,void 0)},{}],AkcfQD:[function(require,a){var b=self;(function(){b.L=require("leaflet"),L.Polyline.polylineEditor=L.Polygon.extend({_prepareMapIfNeeded:function(){var a=this;null==this._map._editablePolylines&&(this._map._editablePolylines=[],this._map._editablePolylinesEnabled=!0,this._options.newPolylines&&(console.log("click na map"),a._map.on("dblclick",function(b){if(console.log("click, target="+(b.target==a._map)+" type="+b.type),!a._map.isEditablePolylinesBusy()){var c=b.latlng;if(!a._options.newPolylineConfirmMessage||confirm(a._options.newPolylineConfirmMessage)){var d=[{originalPolylineNo:null,originalPointNo:null}];L.Polyline.PolylineEditor([c],a._options,d).addTo(a._map),a._showBoundMarkers()}}})),this._map.isEditablePolylinesBusy=function(){for(var a=this,b=0;b<a._editablePolylines.length;b++)if(a._editablePolylines[b]._isBusy())return!0;return!1},this._map.setEditablePolylinesEnabled=function(a){var b=this;b._editablePolylinesEnabled=a;for(var c=0;c<b._editablePolylines.length;c++){var d=b._editablePolylines[c];a?d._showBoundMarkers():d._hideAll()}},this._map.getEditablePolylines=function(){var a=this;return a._editablePolylines},this._map.fixAroundEditablePoint=function(a){for(var b=this,c=0;c<b._editablePolylines.length;c++){var d=b._editablePolylines[c];d._reloadPolyline(a)}})},_addMethods:function(){var a=this;this._init=function(b,c){this._prepareMapIfNeeded(),this._parseOptions(b),this._markers=[];for(var d=this.getLatLngs(),e=d.length,f=0;e>f;f++){var g=this._addMarkers(f,d[f]);"context"in g||(g.context={},null!=a._contexts&&(g.context=c[f])),!g.context||"originalPointNo"in g.context||(g.context.originalPointNo=f),!g.context||"originalPolylineNo"in g.context||(g.context.originalPolylineNo=a._map._editablePolylines.length)}this._map;this._map.on("zoomend",function(){a._showBoundMarkers()}),this._map.on("moveend",function(){a._showBoundMarkers()}),this._desiredPolylineNo&&null!=this._desiredPolylineNo?this._map._editablePolylines.splice(this._desiredPolylineNo,0,this):this._map._editablePolylines.push(this)},this._isBusy=function(){return a._busy},this._setBusy=function(b){a._busy=b},this.getPoints=function(){return this._markers},this._parseOptions=function(a){a||(a={}),"maxMarkers"in a||(a.maxMarkers=100),"newPolylines"in a||(a.newPolylines=!1),"newPolylineConfirmMessage"in a||(a.newPolylineConfirmMessage=""),"addFirstLastPointEvent"in a||(a.addFirstLastPointEvent="click"),"customPointListeners"in a||(a.customPointListeners={}),"customNewPointListeners"in a||(a.customNewPointListeners={}),this._options=a,a.pointIcon||(this._options.pointIcon=L.icon({iconUrl:"editmarker.png",iconSize:[11,11],iconAnchor:[6,6]})),a.newPointIcon||(this._options.newPointIcon=L.icon({iconUrl:"editmarker2.png",iconSize:[11,11],iconAnchor:[6,6]}))},this._showBoundMarkers=function(){if(a._map){if(this._setBusy(!1),!a._map._editablePolylinesEnabled)return void console.log("Do not show because editing is disabled");var b=a._map.getBounds(),c=0;for(var d in a._map._editablePolylines){var e=a._map._editablePolylines[d];for(var f in e._markers){var g=e._markers[f];b.contains(g.getLatLng())&&(c+=1)}}for(var d in a._map._editablePolylines){var e=a._map._editablePolylines[d];for(var f in e._markers){var g=e._markers[f];c<a._options.maxMarkers?(a._setMarkerVisible(g,b.contains(g.getLatLng())),a._setMarkerVisible(g.newPointMarker,b.contains(g.getLatLng()))):(a._setMarkerVisible(g,!1),a._setMarkerVisible(g.newPointMarker,!1))}}}},this._hideAll=function(b){this._setBusy(!0);for(var c in a._map._editablePolylines){console.log("hide "+c+" markers");var d=a._map._editablePolylines[c];for(var e in d._markers){var f=d._markers[e];(null==b||b!=f)&&d._setMarkerVisible(f,!1),(null==b||b!=f.newPointMarker)&&d._setMarkerVisible(f.newPointMarker,!1)}}},this._setMarkerVisible=function(a,b){if(a){var c=this._map;b?(a._visible||(a._map?c.addLayer(a):a.addTo(c),a._map=c),a._visible=!0):(a._visible&&c.removeLayer(a),a._visible=!1)}},this._reloadPolyline=function(b){a.setLatLngs(a._getMarkerLatLngs()),null!=b&&a._fixAround(b),a._showBoundMarkers()},this._addMarkers=function(a,b,c){var d=this,e=this.getLatLngs(),f=L.marker(b,{draggable:!0,icon:this._options.pointIcon,zIndexOffset:this._options.pointZIndexOffset});f.newPointMarker=null,f.on("dragstart",function(a){var b=d._getPointNo(a.target),c=d._getPrevMarker(b).getLatLng(),e=d._getNextMarker(b).getLatLng();d._setupDragLines(f,c,e),d._hideAll(f)}),f.on("dragend",function(a){var b=(a.target,d._getPointNo(a.target));setTimeout(function(){d._reloadPolyline(b)},25)}),f.on("contextmenu",function(a){var b=a.target,c=d._getPointNo(a.target);d._map.removeLayer(b),d._map.removeLayer(h),d._markers.splice(c,1),d._reloadPolyline(c)}),f.on(d._options.addFirstLastPointEvent,function(a){console.log("click on marker");var b=a.target,c=d._getPointNo(a.target);console.log("pointNo="+c+" that._markers.length="+d._markers.length),a.dont,0==c||c==d._markers.length-1?(console.log("first or last"),d._prepareForNewPoint(b,0==c?0:c+1)):console.log("not first or last")});var g=e[0==a?e.length-1:a-1],h=L.marker([(b.lat+g.lat)/2,(b.lng+g.lng)/2],{draggable:!0,icon:this._options.newPointIcon,zIndexOffset:this._options.pointZIndexOffset});if(f.newPointMarker=h,h.on("dragstart",function(a){var b=d._getPointNo(a.target),c=d._getPrevMarker(b).getLatLng(),e=d._markers[b].getLatLng();d._setupDragLines(f.newPointMarker,c,e),d._hideAll(f.newPointMarker)}),h.on("dragend",function(a){var b=a.target,c=d._getPointNo(a.target);d._addMarkers(c,b.getLatLng(),!0),setTimeout(function(){d._reloadPolyline()},25)}),h.on("contextmenu",function(a){{var b=a.target,c=d._getPointNo(b);d.getPoints()}d._hideAll();var e=d._markers.slice(c,c.length);d._markers.splice(c,d._markers.length-c),d._reloadPolyline();for(var f=[],g=[],h=0;h<e.length;h++){var b=e[h];f.push(b.getLatLng()),g.push(b.context)}console.log("points:"+f),console.log("contexts:"+g);var i=d._map._editablePolylines.indexOf(d);L.Polyline.PolylineEditor(f,d._options,g,i+1).addTo(d._map),d._showBoundMarkers()}),this._markers.splice(a,0,f),d._options.customPointListeners)for(var i in d._options.customPointListeners)f.on(i,d._options.customPointListeners[i]);if(d._options.customNewPointListeners)for(var i in d._options.customNewPointListeners)h.on(i,d._options.customNewPointListeners[i]);return c&&this._fixAround(a),f},this._prepareForNewPoint=function(b,c){setTimeout(function(){a._hideAll(),a._setupDragLines(b,b.getLatLng()),a._map.once("click",function(b){console.log("dodajemo na "+c+" - "+b.latlng),a._addMarkers(c,b.latlng,!0),a._reloadPolyline()})},100)},this._fixAround=function(b){if("number"==typeof b)var c=b;else var c=a._markers.indexOf(b);if(!(0>c)){var d=a._getPrevMarker(c),e=a._markers[c],f=a._getNextMarker(c);e&&d&&e.newPointMarker.setLatLng([(d.getLatLng().lat+e.getLatLng().lat)/2,(d.getLatLng().lng+e.getLatLng().lng)/2]),e&&f&&f.newPointMarker.setLatLng([(e.getLatLng().lat+f.getLatLng().lat)/2,(e.getLatLng().lng+f.getLatLng().lng)/2])}},this._getPointNo=function(a){for(var b=0;b<this._markers.length;b++)if(a==this._markers[b]||a==this._markers[b].newPointMarker)return b;return-1},this._getPrevMarker=function(a){var b=this._markers.length-1,c=0==a?b:a-1,d=this._markers[c];return d},this._getNextMarker=function(a){var b=this._markers.length-1,c=b>a?a+1:0,d=this._markers[c];return d},this._getMarkerLatLngs=function(){for(var a=[],b=0;b<this._markers.length;b++)a.push(this._markers[b].getLatLng());return a},this._setupDragLines=function(b,c,d){var e=null,f=null;c&&(e=L.polyline([b.getLatLng(),c],{dasharray:"5,1",weight:1}).addTo(a._map)),d&&(f=L.polyline([b.getLatLng(),d],{dasharray:"5,1",weight:1}).addTo(a._map));var g=function(a){e&&e.setLatLngs([a.latlng,c]),f&&f.setLatLngs([a.latlng,d])},h=function(){a._map&&(a._map.off("mousemove",g),b.off("dragend",h),e&&a._map.removeLayer(e),f&&a._map.removeLayer(f),console.log("STOPPED"))};a._map.on("mousemove",g),b.on("dragend",h),a._map.once("click",h),b.once("click",h),e&&e.once("click",h),f&&f.once("click",h)}}}),L.Polyline.polylineEditor.addInitHook(function(){this.on("add",function(a){return this._map=a.target._map,this._addMethods(),this._busy=!1,this._initialized=!1,this._init(this._options,this._contexts),this._initialized=!0,this
}),this.on("remove",function(a){var b=a.target,c=b._map,d=c.getEditablePolylines(),e=d.indexOf(b);e>-1&&d.splice(e,1)})}),L.Polyline.PolylineEditor=function(a,b,c,d){b.prepareOptions&&b.prepareOptions(b);var e=new L.Polyline.polylineEditor(a,b);return e._options=b,e._contexts=c,e._desiredPolylineNo=d,e}}).call(b,a,void 0)},{leaflet:"X317Tq"}],rIh4ea:[function(require,a){var b=self;(function(){b.L=require("leaflet"),L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:""},initialize:function(a,b){L.Util.setOptions(this,b),this._key=a,this._url=null,this.meta={},this.loadMetadata()},tile2quad:function(a,b,c){for(var d="",e=c;e>0;e--){var f=0,g=1<<e-1;0!=(a&g)&&(f+=1),0!=(b&g)&&(f+=2),d+=f}return d},getTileUrl:function(a,b){var b=this._getZoomForUrl(),c=this.options.subdomains,d=this.options.subdomains[Math.abs((a.x+a.y)%c.length)];return this._url.replace("{subdomain}",d).replace("{quadkey}",this.tile2quad(a.x,a.y,b)).replace("http:",document.location.protocol).replace("{culture}",this.options.culture)},loadMetadata:function(){var a=this,b="_bing_metadata_"+L.Util.stamp(this);window[b]=function(c){a.meta=c,window[b]=void 0;var d=document.getElementById(b);return d.parentNode.removeChild(d),c.errorDetails?void alert("Got metadata"+c.errorDetails):void a.initMetadata()};var c=document.location.protocol+"//dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+b+"&key="+this._key,d=document.createElement("script");d.type="text/javascript",d.src=c,d.id=b,document.getElementsByTagName("head")[0].appendChild(d)},initMetadata:function(){var a=this.meta.resourceSets[0].resources[0];if(this.options.subdomains=a.imageUrlSubdomains,this._url=a.imageUrl,this._providers=[],a.imageryProviders)for(var b=0;b<a.imageryProviders.length;b++)for(var c=a.imageryProviders[b],d=0;d<c.coverageAreas.length;d++){var e=c.coverageAreas[d],f={zoomMin:e.zoomMin,zoomMax:e.zoomMax,active:!1},g=new L.LatLngBounds(new L.LatLng(e.bbox[0]+.01,e.bbox[1]+.01),new L.LatLng(e.bbox[2]-.01,e.bbox[3]-.01));f.bounds=g,f.attrib=c.attribution,this._providers.push(f)}this._update()},_update:function(){null!=this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var a=this._map.getBounds(),b=this._map.getZoom(),c=0;c<this._providers.length;c++){var d=this._providers[c];b<=d.zoomMax&&b>=d.zoomMin&&a.intersects(d.bounds)?(!d.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(d.attrib),d.active=!0):(d.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(d.attrib),d.active=!1)}},onRemove:function(a){for(var b=0;b<this._providers.length;b++){var c=this._providers[b];c.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(c.attrib),c.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[a])}}),L.bingLayer=function(a,b){return new L.BingLayer(a,b)}}).call(b,a,void 0)},{leaflet:"X317Tq"}],LX5YHY:[function(require,a){var b=self;(function(){b.L=require("leaflet"),L.Google=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1},initialize:function(a,b){L.Util.setOptions(this,b),this._ready=void 0!=google.maps.Map,this._ready||L.Google.asyncWait.push(this),this._type=a||"SATELLITE"},onAdd:function(a,b){this._map=a,this._insertAtTheBottom=b,this._initContainer(),this._initMapObject(),a.on("viewreset",this._resetCallback,this),this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this),a.on("move",this._update,this),a.on("zoomanim",function(a){var b=a.center,c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c),this._google.setZoom(a.zoom)},this),a._controlCorners.bottomright.style.marginBottom="1em",this._reset(),this._update()},onRemove:function(a){this._map._container.removeChild(this._container),this._map.off("viewreset",this._resetCallback,this),this._map.off("move",this._update,this),a._controlCorners.bottomright.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(a){this.options.opacity=a,1>a&&L.DomUtil.setOpacity(this._container,a)},setElementSize:function(a,b){a.style.width=b.x+"px",a.style.height=b.y+"px"},_initContainer:function(){var a=this._map._container,b=a.firstChild;this._container||(this._container=L.DomUtil.create("div","leaflet-google-layer leaflet-top leaflet-left"),this._container.id="_GMapContainer_"+L.Util.stamp(this),this._container.style.zIndex="auto"),a.insertBefore(this._container,b),this.setOpacity(this.options.opacity),this.setElementSize(this._container,this._map.getSize())},_initMapObject:function(){if(this._ready){this._google_center=new google.maps.LatLng(0,0);var a=new google.maps.Map(this._container,{center:this._google_center,zoom:0,tilt:0,mapTypeId:google.maps.MapTypeId[this._type],disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1}),b=this;this._reposition=google.maps.event.addListenerOnce(a,"center_changed",function(){b.onReposition()}),a.backgroundColor="#ff0000",this._google=a}},_resetCallback:function(a){this._reset(a.hard)},_reset:function(){this._initContainer()},_update:function(a){if(this._google){this._resize();var b=a&&a.latlng?a.latlng:this._map.getCenter(),c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c),this._google.setZoom(this._map.getZoom())}},_resize:function(){var a=this._map.getSize();(this._container.style.width!=a.x||this._container.style.height!=a.y)&&(this.setElementSize(this._container,a),this.onReposition())},onReposition:function(){this._google&&google.maps.event.trigger(this._google,"resize")}}),L.Google.asyncWait=[],L.Google.asyncInitialize=function(){var a;for(a=0;a<L.Google.asyncWait.length;a++){var b=L.Google.asyncWait[a];b._ready=!0,b._container&&(b._initMapObject(),b._update())}L.Google.asyncWait=[]}}).call(b,a,void 0)},{leaflet:"X317Tq"}],"4Kh50C":[function(require,module,exports){var global=self;(function browserifyShim(module,define){global.L=require("leaflet"),function(window,undefined){L.Util.ajax=function(url,cb){window.XMLHttpRequest===undefined&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){throw new Error("XMLHttpRequest is not supported")}});var response,request=new XMLHttpRequest;request.open("GET",url),request.onreadystatechange=function(){4===request.readyState&&200===request.status&&(response=window.JSON?JSON.parse(request.responseText):eval("("+request.responseText+")"),cb(response))},request.send()},L.UtfGrid=L.Class.extend({includes:L.Mixin.Events,options:{subdomains:"abc",minZoom:0,maxZoom:18,tileSize:256,resolution:4,useJsonP:!0,pointerCursor:!0},_mouseOn:null,initialize:function(a,b){L.Util.setOptions(this,b),this._url=a,this._cache={};for(var c=0;window["lu"+c];)c++;this._windowKey="lu"+c,window[this._windowKey]={};var d=this.options.subdomains;"string"==typeof this.options.subdomains&&(this.options.subdomains=d.split(""))},onAdd:function(a){this._map=a,this._container=this._map._container,this._update();var b=this._map.getZoom();b>this.options.maxZoom||b<this.options.minZoom||(a.on("click",this._click,this),a.on("mousemove",this._move,this),a.on("moveend",this._update,this))},onRemove:function(){var a=this._map;a.off("click",this._click,this),a.off("mousemove",this._move,this),a.off("moveend",this._update,this)},_click:function(a){this.fire("click",this._objectForEvent(a))},_move:function(a){var b=this._objectForEvent(a);b.data!==this._mouseOn?(this._mouseOn&&(this.fire("mouseout",{latlng:a.latlng,data:this._mouseOn}),this.options.pointerCursor&&(this._container.style.cursor="")),b.data&&(this.fire("mouseover",b),this.options.pointerCursor&&(this._container.style.cursor="pointer")),this._mouseOn=b.data):b.data&&this.fire("mousemove",b)},_objectForEvent:function(a){var b=this._map,c=b.project(a.latlng),d=this.options.tileSize,e=this.options.resolution,f=Math.floor(c.x/d),g=Math.floor(c.y/d),h=Math.floor((c.x-f*d)/e),i=Math.floor((c.y-g*d)/e),j=b.options.crs.scale(b.getZoom())/d;f=(f+j)%j,g=(g+j)%j;var k=this._cache[b.getZoom()+"_"+f+"_"+g];if(!k)return{latlng:a.latlng,data:null};var l=this._utfDecode(k.grid[i].charCodeAt(h)),m=k.keys[l],n=k.data[m];return k.data.hasOwnProperty(m)||(n=null),{latlng:a.latlng,data:n}},_update:function(){var a=this._map.getPixelBounds(),b=this._map.getZoom(),c=this.options.tileSize;if(!(b>this.options.maxZoom||b<this.options.minZoom))for(var d=new L.Point(Math.floor(a.min.x/c),Math.floor(a.min.y/c)),e=new L.Point(Math.floor(a.max.x/c),Math.floor(a.max.y/c)),f=this._map.options.crs.scale(b)/c,g=d.x;g<=e.x;g++)for(var h=d.y;h<=e.y;h++){var i=(g+f)%f,j=(h+f)%f,k=b+"_"+i+"_"+j;this._cache.hasOwnProperty(k)||(this._cache[k]=null,this.options.useJsonP?this._loadTileP(b,i,j):this._loadTile(b,i,j))}},_loadTileP:function(a,b,c){var d=document.getElementsByTagName("head")[0],e=a+"_"+b+"_"+c,f="lu_"+e,g=this._windowKey,h=this,i=L.Util.template(this._url,L.Util.extend({s:L.TileLayer.prototype._getSubdomain.call(this,{x:b,y:c}),z:a,x:b,y:c,cb:g+"."+f},this.options)),j=document.createElement("script");j.setAttribute("type","text/javascript"),j.setAttribute("src",i),window[g][f]=function(a){h._cache[e]=a,delete window[g][f],d.removeChild(j)},d.appendChild(j)},_loadTile:function(a,b,c){var d=L.Util.template(this._url,L.Util.extend({s:L.TileLayer.prototype._getSubdomain.call(this,{x:b,y:c}),z:a,x:b,y:c},this.options)),e=a+"_"+b+"_"+c,f=this;L.Util.ajax(d,function(a){f._cache[e]=a})},_utfDecode:function(a){return a>=93&&a--,a>=35&&a--,a-32}})}(this)}).call(global,module,void 0)},{leaflet:"X317Tq"}],cIV21g:[function(require,module,exports){var global=self;(function browserifyShim(module,exports,define,browserify_shim__define__module__export__){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"use strict";var c=a.History=a.History||{};if("undefined"!=typeof c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={handlers:{},_uid:1,uid:function(a){return a._uid||(a._uid=c.Adapter._uid++)},bind:function(a,b,d){var e=c.Adapter.uid(a);c.Adapter.handlers[e]=c.Adapter.handlers[e]||{},c.Adapter.handlers[e][b]=c.Adapter.handlers[e][b]||[],c.Adapter.handlers[e][b].push(d),a["on"+b]=function(a,b){return function(d){c.Adapter.trigger(a,b,d)}}(a,b)},trigger:function(a,b,d){d=d||{};var e,f,g=c.Adapter.uid(a);for(c.Adapter.handlers[g]=c.Adapter.handlers[g]||{},c.Adapter.handlers[g][b]=c.Adapter.handlers[g][b]||[],e=0,f=c.Adapter.handlers[g][b].length;f>e;++e)c.Adapter.handlers[g][b][e].apply(this,[d])},extractEventData:function(a,c){var d=c&&c[a]||b;return d},onDomLoad:function(b){var c=a.setTimeout(function(){b()},2e3);a.onload=function(){clearTimeout(c),b()}}},"undefined"!=typeof c.init&&c.init()}(window),function(a){"use strict";var b=a.document,c=a.setTimeout||c,d=a.clearTimeout||d,e=a.setInterval||e,f=a.History=a.History||{};if("undefined"!=typeof f.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");f.initHtml4=function(){return"undefined"!=typeof f.initHtml4.initialized?!1:(f.initHtml4.initialized=!0,f.enabled=!0,f.savedHashes=[],f.isLastHash=function(a){var b,c=f.getHashByIndex();return b=a===c},f.isHashEqual=function(a,b){return a=encodeURIComponent(a).replace(/%25/g,"%"),b=encodeURIComponent(b).replace(/%25/g,"%"),a===b},f.saveHash=function(a){return f.isLastHash(a)?!1:(f.savedHashes.push(a),!0)},f.getHashByIndex=function(a){var b=null;return b="undefined"==typeof a?f.savedHashes[f.savedHashes.length-1]:0>a?f.savedHashes[f.savedHashes.length+a]:f.savedHashes[a]},f.discardedHashes={},f.discardedStates={},f.discardState=function(a,b,c){var d,e=f.getHashByState(a);return d={discardedState:a,backState:c,forwardState:b},f.discardedStates[e]=d,!0},f.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return f.discardedHashes[a]=d,!0},f.discardedState=function(a){var b,c=f.getHashByState(a);return b=f.discardedStates[c]||!1},f.discardedHash=function(a){var b=f.discardedHashes[a]||!1;return b},f.recycleState=function(a){var b=f.getHashByState(a);return f.discardedState(a)&&delete f.discardedStates[b],!0},f.emulated.hashChange&&(f.hashChangeInit=function(){f.checkerFunction=null;var c,d,g,h,i="",j=Boolean(f.getHash());return f.isInternetExplorer()?(c="historyjs-iframe",d=b.createElement("iframe"),d.setAttribute("id",c),d.setAttribute("src","#"),d.style.display="none",b.body.appendChild(d),d.contentWindow.document.open(),d.contentWindow.document.close(),g="",h=!1,f.checkerFunction=function(){if(h)return!1;h=!0;var b=f.getHash(),c=f.getHash(d.contentWindow.document);return b!==i?(i=b,c!==b&&(g=c=b,d.contentWindow.document.open(),d.contentWindow.document.close(),d.contentWindow.document.location.hash=f.escapeHash(b)),f.Adapter.trigger(a,"hashchange")):c!==g&&(g=c,j&&""===c?f.back():f.setHash(c,!1)),h=!1,!0}):f.checkerFunction=function(){var b=f.getHash()||"";return b!==i&&(i=b,f.Adapter.trigger(a,"hashchange")),!0},f.intervalList.push(e(f.checkerFunction,f.options.hashChangeInterval)),!0},f.Adapter.onDomLoad(f.hashChangeInit)),f.emulated.pushState&&(f.onHashChange=function(b){var c,d=b&&b.newURL||f.getLocationHref(),e=f.getHashByUrl(d),g=null,h=null;return f.isLastHash(e)?(f.busy(!1),!1):(f.doubleCheckComplete(),f.saveHash(e),e&&f.isTraditionalAnchor(e)?(f.Adapter.trigger(a,"anchorchange"),f.busy(!1),!1):(g=f.extractState(f.getFullUrl(e||f.getLocationHref()),!0),f.isLastSavedState(g)?(f.busy(!1),!1):(h=f.getHashByState(g),(c=f.discardedState(g))?(f.getHashByIndex(-2)===f.getHashByState(c.forwardState)?f.back(!1):f.forward(!1),!1):(f.pushState(g.data,g.title,encodeURI(g.url),!1),!0))))},f.Adapter.bind(a,"hashchange",f.onHashChange),f.pushState=function(b,c,d,e){if(d=encodeURI(d).replace(/%25/g,"%"),f.getHashByUrl(d))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(e!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:e}),!1;f.busy(!0);var g=f.createStateObject(b,c,d),h=f.getHashByState(g),i=f.getState(!1),j=f.getHashByState(i),k=f.getHash(),l=f.expectedStateId==g.id;return f.storeState(g),f.expectedStateId=g.id,f.recycleState(g),f.setTitle(g),h===j?(f.busy(!1),!1):(f.saveState(g),l||f.Adapter.trigger(a,"statechange"),f.isHashEqual(h,k)||f.isHashEqual(h,f.getShortUrl(f.getLocationHref()))||f.setHash(h,!1),f.busy(!1),!0)},f.replaceState=function(b,c,d,e){if(d=encodeURI(d).replace(/%25/g,"%"),f.getHashByUrl(d))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(e!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:e}),!1;f.busy(!0);var g=f.createStateObject(b,c,d),h=f.getHashByState(g),i=f.getState(!1),j=f.getHashByState(i),k=f.getStateByIndex(-2);return f.discardState(i,g,k),h===j?(f.storeState(g),f.expectedStateId=g.id,f.recycleState(g),f.setTitle(g),f.saveState(g),f.Adapter.trigger(a,"statechange"),f.busy(!1)):f.pushState(g.data,g.title,g.url,!1),!0}),void(f.emulated.pushState&&f.getHash()&&!f.emulated.hashChange&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(a,"hashchange")})))},"undefined"!=typeof f.init&&f.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;try{f.setItem("TEST","1"),f.removeItem("TEST")}catch(o){f=!1}if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(){return"undefined"==typeof m.Adapter?!1:("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.disableSuid=m.options.disableSuid||!1,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.options.html4Mode=m.options.html4Mode||!1,m.options.delayInit=m.options.delayInit||!1,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var a,b,e,f,g,h=!("undefined"==typeof c||"undefined"==typeof c.log||"undefined"==typeof c.log.apply),i=d.getElementById("log");for(h?(f=Array.prototype.slice.call(arguments),a=f.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[a,f]):c.log.apply(c,[a,f])):a="\n"+arguments[0]+"\n",b=1,e=arguments.length;e>b;++b){if(g=arguments[b],"object"==typeof g&&"undefined"!=typeof k)try{g=k.stringify(g)}catch(j){}a+="\n"+g+"\n"}return i?(i.value+=a+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):h||l(a),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated=m.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a,b=m.getState(!1,!1),c=(b||{}).url||m.getLocationHref();return a=c.replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=m.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.getLocationHref=function(a){return a=a||d,a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash?a.location.href:-1==a.URL.indexOf("#")&&-1!=a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b,c=m.extractId(a.url);if(!c)if(b=m.getStateString(a),"undefined"!=typeof m.stateToId[b])c=m.stateToId[b];else if("undefined"!=typeof m.store.stateToId[b])c=m.store.stateToId[b];else{for(;;)if(c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof m.idToState[c]&&"undefined"==typeof m.store.idToState[c])break;m.stateToId[b]=c,m.idToState[c]=a}return c},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(a.url?a.url:m.getLocationHref()),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&m.options.disableSuid!==!0&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d,e;return e=-1!=a.indexOf("#")?a.split("#")[0]:a,c=/(.*)\&_suid=([0-9]+)$/.exec(e),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c,d,e=null;return b=b||!1,c=m.extractId(a),c&&(e=m.getStateById(c)),e||(d=m.getFullUrl(a),c=m.getIdByUrl(d)||!1,c&&(e=m.getStateById(c)),e||!b||m.isTraditionalAnchor(a)||(e=m.createStateObject(null,null,d))),e},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b,c=!1;return b=m.extractState(a.url),c=b&&b.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b,c,d,e=!1;return m.savedStates.length&&(b=a.id,c=m.getLastSavedState(),d=c.id,e=b===d),e},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:0>a?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getCurrentIndex=function(){var a=null;return a=m.savedStates.length<1?0:m.savedStates.length-1},m.getHash=function(a){var b,c=m.getLocationHref(a);return b=m.getHashByUrl(c)},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=decodeURIComponent(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(m.busy(!0),c=m.extractState(a,!0),c&&!m.emulated.pushState?m.pushState(c.data,c.title,c.url,!1):m.getHash()!==a&&(m.bugs.setHash?(e=m.getPageUrl(),m.pushState(null,null,e+"#"+a,!1)):d.location.hash=a),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.encodeURIComponent(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var b,c=a.title;c||(b=m.getStateByIndex(0),b&&b.url===a.url&&(c=b.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=c,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b,c=m.extractState(m.getLocationHref());if(!m.isLastSavedState(c))return b=c,b||(b=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;a>=c;++c)m.forward(b);else{if(!(0>a))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var d,e,f=!1,g=!1;return m.doubleCheckComplete(),(d=m.getHash())?(e=m.extractState(d||m.getLocationHref(),!0),e?m.replaceState(e.data,e.title,e.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(f=m.Adapter.extractEventData("state",b,c)||!1,g=f?m.getStateById(f):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(m.getLocationHref()),g||(g=m.createStateObject(null,null,m.getLocationHref())),m.expectedStateId=!1,m.isLastSavedState(g)?(m.busy(!1),!1):(m.storeState(g),m.saveState(g),m.setTitle(g),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(m.getLocationHref(),!0))),f&&(m.onUnload=function(){var a,b,c;
try{a=k.parse(f.getItem("History.store"))||{}}catch(d){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),c=k.stringify(a);try{f.setItem("History.store",c)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;f.length&&(f.removeItem("History.store"),f.setItem("History.store",c))}},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),("Apple Computer, Inc."===e.vendor||"Mozilla"===(e.appCodeName||""))&&(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.options&&m.options.delayInit||m.init()}(window),browserify_shim__define__module__export__("undefined"!=typeof History?History:window.History)}).call(global,void 0,void 0,void 0,function(a){module.exports=a})},{}],iD7IeZ:[function(require,a){var b=self;(function(){b.jQuery=require("jquery"),function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'},d={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(d.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(d.input,{marginTop:"-1px"});var e=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),f=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),g=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),h=function(){function c(c){var e,f,g,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),g=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",g),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.savedPlaceholder=this.$input.attr("placeholder"),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,f,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHintValue(),e=this.getInputValue(),c=d&&d!==e&&!g(b);break;case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),!b&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},showPlaceholder:function(){this.$input.attr("placeholder",this.savedPlaceholder)},hidePlaceholder:function(){this.$input.attr("placeholder","")},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),i=function(){function e(d){d=d||{},d.templates=d.templates||{},d.source||a.error("missing source"),d.name&&!j(d.name)&&a.error("invalid dataset name: "+d.name),this.query=null,this.highlight=!!d.highlight,this.minLength=d.minLength,this.name=d.name||b.getUniqueId(),this.source=d.source,this.displayFn=h(d.display||d.displayKey),this.templates=i(d.templates,this.displayFn),this.$el=a(c.dataset.replace("%CLASS%",this.name))}function h(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function i(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function j(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var k="ttDataset",l="ttValue",m="ttDatum";return e.extractDatasetName=function(b){return a(b).data(k)},e.extractValue=function(b){return a(b).data(l)},e.extractDatum=function(b){return a(b).data(m)},b.mixin(e.prototype,f,{_render:function(e,f){function h(){return p.templates.empty({query:e,isEmpty:!0})}function i(){function h(b){var e,f,g;return f=p.templates.suggestion(b),g=c.suggestion.replace("%BODY%",f),e=a(g).data(k,p.name).data(l,p.displayFn(b)).data(m,b),e.children().each(function(){a(this).css(d.suggestionChild)}),e}var i,j;return i=a(c.suggestions).css(d.suggestions),j=b.map(f,h),i.append.apply(i,j),p.highlight&&g({node:i[0],pattern:e}),i}function j(){return p.templates.header({query:e,isEmpty:!o})}function n(){return p.templates.footer({query:e,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=f&&f.length,!o&&this.templates.empty?this.$el.html(h()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null):o&&this.$el.html(i()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){(a===c.query||0===c.minLength&&""===a)&&c._render(a,b)}var c=this;this.query=a,this.source(a,b)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),e}(),j=function(){function c(c){var d,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,e),d=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",d).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function e(a){return new i(a)}return b.mixin(c.prototype,f,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?d.ltr:d.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:i.extractDatum(a),value:i.extractValue(a),datasetName:i.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),k=function(){function f(c){var d,f,i;c=c||{},c.input||a.error("missing input"),this.autoselect=!!c.autoselect,this.minLength=c.minLength,this.$node=g(c.input,c.withHint),d=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),i=this.$node.find(".tt-hint"),this.eventBus=c.eventBus||new e({el:f}),this.dropdown=new j({menu:d,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:f,hint:i}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),d.on("mousedown.tt",function(a){b.isMsie()&&b.isMsie()<9&&(f[0].onbeforedeactivate=function(){window.event.returnValue=!1,f[0].onbeforedeactivate=null}),a.preventDefault()})}function g(b,e){var f,g,h,j;f=a(b),g=a(c.wrapper).css(d.wrapper),h=a(c.dropdown).css(d.dropdown),j=f.clone().css(d.hint).css(i(f)),j.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),f.data(l,{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")}),f.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(e?d.input:d.inputWithNoHint);try{!f.attr("dir")&&f.attr("dir","auto")}catch(k){}return f.wrap(g).parent().prepend(e?j:null).append(h)}function i(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function k(a){var c=a.find(".tt-input");b.each(c.data(l),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(l).removeClass("tt-input").insertAfter(a),a.remove()}var l="ttAttrs";return b.mixin(f.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){0===this.minLength&&this.dropdown.update(this.input.getQuery()),this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.input.showPlaceholder(),this.eventBus.trigger("closed")},_onFocused:function(){var a;this.dropdown.empty(),0===this.minLength&&(a=this.input.getQuery(),this.input.clearHint(),this.dropdown.update(a),this._setLanguageDirection()),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHint(),this.input.showPlaceholder(),this.dropdown.empty(),b.length>=this.minLength&&this.dropdown.update(b),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(c=this.input.getInputValue(),d=h.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.*$)","i"),g=f.exec(a.value),this.input.hidePlaceholder(),this.input.setHintValue(c+(g?g[1]:"")))},_autocomplete:function(){var a,b,c;a=this.input.getHintValue(),b=this.input.getQuery(),a&&b!==a&&this.input.isCursorAtEnd()&&(c=this.dropdown.getDatumForTopSuggestion(),c&&this.input.setInputValue(c.value),this.eventBus.trigger("autocompleted",c.raw,c.datasetName))},_select:function(a){this.input.clearHint(),this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(a){this.input.setInputValue(a)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),k(this.$node),this.$node=null}}),f}();!function(){var c,d,f;c=a.fn.typeahead,d="ttTypeahead",f={initialize:function(c,f){function g(){var g,h,i=a(this),j=b.isNumber(c.minLength)?c.minLength:1;b.each(f,function(a){a.highlight=!!c.highlight,a.minLength=j}),h=new k({input:i,eventBus:g=new e({el:i}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:j,autoselect:c.autoselect,datasets:f}),i.data(d,h)}return f=b.isArray(f)?f:[].slice.call(arguments,1),c=c||{},this.each(g)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setQuery(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getQuery()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return f[a]?f[a].apply(this,[].slice.call(arguments,1)):f.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery)}).call(b,a,void 0)},{jquery:"82HPDv"}],l1Y9Fe:[function(require,a,b){"use strict";function c(a,b,c){return h.isFunction(b)?b(a,c):h.isNull(b)?null:a.attr(b)}function d(a,b){var d=h.reduce(a,function(a,d,e){return a[e]=c(b,d,e),a},{});return d}function e(a){var b=a.stateModifiers||{};return f(a.selector).asEventStream("change").map(".target").map(f).map(d,b)}var f=require("jquery"),g=require("baconjs"),h=require("lodash");f.extend(f.fn,g.$),b.getVal=function(a){return a.val()},b.getOptionAttr=function(a){return function(b){return b.find("option:selected").attr(a)}},b.init=function(a){var b=h.map(a.widgets,e),c=a.externalStreams||[],d=g.mergeAll(b.concat(c)).scan(h.extend({},a.emptyState),h.partial(h.extend,{}));return d.onValue(function(b){h.each(a.widgets,function(a){a.reset(b)})}),d}},{baconjs:1,jquery:"82HPDv",lodash:14}],hurqpp:[function(require,a){"use strict";function b(a){function b(b){return new m.BingLayer(a.instance.basemap.bing_api_key,{type:b})}var c;return"bing"===a.instance.basemap.type?{Road:b("Road"),Aerial:b("Aerial"),Hybrid:b("AerialWithLabels")}:"tms"!==a.instance.basemap.type?{Streets:new m.Google("ROADMAP",{maxZoom:20}),Hybrid:new m.Google("HYBRID",{maxZoom:20}),Satellite:new m.Google("SATELLITE",{maxZoom:20})}:c=[m.tileLayer(a.instance.basemap.data,{maxZoom:20})]}function c(a){var b=f(a,"png"),c=m.tileLayer(b,{maxZoom:20});return p(c,b,a),c}function d(a){var b,c=f(a,"grid.json"),d={resolution:4,maxZoom:20};return k.support.cors?d.useJsonP=!1:(c+="&callback={cb}",d.useJsonP=!0),b=new m.UtfGrid(c,d),b.setUrl=function(a){b._url=a,b._cache={},b._update()},b}function e(a,b,c){var d=a.tileHost||"";return d+"/tile/"+a.instance.rev+"/database/otm/table/"+b+"/{z}/{x}/{y}."+c+"?instance_id="+a.instance.id}function f(a,b){return e(a,"treemap_mapfeature",b)}function g(a,b){return e(a,"treemap_boundary",b)}function h(a){return m.tileLayer(g(a,"png"),{maxZoom:20})}function i(a,b){var c=b.zoomLatLng,d=new m.LatLng(c.lat,c.lng);a.setCenterAndZoomLL(c.zoom,d)}function j(a){var b=a.getZoom(),c=a.getCenter();q.setZoomLatLng(b,c)}var k=require("jquery"),l=require("lodash"),m=require("leaflet"),n=require("treemap/utility"),o=require("treemap/baconUtils"),p=require("treemap/makeLayerFilterable"),q=require("treemap/urlState");require("utfgrid"),require("leafletbing"),require("leafletgoogle");var r=function(){};r.prototype={ZOOM_DEFAULT:11,ZOOM_PLOT:18,createTreeMap:function(a){var b=a.config,e=c(b),f=c(b),g=h(b),k=d(b);this._config=b,this._plotLayer=e,this._allPlotsLayer=f,this._utfLayer=k,f.setOpacity(.3),a.centerWM=a.centerWM||b.instance.center,a.zoom=a.zoom||this.ZOOM_DEFAULT;var m=this.createMap(a);return a.plotLayerViewOnly?this.layersControl.addOverlay(e,"OpenTreeMap Trees"):(m.addLayer(e),m.addLayer(k),m.utfEvents=o.leafletEventStream(k,"click")),m.addLayer(g),this.layersControl.addOverlay(g,"Boundaries"),a.trackZoomLatLng&&(m.on("moveend",l.partial(j,m)),q.stateChangeStream.filter(".zoomLatLng").onValue(l.partial(i,this))),m},createMap:function(a){var c=a.centerWM||{x:0,y:0},d=a.zoom||2,e=m.map(a.domId,{center:n.webMercatorToLeafletLatLng(c.x,c.y),zoom:d}),f=b(a.config);if(l.isArray(f))l.each(l.values(f),function(a){e.addLayer(a)});else{var g=l.keys(f)[0];e.addLayer(f[g]),this.layersControl=m.control.layers(f).addTo(e)}return a.disableScrollWithMouseWheel&&(e.scrollWheelZoom=!1),this.map=e,e},updateGeoRevHash:function(a){if(a!==this._config.instance.rev){this._config.instance.rev=a;var b=f(this._config,"png");this._plotLayer.setUnfilteredUrl(b),this._allPlotsLayer.setUnfilteredUrl(b),this._utfLayer.setUrl(f(this._config,"grid.json"))}},setFilter:function(a){this._plotLayer.setFilter(a),this._allPlotsLayer.map||this.map.addLayer(this._allPlotsLayer),l.isEmpty(a)&&this.map.removeLayer(this._allPlotsLayer)},setCenterAndZoomLL:function(a,b,c){var d=Math.max(this.map.getZoom(),Math.min(a,this.map.getMaxZoom()));this.map.setView(b,d,{reset:!!c})},setCenterAndZoomWM:function(a,b,c){this.setCenterAndZoomLL(a,n.webMercatorToLeafletLatLng(b.x,b.y),c)},setCenterWM:function(a,b){this.setCenterAndZoomWM(this.ZOOM_PLOT,a,b)},setCenterLL:function(a,b){this.setCenterAndZoomLL(this.ZOOM_PLOT,a,b)}},a.exports=r},{jquery:"82HPDv",leaflet:"X317Tq",leafletbing:"rIh4ea",leafletgoogle:"LX5YHY",lodash:14,"treemap/baconUtils":"1V7akS","treemap/makeLayerFilterable":"BOoNJj","treemap/urlState":"/j9n3m","treemap/utility":"GvDn+1",utfgrid:"4Kh50C"}],ugZDWz:[function(require,a){"use strict";function b(a){function b(){M.addClass("active"),N.removeClass("active"),C.hide(),O.showStep(0),O.enableNext(H,!1),Z.show(),$.hide()}function m(a){J=a}function n(){0===Q.val().length&&Q.focus()}function o(){var a={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},b=c.Deferred();return navigator.geolocation.getCurrentPosition(b.resolve,b.reject,a),g.fromPromise(b.promise())}function p(a){var b=f.lonLatToWebMercator(a.coords.longitude,a.coords.latitude);q(b)}function q(a){B.setCenterWM(a),C.place(a),r()}function r(){O.enableNext(H,!1),C.enableMoving(),Z.hide(),$.show()}function s(){O.enableNext(H,!0),Z.hide(),$.hide()}function t(){c(Y).hide();var a=u();a["plot.geom"]=C.getLocation(),d.each(a,function(b,c){null===b&&delete a[c]}),c.ajax({url:J,type:"POST",contentType:"application/json",data:JSON.stringify(a),success:[w,V.push],error:y})}function u(){var a=e.formToDictionary(W,c(X));return K(a),a}function v(){db.push(),D()}function w(a){B.updateGeoRevHash(a.geoRevHash);var b=f.$find('input[name="'+I+'"]:checked',F).val();if(!a.enabled)return v(),void c('[data-feature="add_plot"]').hide();switch(b){case"copy":O.showStep(0);break;case"new":x(),O.showStep(0);break;case"edit":v();var d=A.instance.url+"features/"+a.featureId+"/edit";window.location.hash="",window.location.href=d;break;case"close":v()}}function x(){c(X).find("input,select").each(function(){var a=c(this),b=a.prop("type");"checkbox"===b||"radio"===b?a.prop("checked",!1):a.val("")})}function y(a){if(a.responseJSON){var b=a.responseJSON.fieldErrors,f=d.map(b,function(a,b){var d=e.getField(c(Y),b);return d.length>0?(d.html(a.join(",")).show(),O.getStepNumberForElement(d[0])):O.maxStepNumber-1});O.showStep(d.min(f))}}function z(){M.removeClass("active"),N.addClass("active"),db.push()}var A=a.config,B=a.mapManager,C=a.plotMarker,D=a.onClose||c.noop,E=a.sidebar,F=c(E),G=a.formSelector,H=a.indexOfSetLocationStep,I=a.addFeatureRadioOptions,J=A.instance.url+"plots/",K=a.onSaveBefore||d.identity,L=j(A),M=a.$addFeatureHeaderLink,N=a.$exploreMapHeaderLink,O=require("treemap/stepControls").init(F),P=E+" .form-search input",Q=c(P),R=f.$find(".summaryAddress",F),S=f.$find(".geolocate",F),T=f.$find(".geocode-error",F),U=f.$find(".geolocate-error",F),V=a.triggerSearchBus,W=f.$find(G,F),X=G+' [data-class="edit"]',Y=a.validationFields||G+' [data-class="error"]',Z=f.$find(".place-marker-message",F),$=f.$find(".move-marker-message",F);c(X).show(),W.find('[data-class="display"]').hide();var _;navigator.geolocation?(_=S.asEventStream("click").flatMap(o),_.filter(".coords").onValue(p),_.onError(function(){U.show()})):(_=g.never(),S.prop("disabled",!0));var ab=C.firstMoveStream.filter(a.inMyMode);ab.onValue(s);var bb=O.allDoneStream;bb.onValue(t);var cb=f.$find(".cancelBtn",F).asEventStream("click");cb.onValue(D);var db=new g.Bus;db.plug(cb),db.onValue(function(){C.hide(),Q.val(""),x()}),O.stepChangeCompleteStream.onValue(function(a){a===H&&n()});var eb=l({inputs:P,button:".geocode"}),fb=eb.map(function(){return c(P).val()}),gb=L.geocodeStream(fb),hb=g.mergeAll([eb,_,ab,bb,db]),ib=k({geocodeResponseStream:gb,cancelGeocodeSuggestionStream:hb,resultTemplate:"#geocode-results-template",addressInput:P,displayedResults:E+' [data-class="geocode-result"]'});hb.onValue(function(){T.hide(),U.hide()}),ib.onValue(q),gb.onError(function(){T.show()});var jb=C.moveStream.filter(a.inMyMode),kb=i(A,jb,G);if(kb.onValue(function(a){var b=a.address,c=b.Address,d=b.City+" "+b.Region+" "+b.Postal;Q.val(c+" "+d),R.html(c+"<br/>"+d)}),kb.onError(Q,"val",""),"google"===a.config.instance.basemap.type){var lb=c("#streetview"),mb=null;jb.onValue(function(b){lb.show(),mb||(mb=h.create({streetViewElem:lb[0],noStreetViewText:a.config.trans.noStreetViewText,hideAddress:!0,location:b})),mb.update(b)}),db.onValue(function(){lb.hide()})}return{activate:b,deactivate:z,setAddFeatureUrl:m,focusOnAddressInput:n,getFormData:u,requireMarkerDrag:r,stepControls:O,addFeatureStream:bb,deactivateStream:db.map(d.identity)}}var c=require("jquery"),d=require("lodash"),e=require("treemap/fieldHelpers"),f=require("treemap/utility"),g=require("baconjs"),h=require("treemap/streetView"),i=require("treemap/reverseGeocodeStreamAndUpdateAddressesOnForm"),j=require("treemap/geocoder"),k=require("treemap/geocoderUi"),l=require("treemap/baconUtils").enterOrClickEventStream;a.exports={init:b}},{baconjs:1,jquery:"82HPDv",lodash:14,"treemap/baconUtils":"1V7akS","treemap/fieldHelpers":"LRi9Zk","treemap/geocoder":"pWA+Vw","treemap/geocoderUi":"Ekqu31","treemap/reverseGeocodeStreamAndUpdateAddressesOnForm":"yPAWjn","treemap/stepControls":"1e7UKO","treemap/streetView":"Lfdiyi","treemap/utility":"GvDn+1"}],oAX9x2:[function(require,a){"use strict";function b(a){function b(){var a=E.filter(":checked"),b=a.val(),f=a.next().text().trim(),g=a.data("area-field-name"),h=B.instance.url+"features/"+b+"/";if(b){A.setAddFeatureUrl(h),A.stepControls.enableNext(l,!0),A.stepControls.enableNext(n,!0),A.stepControls.enableNext(o,!1),G.text(f);var i=!!g;if(c(i),i){var j=b.slice(0,1).toLowerCase()+b.slice(1);y=j+"."+g}else y=null;s(),e.ajax({url:B.instance.url+"features/"+b+"/",type:"GET",dataType:"html",success:d})}}function c(a){var b=A.stepControls.maxStepNumber+1;a||b--,D.each(function(){e(this).text(b)}),A.stepControls.activateStep(n,a)}function d(a){F.html(a),h.$find('[data-class="edit"]',F).show(),h.$find('[data-class="display"]',F).hide(),q(),h.$find('input[type="radio"]',F).on("change",v),h.$find('input[type="text"]',F).on("keyup",w),h.$find("select",F).on("change",w)}function p(){E.prop("checked",!1),A.stepControls.enableNext(l,!1),I.hide(),s(),q()}function q(){h.$find(".resource-subquestion",F).hide()}function r(){var a=I.getLatLng(),b=h.offsetLatLngByMeters(a,-20,-20),c=[[a.lat,a.lng],[b.lat,a.lng],[b.lat,b.lng],[a.lat,b.lng]],d=g.icon({iconUrl:B.staticUrl+"img/polygon-point.png",iconSize:[11,11],iconAnchor:[6,6]}),e=g.icon({iconUrl:B.staticUrl+"img/polygon-point-new.png",iconSize:[11,11],iconAnchor:[6,6]});
z=g.Polyline.PolylineEditor(c,{pointIcon:d,newPointIcon:e,pointZIndexOffset:1e3}),z.addTo(H.map)}function s(){z&&(u(),H.map.removeLayer(z),z=null)}function t(){z||r(),H.map.setEditablePolylinesEnabled(!0)}function u(){z&&H.map.setEditablePolylinesEnabled(!1)}function v(a){var b=e(a.target),c="True"===b.val(),d=b.closest(".resource-question, .resource-subquestion"),f=d.children(".resource-subquestion");f.toggle(c),w()}function w(){var a=F.find(".resource-question, .resource-subquestion:visible"),b=a.children(".field-edit"),c=b.find("input[type!=radio],select").serializeArray(),d=f.map(c,function(a){return a.value.trim().length>0}),e=b.filter(":has(input[type=radio])"),g=e.find(":checked"),h=f.every(d)&&e.length===g.length;A.stepControls.enableNext(o,h)}function x(a){if(y){var b=f.map(z.getPoints(),function(a){var b=a.getLatLng();return[b.lng,b.lat]});b.push(b[0]),a[y]={polygon:b}}}a.onSaveBefore=x;var y,z,A=i.init(a),B=a.config,C=e(a.sidebar),D=h.$find(".footer-total-steps",C),E=h.$find('input[name="addResourceType"]',C),F=h.$find(a.formSelector,C),G=h.$find(".summaryHead",C),H=(h.$find(".summarySubhead",C),a.mapManager),I=a.plotMarker;E.on("change",b),A.addFeatureStream.onValue(p),A.deactivateStream.onValue(p),j=function(){A.activate(),I.useTreeIcon(!1),p()},k=function(){s(),A.deactivate()},A.stepControls.stepChangeCompleteStream.onValue(function(a){a===m?I.wasMoved()?I.enableMoving({needsFirstMove:!1}):I.enablePlacing():I.disableMoving(),a===n?t():u()})}function c(){j()}function d(){k()}var e=require("jquery"),f=require("lodash"),g=require("leaflet"),h=require("treemap/utility"),i=require("treemap/addMapFeature");require("leafletEditablePolyline");var j=f.identity,k=f.identity,l=0,m=1,n=2,o=3;a.exports={name:"addResource",init:b,activate:c,deactivate:d,lockOnActivate:!0}},{jquery:"82HPDv",leaflet:"X317Tq",leafletEditablePolyline:"AkcfQD",lodash:14,"treemap/addMapFeature":"ugZDWz","treemap/utility":"GvDn+1"}],BWtOM5:[function(require,a){"use strict";function b(a){function b(){var a=c.getFormData();return f.some(a,function(a,b){return b&&0===b.indexOf("tree")&&a})}var c=h.init(a),d=a.plotMarker,o=e(a.sidebar),p=g.$find("#add-tree-species-typeahead",o),q=g.$find('[data-typeahead-input="tree.species"]',o),r=g.$find(".summaryHead",o),s=g.$find(".summarySubhead",o);k=function(){c.activate(),d.useTreeIcon(!0),d.enablePlacing()},l=c.deactivate,i.bulkCreate(a.typeaheads),j({formSelector:a.formSelector,cancelStream:c.deactivateStream,saveOkStream:c.addFeatureStream}),c.stepControls.stepChangeCompleteStream.onValue(function(a){a===m&&0===q.val().length&&q.focus()}),c.stepControls.stepChangeStartStream.onValue(function(a){if(a===n){var c=p.data("datum"),d=c?c.common_name:b()?"Missing species":"Empty planting site",e=c?c.scientific_name:"";r.text(d),s.text(e)}}),c.addFeatureStream.onValue(c.requireMarkerDrag),f.defer(function(){c.focusOnAddressInput()})}function c(){k()}function d(){l()}var e=require("jquery"),f=require("lodash"),g=require("treemap/utility"),h=require("treemap/addMapFeature"),i=require("treemap/otmTypeahead"),j=require("treemap/diameterCalculator"),k=f.identity,l=f.identity,m=1,n=2;a.exports={name:"addTree",init:b,activate:c,deactivate:d,lockOnActivate:!0}},{jquery:"82HPDv",lodash:14,"treemap/addMapFeature":"ugZDWz","treemap/diameterCalculator":"bHPpxi","treemap/otmTypeahead":"YmFftR","treemap/utility":"GvDn+1"}],VkemSt:[function(require,a,b){"use strict";function c(a,b,c){return function(d){var f=d.status?d.status.toString():"default",g=b.errorMessages[f]||b.errorMessages.default;c=c||{},g.title&&g.message?a.call(e,g.message,g.title,c):g.message?a.call(e,g.message,c):g.title&&a.call(e,"",g.title,c)}}{var d=require("lodash"),e=require("toastr");require("jquery")}b.makeErrorCallback=d.partial(c,e.error),b.makeWarningCallback=d.partial(c,e.warning),b.makeInfoCallback=d.partial(c,e.info)},{jquery:"82HPDv",lodash:14,toastr:"Z57M2G"}],"treemap/mapFeature":[function(require,a){a.exports=require("lsGmQn")},{}],"treemap/resource":[function(require,a){a.exports=require("Shjz5c")},{}],lsGmQn:[function(require,a,b){"use strict";var c=require("jquery"),d=require("lodash"),e=require("toastr"),f=require("treemap/inlineEditForm"),g=require("treemap/MapManager"),h=require("treemap/baconUtils"),i=require("baconjs"),j=require("treemap/utility"),k=require("treemap/plotMover"),l=require("treemap/plotDelete"),m=require("treemap/plotMarker"),n=require("treemap/statePrompter"),o=require("treemap/csrf"),p=require("treemap/imageUploadPanel"),q=require("treemap/socialMediaSharing"),r=require("treemap/reverseGeocodeStreamAndUpdateAddressesOnForm"),s=require("treemap/streetView"),t=require("history"),u=require("treemap/alerts"),v={favoriteLink:"#favorite-link",favoriteIcon:"#favorite-star"};b.init=function(a){function b(a){H.onSaveBefore(a)}var w=c(a.ecoBenefits),x=window.location.href;"edit"==j.getLastUrlSegment(x)&&(x=j.removeLastUrlSegment(x)),c.ajaxSetup(o.jqueryAjaxSetupOptions);{var y=n.init({warning:a.config.trans.exitWarning,question:a.config.trans.exitQuestion}),z=p.init(a.imageUploadPanel),A=new i.Bus,B=A.merge(c(window).asEventStream("popstate").map(function(){return"edit"===j.getLastUrlSegment()})),C=f.init(d.extend(a.inlineEditForm,{config:a.config,updateUrl:x,onSaveBefore:b,shouldBeInEditModeStream:B,errorCallback:u.makeErrorCallback(a.config)}));l.init({config:a.config,"delete":a.delete,deleteConfirm:a.deleteConfirm,deleteCancel:a.deleteCancel,deleteConfirmationBox:a.deleteConfirmationBox,treeIdColumn:a.treeIdColumn})}if(a.config.instance.supportsEcobenefits){var D=j.appendSegmentToUrl("eco",x);C.saveOkStream.map(w).onValue(".load",D)}var E=C.saveOkStream.merge(z),F=j.appendSegmentToUrl("sidebar",x);E.map(c(a.sidebar)).onValue(".load",F),C.inEditModeProperty.onValue(function(a){var b="edit"===j.getLastUrlSegment();a?(y.lock(),b||t.replaceState(null,document.title,j.appendSegmentToUrl("edit"))):(y.unlock(),b&&t.replaceState(null,document.title,j.removeLastUrlSegment()))}),a.startInEditMode&&(a.config.loggedIn?A.push(!0):window.location=a.config.loginUrl+window.location.href);var G=new g;G.createTreeMap({config:a.config,domId:"map",disableScrollWithMouseWheel:!0,centerWM:a.location.point,zoom:G.ZOOM_PLOT}),m.init(a.config,G.map),m.useTreeIcon(a.useTreeIcon),r(a.config,m.moveStream,a.form);var H=k.init({mapManager:G,plotMarker:m,inlineEditForm:C,editLocationButton:a.location.edit,cancelEditLocationButton:a.location.cancel,location:a.location.point}),I=j.removeLastUrlSegment(x),J=G.map.utfEvents.map(".data."+a.config.utfGrid.mapfeatureIdKey).filter(h.isDefinedNonEmpty);if(J.filter(h.not,a.featureId).map(d.partialRight(j.appendSegmentToUrl,I,!1)).onValue(d.bind(window.location.assign,window.location)),"google"===a.config.instance.basemap.type){var K=c(a.streetView);K.show();var L=s.create({streetViewElem:K[0],noStreetViewText:a.config.trans.noStreetViewText,location:a.location.point});C.saveOkStream.map(".formData").map(h.getValueForKey("plot.geom")).filter(h.isDefined).onValue(L.update)}var M=c(v.favoriteLink),N=c(v.favoriteIcon);return a.config.loggedIn&&M.on("click",function(a){var b="True"===M.attr("data-is-favorited"),d=M.attr(b?"data-unfavorite-url":"data-favorite-url");c.ajax({dataType:"json",url:d,type:"POST"}).done(function(){b?(N.addClass("icon-star-empty"),N.removeClass("icon-star"),M.attr("data-is-favorited","False")):(N.removeClass("icon-star-empty"),N.addClass("icon-star"),M.attr("data-is-favorited","True"))}).fail(function(){e.error("Could not save your favorite")}),a.preventDefault()}),q.init(d.extend(a,{imageFinishedStream:z})),{inlineEditForm:C}}},{baconjs:1,history:"cIV21g",jquery:"82HPDv",lodash:14,toastr:"Z57M2G","treemap/MapManager":"hurqpp","treemap/alerts":"VkemSt","treemap/baconUtils":"1V7akS","treemap/csrf":"jYFnat","treemap/imageUploadPanel":"ik6dej","treemap/inlineEditForm":"na0fp5","treemap/plotDelete":"EAIA0U","treemap/plotMarker":"iNIg4+","treemap/plotMover":"MjySsv","treemap/reverseGeocodeStreamAndUpdateAddressesOnForm":"yPAWjn","treemap/socialMediaSharing":"mVtR9n","treemap/statePrompter":"auVsb2","treemap/streetView":"Lfdiyi","treemap/utility":"GvDn+1"}],jqueryUiWidget:[function(require,a){a.exports=require("08VB7T")},{}],"treemap/mapPage":[function(require,a){a.exports=require("l4ZWUO")},{}],jqueryIframeTransport:[function(require,a){a.exports=require("mYaY/p")},{}],l4ZWUO:[function(require,a){"use strict";function b(a){return d.isUndefined(a)||d.isUndefined(a.filter)||!a.filter["mapFeature.geom"]?void 0:parseFloat(a.filter["mapFeature.geom"].IN_BOUNDARY,10)}var c=require("jquery"),d=require("lodash"),e=require("baconjs"),f=(require("leaflet"),require("treemap/baconUtils"),require("treemap/MapManager")),g=new f,h=require("treemap/urlState"),i=require("treemap/searchBar"),j=require("treemap/boundarySelect");c.ajaxSetup(require("treemap/csrf").jqueryAjaxSetupOptions),a.exports.init=function(a){var c=a.config;g.createTreeMap(a);var d=i.init(c);d.geocodedLocationStream.onValue(g,"setCenterWM");var f=e.mergeAll(h.stateChangeStream.filter(".search").map(".search"),d.resetStream.map({})),k=e.mergeAll(f,d.filterNonGeocodeObjectStream);return f.onValue(d.applySearchToDom),k.onValue(h.setSearch),j.init({config:c,idStream:k.map(b),map:g.map,style:{fillOpacity:.3,fillColor:c.instance.secondaryColor||"#56abb2"}}),{mapManager:g,map:g.map,builtSearchEvents:k,getMapStateSearch:h.getSearch,mapStateChangeStream:h.stateChangeStream,initMapState:h.init}}},{baconjs:1,jquery:"82HPDv",leaflet:"X317Tq",lodash:14,"treemap/MapManager":"hurqpp","treemap/baconUtils":"1V7akS","treemap/boundarySelect":"eB/kqO","treemap/csrf":"jYFnat","treemap/searchBar":"xNii9C","treemap/urlState":"/j9n3m"}],jqueryFileUpload:[function(require,a){a.exports=require("1ZBhLG")},{}],"treemap/otmTypeahead":[function(require,a){a.exports=require("YmFftR")},{}],typeahead:[function(require,a){a.exports=require("iD7IeZ")},{}],YmFftR:[function(require,a,b){"use strict";function c(a){return e(a.target).val()}function d(a){return a.asEventStream("input").map(c)}require("bootstrap"),require("typeahead");var e=require("jquery"),f=require("lodash"),g=require("mustache"),h=(require("baconjs"),require("bloodhound")),i=require("treemap/baconUtils");b.getDatum=function(a){return a.data("datum")};var j=function(a){return a=f.map(a,function(a){var b=1;return"-"===a.charAt(0)&&(b=-1,a=a.slice(1)),{key:a,sign:b}}),function(b,c){function d(a){return b[a]<c[a]?-1:b[a]>c[a]?1:0}for(var e,f,g=0;g<a.length&&(f=a[g],e=f.sign*d(f.key),0===e);g++);return e}},k=b.create=function(a){var b=(a.config,g.compile(e(a.template).html())),c=e(a.input),k=e(a.hidden),l=e(a.button),m=a.reverse,n=f.isArray(a.sortKeys)?j(a.sortKeys):void 0,o=new h({name:a.name,prefetch:{url:a.url,ttl:0},limit:3e3,datumTokenizer:function(a){return a.tokens},queryTokenizer:h.tokenizers.nonword,sorter:n}),p=o.initialize(),q=function(a,b,c){b?c&&0!==c.length?o.get("",function(d){var e=f.filter(d,function(a){return a[b]==c});e.length>0&&r(a,e[0].value)}):r(a,""):r(a,c)},r=function(a,b){a.typeahead("val",b),a.typeahead("close")};c.typeahead({minLength:a.minLength||0},{source:o.ttAdapter(),templates:{suggestion:b}});var s=c.asEventStream("typeahead:selected typeahead:autocompleted",function(a,b){return b}),t=c.asEventStream("keyup").filter(i.keyCodeIs([8,46])),u=s.merge(t.map(void 0)).skipDuplicates(),v=s.map(".id").merge(t.map(""));if(u.filter(i.isDefined).onValue(c,"data","datum"),u.filter(i.isUndefined).onValue(c,"removeData","datum"),a.forceMatch&&c.on("blur",function(){c.find(".tt-dropdown-menu").is(":visible")||void 0===c.data("datum")&&r(c,"")}),d(c).merge(v.map("")).onValue(c,"attr","data-unmatched"),a.hidden&&(v.onValue(k,"val"),p.done(function(){var a=k.val();a&&q(c,m,a)}),k.on("restore",function(a,b){p.done(function(){q(c,m,b)}),k.val(b||"")})),a.button){var w=!1;c.on("typeahead:opened",function(){w=!0}),c.on("typeahead:closed",function(){w=!1,l.removeClass("active")}),l.on("click",function(a){a.preventDefault(),w?c.typeahead("close"):(r(c,""),c.typeahead("open"),w&&l.addClass("active"))})}};b.bulkCreate=function(a){f.each(a,k)}},{baconjs:1,bloodhound:"NbqfyZ",bootstrap:"Y0FfMV",jquery:"82HPDv",lodash:14,mustache:16,"treemap/baconUtils":"1V7akS",typeahead:"iD7IeZ"}],leafletEditablePolyline:[function(require,a){a.exports=require("AkcfQD")},{}],"treemap/photoReview":[function(require,a){a.exports=require("uY7H5k")},{}],"importer/importsList":[function(require,a){a.exports=require("d+/q2E")},{}],uY7H5k:[function(require,a,b){"use strict";var c=require("jquery"),d=require("treemap/utility"),e=require("baconjs"),f=require("treemap/baconUtils"),g=require("history"),h=require("treemap/csrf");c.ajaxSetup(h.jqueryAjaxSetupOptions),b.init=function(a){function b(a){n.find(".errors").html(a)}function h(){var a=d.parseQueryString.n||1;return f.jsonRequest("GET",m)({n:a})}function i(){return!!n.find(".pagination li:last-child [data-page]").attr("data-page")}function j(a){var b=n.find(".pagination li").asEventStream("click").map(".target").map(c).map(".data","page").filter(f.isDefinedNonEmpty);b.map(function(a){return"?n="+a+window.location.hash}).onValue(function(a){g.pushState(null,document.title,a)});var d=b.merge(a).map(function(a){return{n:a}}).flatMap(f.jsonRequest("GET",l));return d.onValue(n,"html"),d.onValue(j,a),d}var k=new e.Bus,l=a.url,m=a.nextPhotoUrl,n=c(a.container),o=k.map(d.parseQueryString).map(".n").filter(f.id);window.addEventListener("popstate",function(){k.push()},!1),n.on("click",".action",function(a){a.preventDefault();var d=c(this).closest("[data-photo]"),e=f.jsonRequest("POST",c(this).attr("href"))();e.onValue(function(){d.remove()}),e.onError(b),i()&&e.flatMap(h).map(c).onValue(n.find("[data-photo-container]"),"append")}),j(o)}},{baconjs:1,history:"cIV21g",jquery:"82HPDv","treemap/baconUtils":"1V7akS","treemap/csrf":"jYFnat","treemap/utility":"GvDn+1"}],"importer/status":[function(require,a){a.exports=require("+6H+2m")},{}],"treemap/plot":[function(require,a){a.exports=require("l40IvI")},{}],"otm_comments/comments":[function(require,a){a.exports=require("MA5cR5")},{}],l40IvI:[function(require,a,b){"use strict";function c(a,b){return a.map(b).filter(f.not(e.isUndefined)).filter(f.not(e.isNull))}{var d=require("jquery"),e=require("lodash"),f=require("ramda"),g=require("util").format,h=require("treemap/otmTypeahead"),i=(require("treemap/fieldHelpers"),require("treemap/diameterCalculator")),j=require("treemap/plotUdf"),k=require("treemap/plotAddTree");require("moment")}require("bootstrap-datepicker"),b.init=function(a){function b(b){var c=d(a.treeIdColumn);c.attr("data-tree-id",b),c.html(g('<a href="trees/%s/">%s</a>',b,b)),d(a.treePresenceSection).hide()}var e=a.form,f=d(a.treeSection),l=c(e.saveOkStream,".responseData.treeId"),m=c(e.saveOkStream,".responseData.feature.title"),n=c(e.saveOkStream,".responseData.feature.address_full");h.bulkCreate(a.typeaheads),d("[data-date-format]").datepicker(),i({formSelector:"#plot-form",cancelStream:e.cancelStream,saveOkStream:e.saveOkStream}),j.init(e),l.onValue(b),m.onValue(d("#map-feature-title"),"html"),n.onValue(d("#map-feature-address"),"html");var o=k.init(a);o.onValue(f,"show"),e.cancelStream.skipUntil(o).takeUntil(l).onValue(f,"hide")}},{"bootstrap-datepicker":"qeak1/",jquery:"82HPDv",lodash:14,moment:15,ramda:17,"treemap/diameterCalculator":"bHPpxi","treemap/fieldHelpers":"LRi9Zk","treemap/otmTypeahead":"YmFftR","treemap/plotAddTree":"Hb58QM","treemap/plotUdf":"THy4jb",util:7}],"otm_comments/flagging":[function(require,a){a.exports=require("aC3unq")},{}],"treemap/plotAddTree":[function(require,a){a.exports=require("Hb58QM")},{}],"otm_comments/moderation":[function(require,a){a.exports=require("3USC3r")},{}],Hb58QM:[function(require,a,b){"use strict";var c=require("jquery"),d=require("ramda"),e=(require("baconjs"),require("treemap/fieldHelpers"));require("treemap/baconUtils"),b.init=function(a){function b(b){var d=c(a.inlineEditForm.editFields);e.getSerializableField(d,"tree.plot").val(b)}function f(){j.hide(),k.hide(),b("")}function g(){j.show(),k.show(),b("")}function h(){j.show(),k.hide(),b(a.plotId)}var i=a.form.inEditModeProperty,j=c(a.addTreeControls),k=c(a.beginAddTree),l=k.asEventStream("click"),m=i.filter(d.eq(!0)),n=i.filter(d.eq(!1));return l.onValue(h),m.onValue(g),n.onValue(f),l}},{baconjs:1,jquery:"82HPDv",ramda:17,"treemap/baconUtils":"1V7akS","treemap/fieldHelpers":"LRi9Zk"}],"treemap/BaconModels":[function(require,a){a.exports=require("l1Y9Fe")},{}],"treemap/plotDelete":[function(require,a){a.exports=require("EAIA0U")},{}],"treemap/MapManager":[function(require,a){a.exports=require("hurqpp")},{}],EAIA0U:[function(require,a,b){"use strict";var c=require("jquery"),d=require("lodash"),e=require("treemap/utility");b.init=function(a){var b=a.config,f=c(a.delete),g=c(a.deleteConfirm),h=c(a.deleteCancel),i=c(a.deleteConfirmationBox),j=(c('div[data-field="plot.id"]').attr("data-value"),function(){return c(a.treeIdColumn).attr("data-tree-id")}),k=function(){""===j()?(c("#delete-plot-warning").show(),c("#delete-tree-warning").hide()):(c("#delete-tree-warning").show(),c("#delete-plot-warning").hide()),i.hide()},l=function(){var a,f,g=j(),h=d.compose(e.removeLastUrlSegment,e.removeLastUrlSegment),i=d.contains(e.getUrlSegments(document.URL),"trees");i&&""!==g?(a=document.URL,f=h(document.URL)):""===g?(a=document.URL,f=b.instance.mapUrl):(a="trees/"+g+"/",f=document.URL),c.ajax({url:a,type:"DELETE",success:function(){window.location=f}})};g.click(l),h.click(k),f.click(function(){k(),i.show()})}},{jquery:"82HPDv",lodash:14,"treemap/utility":"GvDn+1"}],"treemap/addMapFeature":[function(require,a){a.exports=require("ugZDWz")},{}],"treemap/plotMarker":[function(require,a){a.exports=require("iNIg4+")},{}],"treemap/addResourceMode":[function(require,a){a.exports=require("oAX9x2")},{}],"iNIg4+":[function(require,a,b){"use strict";function c(a){b.disablePlacing(),b.place(a.latlng),d(),h()}function d(a){!a||a.needsFirstMove?(f(!0,"animated"),l=!1):f(!0),k=i.dragging,k.enable()}function e(){k&&k.disable(),p.hasLayer(i)&&y()}function f(a,b){i.setIcon(g(a,b)),i.addTo(p)}function g(a,b){var c=j?"":"droplet_",d=n.staticUrl+"img/mapmarker_"+c+(a?"editmode.png":"viewmode.png");return u.icon({iconUrl:d,iconSize:[78,75],iconAnchor:[36,62],className:b})}function h(){x.push(i.getLatLng()),l||(l=!0,w.push(i.getLatLng()),i.setIcon(g(!0,"")))}var i,j,k,l,m,n,o,p,q,r=(require("jquery"),require("lodash")),s=require("baconjs"),t=require("treemap/utility"),u=require("leaflet"),v=require("leaflet-pip"),w=new s.Bus,x=new s.Bus;b=a.exports={init:function(a,b){p=b,n=a,q=u.geoJson(n.instance.bounds,{style:{color:"#dddddd",fill:!1,dashArray:"5, 10"}})},useTreeIcon:function(a){j=a},bindPopup:function(a){i&&i.bindPopup(a)},unbindPopup:function(){i&&i.unbindPopup()},firstMoveStream:w,moveStream:x.map(r.identity),enablePlacing:function(){if(q.addTo(p),!m){var a=t.webMercatorToLeafletLatLng(n.instance.center.x,n.instance.center.y);m=u.marker(a),p.on("mousemove",function(a){var b=a.latlng,c=v.pointInLayer(b,q,!0);c.length>0&&m.setLatLng(a.latlng)})}m.setIcon(g(!1)),m.addTo(p),p.on("click",c)},disablePlacing:function(){p.removeLayer(q),m&&p.removeLayer(m),p.off("click",c)},place:function(a){m&&p.removeLayer(m);var b;b="undefined"!=typeof a.x&&"undefined"!=typeof a.y?t.webMercatorToLeafletLatLng(a.x,a.y):a,i?i.setLatLng(b):(i=u.marker(b,{icon:g(!0)}),i.on("dragend",h)),y(),l=!1},enableMoving:d,disableMoving:e,hide:function(){i&&(o=i.getLatLng(),p.removeLayer(i)),b.disablePlacing(),l=!1},getLocation:function(){var a=b.getLatLng();return t.lonLatToWebMercator(a.lng,a.lat)},getLatLng:function(){return i?i.getLatLng():o},wasMoved:function(){return l}};var y=r.partial(f,!1,"")},{baconjs:1,jquery:"82HPDv",leaflet:"X317Tq","leaflet-pip":12,lodash:14,"treemap/utility":"GvDn+1"}],"treemap/addTreeMode":[function(require,a){a.exports=require("BWtOM5")},{}],"treemap/plotUdf":[function(require,a){a.exports=require("THy4jb")},{}],"treemap/alerts":[function(require,a){a.exports=require("VkemSt")},{}],THy4jb:[function(require,a,b){"use strict";var c=require("jquery"),d=require("lodash"),e=require("ramda"),f=require("util").format,g=require("moment"),h=d.template('<tr data-value-id=""><% _.each(fields, function (field) { %><td data-value="<%= field.value %>"> <%= field.display %> </td><% }) %><td></td></tr>'),i='<a href="javascript:;" class="btn btn-mini resolveBtn" data-class="edit">Resolve</a>';require("bootstrap-datepicker"),b.init=function(a){function b(a){var b=c(a.target),d=b.closest("tr").find('td:contains("Unresolved")');d.text("Resolved"),d.attr("data-value","Resolved")}function j(){var a=c('table[data-udf-name$="Alerts"]'),d=a.find(".resolveBtn"),e=a.find('tr[data-value-id] td:contains("Unresolved")');d.remove(),e.next().append(i),a.find(".resolveBtn").click(b)}function k(a){var b=c(a);if(b.attr("data-date-display-format")){var d=b.attr("data-date-display-format"),e=b.attr("data-date-serialize-format"),f=b.datepicker("getDate");return{display:g(f).format(d),value:g(f).format(e)}}return{value:b.val(),display:b.val()}}c("a[data-udf-id]").click(function(){var a=c(this).data("udf-id"),b=f('table[data-udf-id="%s"] * [data-field-name]',a),e=c(b).toArray(),g=d.map(e,k);c(this).closest("table").append(h({fields:g}))}),a.inEditModeProperty.filter(e.eq(!0)).onValue(j)}},{"bootstrap-datepicker":"qeak1/",jquery:"82HPDv",lodash:14,moment:15,ramda:17,util:7}],"treemap/baconUtils":[function(require,a){a.exports=require("1V7akS")},{}],"treemap/popover":[function(require,a){a.exports=require("tOuPen")},{}],"treemap/boundarySelect":[function(require,a){a.exports=require("eB/kqO")},{}],tOuPen:[function(require,a,b){"use strict";function c(a){e(a.currentTarget).closest(h.popupTriggers).popover(i.hide)}function d(a){e(h.popupTriggers).not(a.currentTarget).popover(i.hide),e(a.currentTarget).popover(i.show),e(h.popup.input).focus().select()}var e=require("jquery"),f=require("ramda"),g=(require("baconjs"),require("lodash")),h={popupTriggers:'[data-toggle="popover"]',popup:{outermostElement:"div.popover",cancelButton:".popover-cancel",acceptButton:".popover-accept",innerData:".popover-data",input:"input.popover-correction"}},i={show:"show",hide:"hide"};require("bootstrap"),b.init=function(a){a.on("click",h.popup.outermostElement,f.func("stopPropagation")),a.on("click",h.popup.cancelButton,c),a.on("click",h.popupTriggers,d);var b=a.asEventStream("click",h.popup.acceptButton);return b.onValue(c),b},b.activateAll=function(){e(".popover").remove(),g.each(e(h.popupTriggers),function(a){var b=e(a),c=b.find(h.popup.innerData),d=g.isEmpty(c)?{}:{content:c.html(),container:a,html:!0};b.popover(d)})}},{baconjs:1,bootstrap:"Y0FfMV",jquery:"82HPDv",lodash:14,ramda:17}],"treemap/browseTreesMode":[function(require,a){a.exports=require("UDOzq/")},{}],"treemap/reverseGeocodeStreamAndUpdateAddressesOnForm":[function(require,a){a.exports=require("yPAWjn")},{}],"treemap/buttonEnabler":[function(require,a){a.exports=require("qe9mpx")},{}],yPAWjn:[function(require,a){"use strict";var b=require("treemap/geocoder"),c=require("lodash"),d=require("jquery");a.exports=function(a,e,f){var g=b(a),h=g.reverseGeocodeStream(e);return h.onValue(function(a){var b={address_street:a.address.Address,address_city:a.address.City,address_zip:a.address.Postal},e=d(f);c.each(b,function(a,b){e.find("input[name$='"+b+"']").val(a)})}),h}},{jquery:"82HPDv",lodash:14,"treemap/geocoder":"pWA+Vw"}],"treemap/diameterCalculator":[function(require,a){a.exports=require("bHPpxi")},{}],"treemap/search":[function(require,a){a.exports=require("AcAnUh")},{}],"treemap/editTreeDetailsMode":[function(require,a){a.exports=require("pzvQ/v")},{}],AcAnUh:[function(require,a,b){"use strict";function c(){return m.object(m.map(k(s),function(a){var b=k(a),c=b.attr("name")||b.attr("data-search-identifier"),d=b.attr("data-search-type"),e=b.attr("id");return[e,{key:c,pred:d}]}))}function d(a,b){var c=y(a,b),d=k.ajax({url:a.instance.url+"benefit/search",data:c,type:"GET",dataType:"html"});return l.fromPromise(d)}function e(a){var b=k(a),c=b.filter("#tree-and-planting-site-counts").html(),d=b.filter("#benefit-values").html();k("#tree-and-planting-site-counts").html(c),k("#benefit-values").html(d)}function f(a){var b=c();m.each(b,function(b,c){var d,e=k(document.getElementById(c)),f=a[b.key];d=t(f)?f?f[1][b.pred]:null:f?f[b.pred]:null,e.is('[type="hidden"]')?e.trigger("restore",d):e.is("[data-date-format]")?o.applyDateToDatepicker(e,d):e.is(":checkbox")?e.prop("checked",v(d)===e.val()):e.is("input")&&e.val(d||"")})}function g(a){var b=function(a){k('[data-search-display="'+a+'"]').prop("checked",!0)};a?(k("[data-search-display]").prop("checked",!1),m.each(a,b),m.contains(a,"Plot")&&m.each(r,b)):k("[data-search-display]").prop("checked",!0)}function h(a){f(a.filter||{}),g(a.display)}function i(){var a=c();return m.reduce(a,function(a,b,c){var d=k(document.getElementById(c)),e=d.val(),f=b.key,g={},h={};if(d.is(":checked")||d.is(":not(:checkbox)")&&e&&e.length>0){if(d.is("[data-date-format]")){var i=n(d.datepicker("getDate"));"MIN"===b.pred?i=i.startOf("day"):"MAX"===b.pred&&(i=i.endOf("day")),e=i.format(q)}d.is(":checkbox")?d.is(":checked")&&(g[b.pred]=u(e)):g[b.pred]=e,h[f]=g,k.extend(!0,a,h)}return a},{})}function j(){var a,b,c=k("[data-search-display]"),d=m.filter(c,"checked");return c.length===d.length?null:(a=m.map(d,function(a){return k(a).attr("data-search-display")}),b=m.difference(a,r),a.length-b.length===r.length?b.concat("Plot"):a)}var k=require("jquery"),l=require("baconjs"),m=require("lodash"),n=require("moment"),o=(require("treemap/fieldHelpers"),require("treemap/fieldHelpers")),p=require("querystring"),q=o.DATETIME_FORMAT,r=["Tree","EmptyPlot"],s="[data-search-type]",t=function(a){return m.isArray(a)&&("OR"===a[0]||"AND"===a[0])},u=function(a){return m.isString(a)&&"true"===a.toLowerCase()},v=function(a){return a?"true":"false"},w=b.filterObjectIsEmpty=function(a){return a?0===m.keys(a).length:!0},x=b.displayListIsEmpty=function(a){return m.isUndefined(a)||m.isNull(a)},y=b.makeQueryStringFromFilters=function(a,b){var c={};return w(b.filter)||(c[a.urls.filterQueryArgumentName]=JSON.stringify(b.filter)),x(b.display)||(c[a.urls.displayQueryArgumentName]=JSON.stringify(b.display)),p.stringify(c)};b._buildElems=c,b.applySearchToDom=h,b.reset=m.partialRight(h,{}),b.buildSearch=function(){return{filter:i(),display:j()}},b.init=function(a,b,c){a.onValue(c),a.map("").onValue(k("#search-results"),"html"),a.flatMap(m.partial(d,b)).onValue(e)}},{baconjs:1,jquery:"82HPDv",lodash:14,moment:15,querystring:5,"treemap/fieldHelpers":"LRi9Zk"}],"treemap/export":[function(require,a){a.exports=require("0s6v8X")},{}],"treemap/searchBar":[function(require,a){a.exports=require("xNii9C")},{}],"treemap/fieldHelpers":[function(require,a){a.exports=require("LRi9Zk")},{}],xNii9C:[function(require,a,b){"use strict";function c(a,b,c){var d=function(a){var b=h.webMercatorToLatLng(a.x,a.y);return"&z="+o.ZOOM_PLOT+"/"+b.lat+"/"+b.lng},e=k.makeQueryStringFromFilters(a,b);e+=c?d(c):"",window.location.href=a.instance.url+"map/?"+e}function d(a,b){var c=e("#search-advanced"),d=e(".subhead");g.create({name:"species",url:a.instance.url+"species/",input:"#species-typeahead",template:"#species-element-template",hidden:"#search-species",button:"#species-toggle",reverse:"id",forceMatch:!0}),g.create({name:"boundaries",url:a.instance.url+"boundaries/",input:"#boundary-typeahead",template:"#boundary-element-template",hidden:"#boundary",button:"#boundary-toggle",reverse:"id",sortKeys:["sortOrder","value"]}),b.onValue(function(){c.hasClass("active")&&c.removeClass("active").blur(),d.hasClass("expanded")&&d.removeClass("expanded")}),c.on("click",function(){c.toggleClass("active").blur(),d.toggleClass("expanded")}),d.find("input[data-date-format]").datepicker()}var e=require("jquery"),f=require("lodash"),g=(require("baconjs"),require("treemap/otmTypeahead")),h=require("treemap/utility"),i=require("treemap/geocoder"),j=require("treemap/geocoderUi"),k=require("treemap/search"),l=require("treemap/udfcSearch"),m=require("treemap/baconUtils"),n=require("treemap/MapManager"),o=new n;require("bootstrap-datepicker");var p=function(a){window.alert(f.isString(a)?a:a.status&&404===a.status?"There were no results matching your search.":"There was a problem running your search.")},q=function(){return e("#boundary-typeahead").attr("data-unmatched")};a.exports=b={initDefaults:function(a){var d=b.init(a),e=f.partial(c,a),g=f.partialRight(e,void 0);d.filterNonGeocodeObjectStream.onValue(g),d.geocodedLocationStream.onValue(function(a){var b=k.buildSearch();e(b,a)}),d.resetStream.onValue(k.reset),k.reset()},init:function(a){var b=m.enterOrClickEventStream({inputs:'input[data-class="search"]',button:"#perform-search"}),c=e("#search-reset").asEventStream("click"),f=b.map(q).filter(m.isUndefinedOrEmpty).map(k.buildSearch),g=l.init(c),h=i(a),n=b.map(q).filter(m.isDefinedNonEmpty),o=h.geocodeStream(n),r=j({geocodeResponseStream:o,cancelGeocodeSuggestionStream:c,resultTemplate:"#geocode-results-template",addressInput:"#boundary-typeahead",displayedResults:'.search-block [data-class="geocode-result"]'});return o.onError(p),d(a,b),{resetStream:c,geocodedLocationStream:r,filterNonGeocodeObjectStream:f,applySearchToDom:function(a){k.applySearchToDom(a),g.applyFilterObjectToDom(a)}}}}},{baconjs:1,"bootstrap-datepicker":"qeak1/",jquery:"82HPDv",lodash:14,"treemap/MapManager":"hurqpp","treemap/baconUtils":"1V7akS","treemap/geocoder":"pWA+Vw","treemap/geocoderUi":"Ekqu31","treemap/otmTypeahead":"YmFftR","treemap/search":"AcAnUh","treemap/udfcSearch":"jl4r/0","treemap/utility":"GvDn+1"}],"treemap/geocoder":[function(require,a){a.exports=require("pWA+Vw")},{}],"treemap/socialMediaSharing":[function(require,a){a.exports=require("mVtR9n")},{}],"treemap/geocoderUi":[function(require,a){a.exports=require("Ekqu31")},{}],mVtR9n:[function(require,a){"use strict";function b(){return window.localStorage?"on"!==window.localStorage.getItem(i):!1}function c(a){var b=e(a.target).val();window.localStorage.setItem(i,b)}function d(a){var b=e(l.photoModal),c=b.find(l.shareLinkSelector),d=e(a.data.result),f=d.find(l.mapFeaturePhotoDetailAbsoluteUrl),g=f.attr(k.mapFeaturePhotoDetailAbsoluteUrl),i=f.attr(k.mapFeaturePhotoImageAbsoluteUrl),j=e(l.photoPreview);b.modal("show"),j.attr("src",f.attr(k.mapFeaturePhotoPreview)),h.each(c,m(g,i))}var e=require("jquery"),f=require("baconjs"),g=require("ramda"),h=require("lodash"),i="social-media-sharing-dont-show-again",j=300,k={dataUrlTemplate:"data-url-template",dataClass:"data-class",mapFeaturePhotoDetailAbsoluteUrl:"data-map-feature-photo-detail-absolute-url",mapFeaturePhotoImageAbsoluteUrl:"data-map-feature-photo-image-absolute-url",mapFeaturePhotoPreview:"data-map-feature-photo-thumbnail"},l={dontShowAgain:"["+k.dataClass+'="'+i+'"]',photoModal:"#social-media-sharing-photo-upload-modal",photoPreview:"#social-media-sharing-photo-upload-preview",shareLinkSelector:"["+k.dataUrlTemplate+"]",mapFeaturePhotoDetailAbsoluteUrl:"["+k.mapFeaturePhotoDetailAbsoluteUrl+"]"},m=g.curry(function(a,b,c){var d=e(c),f=(d.attr(k.dataClass),d.attr(k.dataUrlTemplate)),g=h.template(f)({photoDetailUrl:a,photoUrl:b});d.attr("href",g)});a.exports.init=function(a){var g=a.imageFinishedStream||f.never();e(a.share.toggle).click(function(){e(a.share.container).toggle(j)}),g.filter(b).onValue(d),e(l.dontShowAgain).on("click",c)}},{baconjs:1,jquery:"82HPDv",lodash:14,ramda:17}],"treemap/imageUploadPanel":[function(require,a){a.exports=require("ik6dej")},{}],"treemap/stepControls":[function(require,a){a.exports=require("1e7UKO")},{}],"treemap/makeLayerFilterable":[function(require,a){a.exports=require("BOoNJj")},{}],"1e7UKO":[function(require,a){"use strict";var b=require("jquery"),c=require("lodash"),d=require("baconjs"),e=require("treemap/utility");a.exports={init:function(a){function f(a){return!b(a.target).closest("li").hasClass("disabled")}function g(a){return i(a.target,function(a){return a+1})}function h(a){return i(a.target,function(a){return a-1
})}function i(a,c){var d=b(a).closest(".add-step").index();do d=c(d);while(n.eq(d).hasClass("inactive"));return d}function j(a){if(o>=a){n.removeClass("active next prev"),n.eq(a).addClass("active");var b;for(b=0;a>b;b++)n.eq(b).addClass("prev");for(b=o;b>a;b--)n.eq(b).addClass("next")}}function k(a,b){var c=n.eq(a);c.removeClass("inactive next"),c.addClass(b?"next":"inactive")}function l(a,b){var c=p.eq(a);b?c.removeClass("disabled"):c.addClass("disabled")}function m(a){var d=b(c.find(n,function(c){return b.contains(c,a)}));return d.length>0?d.index():o}var n=e.$find(".add-step",a),o=n.length-1,p=e.$find(".next",n),q=e.$find(".previous",n),r=d.mergeAll(p.asEventStream("click").filter(f).map(g),q.asEventStream("click").filter(f).map(h)),s=n.asEventStream("transitionend webkitTransitionEnd").filter(function(a){return b(a.target).hasClass("active")}).map(function(a){return b(a.target).index()});return r.onValue(j),{maxStepNumber:o,stepChangeStartStream:r,stepChangeCompleteStream:s,allDoneStream:p.last().asEventStream("click"),showStep:j,activateStep:k,enableNext:l,getStepNumberForElement:m}}}},{baconjs:1,jquery:"82HPDv",lodash:14,"treemap/utility":"GvDn+1"}],"bootstrap-datepicker":[function(require,a){a.exports=require("qeak1/")},{}],"treemap/streetView":[function(require,a){a.exports=require("Lfdiyi")},{}],bootstrap:[function(require,a){a.exports=require("Y0FfMV")},{}],Lfdiyi:[function(require,a,b){"use strict";var google=require("googlemaps"),c=require("jquery"),d=require("lodash"),e=require("treemap/utility");b.create=function(a){function b(b){if(!d.isEqual(g,b)){g=b;var j;j=b.lat&&b.lng?b:e.webMercatorToLatLng(b.x,b.y);var k=new google.maps.LatLng(j.lat,j.lng);(new google.maps.StreetViewService).getPanoramaByLocation(k,50,function(b,d){d==google.maps.StreetViewStatus.OK?null===f?f=new google.maps.StreetViewPanorama(i,{position:k,addressControl:h}):f.setPosition(k):(f=null,c(i).html(a.noStreetViewText||""))})}}var f=null,g=null,h=!a.hideAddress,i=a.streetViewElem;return b(a.location),{update:b}}},{googlemaps:"W0foxt",jquery:"82HPDv",lodash:14,"treemap/utility":"GvDn+1"}],utfgrid:[function(require,a){a.exports=require("4Kh50C")},{}],"treemap/treeMap":[function(require,a){a.exports=require("qGu16W")},{}],leafletgoogle:[function(require,a){a.exports=require("LX5YHY")},{}],qGu16W:[function(require,a){"use strict";function b(a){a===f?k.activateAddTreeMode():a===g?k.activateAddResourceMode():k.activateBrowseTreesMode()}var c=require("jquery"),d=require("lodash"),e=(require("bootstrap"),require("baconjs")),f=require("treemap/addTreeMode").name,g=require("treemap/addResourceMode").name,h=require("treemap/baconUtils"),i=require("treemap/buttonEnabler"),j=require("treemap/mapPage"),k=require("treemap/treeMapModes"),l=require("treemap/search");a.exports.init=function(a){var f=j.init({config:a,domId:"map",trackZoomLatLng:!0}),g=f.mapManager,m=new e.Bus,n=e.mergeAll(f.builtSearchEvents,m.map(f.getMapStateSearch)),o=f.mapStateChangeStream.map(".modeName").filter(h.isDefined);o.onValue(b),c('[data-action="addtree"]').click(function(a){a.preventDefault(),k.activateAddTreeMode()}),c('[data-action="addresource"]').click(function(a){a.preventDefault(),k.activateAddResourceMode()}),l.init(n,a,d.bind(g.setFilter,g)),i.run({config:a}),k.init(a,g,m),f.initMapState()}},{baconjs:1,bootstrap:"Y0FfMV",jquery:"82HPDv",lodash:14,"treemap/addResourceMode":"oAX9x2","treemap/addTreeMode":"BWtOM5","treemap/baconUtils":"1V7akS","treemap/buttonEnabler":"qe9mpx","treemap/mapPage":"l4ZWUO","treemap/search":"AcAnUh","treemap/treeMapModes":"5yRDNb"}],"treemap/user":[function(require,a){a.exports=require("NrWpbL")},{}],"treemap/treeMapModes":[function(require,a){a.exports=require("5yRDNb")},{}],"treemap/recentEdits":[function(require,a){a.exports=require("2W/6BD")},{}],"5yRDNb":[function(require,a){"use strict";function b(a,b,c){c===!0&&m.unlock(),a!==n&&m.canProceed()&&(n&&n.deactivate&&n.deactivate(),o(b).siblings().hide(),o(b).show(),a.activate&&a.activate(),a.lockOnActivate===!0?m.lock():m.unlock(),w.setModeName(a.name),n=a)}function c(a){b(r,z,a)}function d(a){b(s,A,a)}function e(a){b(t,z,a)}function f(a){b(u,B,a)}function g(){return n===r}function h(){return n===s}function i(){return n===t}function j(){return n===u}function k(a,b,d){var f=v.init({config:a,updateUrl:"",form:"#details-form",edit:"#quick-edit-button",save:"#save-details-button",cancel:"#cancel-edit-details-button",displayFields:z+' [data-class="display"]',editFields:z+' [data-class="edit"]',validationFields:z+' [data-class="error"]',onSaveBefore:t.onSaveBefore});m=y.init({warning:a.trans.exitWarning,question:a.trans.exitQuestion}),f.inEditModeProperty.onValue(function(a){a?e(!0):c(!0)}),f.saveOkStream.onValue(d.push),x.init(a,b.map),r.init({config:a,map:b.map,inMyMode:g,$treeDetailAccordionSection:C,$fullDetailsButton:D,inlineEditForm:f,plotMarker:x,$buttonGroup:E}),s.init({config:a,$addFeatureHeaderLink:G,$exploreMapHeaderLink:F,mapManager:b,plotMarker:x,inMyMode:h,sidebar:A,onClose:p.partial(c,!0),formSelector:"#add-tree-form",validationFields:'#add-tree-container [data-class="error"]',indexOfSetLocationStep:0,typeaheads:[l(a,"add-tree-species")],addFeatureRadioOptions:"addFeatureOptions",triggerSearchBus:d}),t.init({config:a,mapManager:b,inlineEditForm:f,plotMarker:x,inMyMode:i,typeaheads:[l(a,"edit-tree-species")]}),u.init({config:a,$addFeatureHeaderLink:G,$exploreMapHeaderLink:F,mapManager:b,plotMarker:x,inMyMode:j,sidebar:B,onClose:p.partial(c,!0),formSelector:"#add-resource-form",validationFields:'#add-resource-container [data-class="error"]',indexOfSetLocationStep:1,addFeatureRadioOptions:"addResourceOptions",triggerSearchBus:d})}function l(a,b){return{name:"species-edit",url:a.instance.url+"species/",input:"#"+b+"-typeahead",template:"#species-element-template",hidden:"#"+b+"-hidden",reverse:"id",forceMatch:!0,minLength:1}}var m,n,o=require("jquery"),p=require("lodash"),q=require("treemap/utility"),r=require("treemap/browseTreesMode"),s=require("treemap/addTreeMode"),t=require("treemap/editTreeDetailsMode"),u=require("treemap/addResourceMode"),v=require("treemap/inlineEditForm"),w=require("treemap/urlState"),x=require("treemap/plotMarker"),y=require("treemap/statePrompter"),z="#sidebar-browse-trees",A="#sidebar-add-tree",B="#sidebar-add-resource",C=q.$find("#tree-detail"),D=q.$find("#full-details-button"),E=q.$find("#map-plot-details-button"),F=q.$find(".navbar li.explore-map"),G=q.$find(".navbar li[data-feature=add_plot]");a.exports={init:k,activateBrowseTreesMode:c,activateAddTreeMode:d,activateAddResourceMode:f}},{jquery:"82HPDv",lodash:14,"treemap/addResourceMode":"oAX9x2","treemap/addTreeMode":"BWtOM5","treemap/browseTreesMode":"UDOzq/","treemap/editTreeDetailsMode":"pzvQ/v","treemap/inlineEditForm":"na0fp5","treemap/plotMarker":"iNIg4+","treemap/statePrompter":"auVsb2","treemap/urlState":"/j9n3m","treemap/utility":"GvDn+1"}],"treemap/plotMover":[function(require,a){a.exports=require("MjySsv")},{}],"treemap/udfcSearch":[function(require,a){a.exports=require("jl4r/0")},{}],"treemap/csrf":[function(require,a){a.exports=require("jYFnat")},{}],"1V7akS":[function(require,a,b){"use strict";function c(a){return function(b){for(var c=0;c<a.length;c++)if(b.which===a[c])return!0;return!1}}var d=require("baconjs"),e=require("jquery"),f=require("ramda"),g=require("lodash");e.extend(e.fn,d.$),b.keyCodeIs=c;var h=b.isEnterKey=c([13]);b.isEscKey=c([27]),b.not=function(a,b){return a!==b};var i=b.isDefined=f.not(g.isUndefined),j=b.isDefinedNonEmpty=f.and(f.not(g.isUndefined),f.not(f.eq(""))),k=b.isUndefined=g.isUndefined,l=(b.isUndefinedOrEmpty=f.or(g.isUndefined,f.eq("")),b.getValueForKey=function(a){return function(b){return b[a]}});b.isPropertyUndefined=function(a){return f.or(k,f.compose(k,l(a)))},b.fetchFromIdStream=function(a,b,c,e){return d.mergeAll(a.filter(i).flatMap(b).mapError(e),a.filter(k).map(c))},b.ajaxRequest=function(a){return function(b){var c=e.ajax(g.defaults({},a,{data:b}));return d.fromPromise(c)}},b.jsonRequest=function(a,b){return function(c){2==arguments.length&&(c=b),"GET"!=a&&(c=JSON.stringify(c));var f=e.ajax({method:a,url:b,contentType:"application/json",data:c});return d.fromPromise(f)}},b.getJsonFromUrl=function(a){var b=e.ajax({url:a,contentType:"application/json"});return d.fromPromise(b)},b.enterOrClickEventStream=function(a){var b=e(a.inputs),c=e(a.button),d=b.asEventStream("keyup").filter(h),f=c.asEventStream("click"),g=d.merge(f);return d.map(".target").map(e).onValue(".blur"),g},b.leafletEventStream=function(a,b){return d.fromBinder(function(c){return a.on(b,c),function(){return a.off(b,c)}})},b.leafletSingleClickStream=function(a,c){var d=b.leafletEventStream(a,"click"),e=d.bufferWithTimeOrCount(c,2).filter(function(a){return a.length<2}).map(g.first);return e},b.triggeredObjectStream=function(a){var b=[],c=new d.EventStream(function(a){return b.push(a),function(){b=g.without(b,a)}});return c.trigger=function(){g.each(b,function(b){b(new d.Next(a))})},c},b.reloadContainerOnClick=function(a){var b=Array.prototype.slice.call(arguments,1),c=b.join(","),e=new d.Bus;return a.asEventStream("click",c).doAction(".preventDefault").map(".currentTarget.href").filter(j).onValue(function(b){a.load(b,function(){e.push()})}),e.toEventStream()}},{baconjs:1,jquery:"82HPDv",lodash:14,ramda:17}],"eB/kqO":[function(require,a,b){"use strict";function c(a){k&&a.removeLayer(k)}function d(a,b){c(a),a.getPanes().overlayPane.style.zIndex=-2,k=b,a.addLayer(b),a.fitBounds(b.getBounds())}function e(a,b){return j({instanceUrl:a,boundaryId:b})}function f(a,b){return i.geoJson(b,{style:function(){return a}})}var g=(require("jquery"),require("treemap/baconUtils")),h=require("lodash"),i=require("leaflet"),j=h.template("<%= instanceUrl %>boundaries/<%= boundaryId %>/geojson/"),k=null;b.init=function(a){var b=a.map,h=a.idStream,i=h.filter(g.isDefined).map(e,a.config.instance.url).flatMap(g.getJsonFromUrl);i.map(f,a.style).onValue(d,b),i.onError(c,b),i.onError(window.console.log),h.filter(g.isUndefined).onValue(c,b)}},{jquery:"82HPDv",leaflet:"X317Tq",lodash:14,"treemap/baconUtils":"1V7akS"}],"UDOzq/":[function(require,a){"use strict";function b(a){return a?i.instance.url+"features/"+a+"/":""}function c(a){i=a.config,j=a.map,l=a.plotMarker,m=a.$fullDetailsButton;var c=a.inMyMode,h=a.inlineEditForm,k=a.$treeDetailAccordionSection,p=a.$buttonGroup,q=j.utfEvents.filter(c).map(".data."+i.utfGrid.mapfeatureIdKey),s=r.fetchFromIdStream(q,d),t=r.fetchFromIdStream(q,g,""),u=q.map(b);u.onValue(m,"attr","href"),u.onValue(h.setUpdateUrl),r.leafletEventStream(j,"click").filter(c).map(".latlng").zip(s,e).onValue(f),t.onValue(function(){p.show()}),t.assign(n("#map-feature-accordion"),"html"),t.map(r.isDefinedNonEmpty).decode({"true":"show","false":"hide"}).onValue(o.bind(k.collapse,k));var v=t.map(n).map(".attr","data-map-feature-type");v.decode({plot:"visible",resource:"hidden"}).assign(n("#quick-edit-button"),"css","visibility"),v.decode({plot:i.trans.treeDetails,resource:i.trans.resourceDetails}).assign(n("#accordion-map-feature-detail-tab"),"html");var w=k.parent().find("a");w.on("click",function(a){0===n("#map-feature-accordion").html().length&&a.stopPropagation()}),k.collapse({parent:n("#map-info"),toggle:!1}),k.collapse("hide")}function d(a){var b=n.ajax({url:i.instance.url+"features/"+a+"/popup",type:"GET",dataType:"html"});return q.fromPromise(b)}function e(a,b,c){if(c=c||{},a&&b){var d={maxWidth:c.width||320,maxHeight:c.height||130},e="Plot"===n(b).data("mapfeature-type"),f=p.popup(d).setLatLng(a).setContent(b);return f.isPlot=e,f}return null}function f(a){k&&j.closePopup(k),k=a,l.useTreeIcon(k?k.isPlot:!1),k?(j.openPopup(k),l.place(k._latlng),l.bindPopup(k)):(l.unbindPopup(),l.hide()),s.run({config:i})}function g(a){var b=n.ajax({url:i.instance.url+"features/"+a+"/detail",type:"GET",dataType:"html"});return q.fromPromise(b)}function h(){k&&(l.unbindPopup(),j.closePopup(k))}var i,j,k,l,m,n=require("jquery"),o=require("lodash"),p=require("leaflet"),q=require("baconjs"),r=require("treemap/baconUtils"),s=require("treemap/buttonEnabler");a.exports={name:"browseTrees",init:c,deactivate:h}},{baconjs:1,jquery:"82HPDv",leaflet:"X317Tq",lodash:14,"treemap/baconUtils":"1V7akS","treemap/buttonEnabler":"qe9mpx"}],qe9mpx:[function(require,a,b){"use strict";function c(a){a.removeAttr("data-target"),a.removeAttr("data-action")}function d(a,b){var d=g.loginUrl+b;a.attr("disabled",!1),c(a),a.is("a")?a.attr("href",d):a.is("button")&&(a.off("click"),a.click(function(){window.location=d}))}function e(a,b){a.attr("disabled",!1),a.is("a")&&a.attr("href",b)}function f(a,b){a.off("click"),c(a),b&&a.attr("title",b)}var g,h=require("jquery"),i=require("lodash"),j="data-always-enable",k="data-disabled-title",l="data-href",m="["+j+"]";b.run=function(a){var b=h(m);g=a.config,i.each(b,function(a){var b=h(a),c=b.attr(j),i=b.attr(k),m=b.attr(l);"True"===c?e(b,m):g.loggedIn?f(b,i):d(b,m)})}},{jquery:"82HPDv",lodash:14}],jYFnat:[function(require,a,b){"use strict";function c(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}function d(a){var b=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var f=e.trim(c[d]);if(f.substring(0,a.length+1)==a+"="){b=decodeURIComponent(f.substring(a.length+1));break}}return b}var e=require("jquery"),f=d("csrftoken");b.jqueryAjaxSetupOptions={crossDomain:!1,beforeSend:function(a,b){c(b.type)||a.setRequestHeader("X-CSRFToken",f)}}},{jquery:"82HPDv"}],bHPpxi:[function(require,a,b){"use strict";function c(a){return p(a.target).val()}function d(a){return p(a).data("value")}function e(a){var b=parseFloat(a);return f(b)?b:0}function f(a){return q.isNumber(a)&&!isNaN(a)}function g(a){return a*Math.PI}function h(a){return a/Math.PI}function i(a,b){if(!q.isNumber(a))return a;var c=b.find(z).first(),d=c.data("digits");return a.toFixed(d)}function j(a){if(0===a.length)return"";var b=q.map(a,function(a){return a*a}),c=q.reduce(b,function(a,b){return a+b},0),d=Math.sqrt(c);return d}function k(a){return a.find(y).val()}function l(a,b){var c=a.find(v),d=a.find(w),f=a.find(x),h=c.find(s),j=c.find(r);if(b){var k=i(e(b),a);f.html(k),h.val(k),j.val(i(g(b),a))}d.hide(),a.find(u).find("tr").not(v).remove()}function m(a){var b=a.find(s),c=a.find(y),e=a.find(x),g=q.map(b,d),h=q.filter(g,f),k=j(h);e.html(i(k,a)),c.val(k)}function n(a){var b=a.find(u),c=b.find(v),d=c.html(),e=p("<tr>").append(d),f=e.find(r),g=e.find(s),h=p(w);g.val(""),f.val(""),b.append(e),h.show()}function o(a,b){var d=p(b.target),f=d.is(s),j=d.is(r),k=f?g:h,l=f?r:s;if(f||j){var n,o,q,t=c(b);""===t.trim()?(n="",o="",q=""):(n=e(t),o=k(n),q=i(o,a)),d.data("value",n).closest("tr").find(l).data("value",o).val(q),m(a)}}var p=require("jquery"),q=require("lodash"),r='[data-class="circumference-input"]',s='[data-class="diameter-input"]',t="#add-trunk-row",u="#diameter-worksheet",v="#trunk-row",w="#diameter-calculator-total-row",x="#diameter-calculator-total-reference",y='input[name="tree.diameter"]',z='[data-field="tree.diameter"]';b=a.exports=function(a){var b=a.formSelector,c=p(b),d=k(c),e=a.cancelStream.onValue(l,c,d),f=a.saveOkStream.onValue(function(){d=k(c),l(c,d)});return c.find(u).on("input","input",q.partial(o,c)),c.find(t).click(q.partial(n,c)),l(c,d),{destroy:function(){e(),f(),p(u).off("input"),p(t).off("click")}}}},{jquery:"82HPDv",lodash:14}],"treemap/urlState":[function(require,a){a.exports=require("/j9n3m")},{}],"pzvQ/v":[function(require,a){"use strict";function b(a){g=a.mapManager,h=a.inlineEditForm,i=a.typeaheads,j=a.plotMarker;var b=j.moveStream.filter(a.inMyMode);q(a.config,b,r)}function c(){m.options={positionClass:"toast-bottom-left",timeOut:"3000"},m.info('Click "Save" or "Cancel" to end your Quick Edit session.')}function d(){n.bulkCreate(i),l=o.init({mapManager:g,plotMarker:j,inlineEditForm:h,editLocationButton:"#edit-plot-location",cancelEditLocationButton:"#cancel-edit-plot-location",location:j.getLocation()}),k=p({formSelector:r,cancelStream:h.cancelStream,saveOkStream:h.saveOkStream}),g.map.on("click",c)}function e(){k.destroy(),h.cancel(),g.map.off("click",c)}function f(a){l&&l.onSaveBefore(a)}var g,h,i,j,k,l,m=(require("jquery"),require("lodash"),require("leaflet"),require("toastr")),n=require("treemap/otmTypeahead"),o=require("treemap/plotMover"),p=require("treemap/diameterCalculator"),q=require("treemap/reverseGeocodeStreamAndUpdateAddressesOnForm"),r="#details-form";a.exports={name:"editTreeDetails",init:b,activate:d,deactivate:e,onSaveBefore:f,lockOnActivate:!0}},{jquery:"82HPDv",leaflet:"X317Tq",lodash:14,toastr:"Z57M2G","treemap/diameterCalculator":"bHPpxi","treemap/otmTypeahead":"YmFftR","treemap/plotMover":"MjySsv","treemap/reverseGeocodeStreamAndUpdateAddressesOnForm":"yPAWjn"}],"0s6v8X":[function(require,a,b){"use strict";function c(){return{q:l.parse(window.location.href,!0).query.q||""}}function d(a){return"COMPLETE"===a.status}function e(a){return!m.contains(["COMPLETE","PENDING"],a.status)}function f(){return j("body").asEventStream("click",p).flatMap(function(a){var b=j(a.target).attr(o),d=c();return n.fromPromise(j.ajax({method:"GET",url:b,contentType:"application/json",data:d}))})}function g(a){function b(a){y.start(a);var b=i.exportCheckUrl+"/"+a+"/";return n.fromPoll(w,function(){return y.isCurrent(a)?k.jsonRequest("GET",b)():new n.End})}return a.flatMap(b).flatMap(m.identity)}function h(a){function b(){g.hide(),h.hide(),i.hide(),k.hide()}function c(){b(),g.show(),i.show(),f.modal("show")}function d(){b(),f.modal("hide")}function e(c){null!==c&&""!==c&&m.isString(c)||(c=a),b(),h.html(c),h.show(),k.show(),f.modal("show")}var f=j(q),g=j(r),h=j(s),i=j(u),k=j(v);return{wait:c,dismiss:d,fail:e}}var i,j=require("jquery"),k=require("treemap/baconUtils"),l=require("url"),m=(require("treemap/utility"),require("lodash")),n=require("baconjs"),o="data-export-start-url",p="["+o+"]",q="#export-panel",r=q+" .prep-msg",s=q+" .error-msg",t=q+" * [data-dismiss]",u=q+" .dismiss-cancel",v=q+" .dismiss-ok",w=2e3,x=null,y={stop:function(){x=null},start:function(a){x=a},isCurrent:function(a){return x===a}};b.run=function(a){i=a.config;var b=f(),c=j(s).html(),k=h(c),l=j(t).asEventStream("click"),m=g(b.map(".job_id")),o=m.filter(d).map(".url"),p=m.filter(e).map(".message"),q=n.mergeAll(l,o),r=n.mergeAll(q,p),u=n.mergeAll(r,m,b);b.onValue(k.wait),u.onError(y.stop),u.onError(k.fail),p.onValue(k.fail),q.onValue(k.dismiss),o.onValue(function(a){window.location.href=a}),r.onValue(y.stop)}},{baconjs:1,jquery:"82HPDv",lodash:14,"treemap/baconUtils":"1V7akS","treemap/utility":"GvDn+1",url:6}],LRi9Zk:[function(require,a,b){"use strict";var c=require("jquery"),d=require("lodash"),e=require("util").format,f=require("moment"),g=b.DATETIME_FORMAT="YYYY-MM-DD HH:mm:ss",h=b.DATE_FORMAT="YYYY-MM-DD",i=b.getField=function(a,b){return a.filter(e('[data-field="%s"]',b))},j=b.getSerializableField=function(a,b){return i(a,b).find('[name="'+b+'"]')},k=(b.excludeButtons=function(a){return c(a).filter(":not(.btn)")},b.getDateFieldFormat=function(a){return a.closest("[data-type]").is('[data-type="date"]')?h:g});b.applyDateToDatepicker=function(a,b){var c=k(a),d=f(b,c);d&&d.isValid()?a.datepicker("update",d.toDate()):a.val("")};var l=b.getTimestampFromDatepicker=function(a){if(a.val()){var b=k(a);return f(a.datepicker("getDate")).format(b)}return""};b.formToDictionary=function(a,b,e){e=e||c();var f=function(a){return j(b,a).is("[data-typeahead-hidden]")},g=function(b,c){var d;return f(c)?a.find('[data-typeahead-restore="'+c+'"]').val():(d=i(e,c),d.is("[data-value]")?"bool"===b?"True"===d.attr("data-value"):d.attr("data-value"):void 0)},h={};return d.each(a.serializeArray(),function(a){var c=i(b,a.name).attr("data-type"),d=g(c,a.name),e=j(b,a.name);a.value!==d&&("bool"===c?"radio"===e.prop("type")&&(h[a.name]="True"===a.value):h[a.name]=""!==a.value||"int"!==c&&"float"!==c&&"date"!==c&&"datetime"!==c?"date"===c||"datetime"===c?l(e):""===a.value&&f(a.name)?null:a.value:null)}),a.find('[name][type="checkbox"]').not("[disabled]").each(function(a,b){b.checked!==g("bool",b.name)&&(h[b.name]=b.checked)}),h}},{jquery:"82HPDv",lodash:14,moment:15,util:7}],"pWA+Vw":[function(require,a,b){"use strict";function c(a){var b,c;return g.isArray(a)?(b=a[0],c=a[1]):(a.lat&&(b=a.lat),a.lng&&(c=a.lng),a.lon&&(c=a.lon),a.x&&(c=a.x),a.y&&(b=a.y)),{lat:b,lng:c}}function d(a){return a.lng+", "+a.lat}var e=require("jquery"),f=require("treemap/utility"),g=require("lodash"),h=require("baconjs");b=a.exports=function(a){var b=function(b){function c(a,b){return a.groupBy(b).values().map(function(a){return g.max(a,function(a){return a.score})})}var d=g(b.locations).map(function(a){var b=f.lonLatToWebMercator(a.feature.geometry.x,a.feature.geometry.y);return{x:b.x,y:b.y,loc:"x:"+b.x+",y:"+b.y,srid:"3857",score:a.feature.attributes.Score,type:a.feature.attributes.Addr_Type,address:a.name}}),e=["PointAddress","StreetAddress","StreetName"];d=d.filter(function(a){return g.contains(e,a.type)}),d=c(d,"loc"),d=c(d,"address"),d=d.filter(function(b){return b.score>=a.geocoder.threshold});var h=d.groupBy("type").map(function(a,b){return[b,g.sortBy(a,"score")]}).object().value(),i=g(e).map(function(a){return h[a]||[]}).flatten().value();return{candidates:i}},i=function(a,b){return b.candidates&&(b.candidates=g.filter(b.candidates,function(b){return b.x>=a.xmin&&b.x<=a.xmax&&b.y>=a.ymin&&b.y<=a.ymax})),b},j=function(c,d){var f="//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",g={maxLocations:a.geocoder.maxLocations,outFields:"Loc_name,Score,Addr_Type,DisplayX,DisplayY",f:"json",text:c};return h.fromPromise(e.ajax({url:f,type:"GET",data:g,crossDomain:!0,dataType:"jsonp"})).map(b).map(d)},k=function(a,b){var c="//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/reverseGeocode",f={location:d(a),distance:b,outSR:"3857",f:"json"};return h.fromPromise(e.ajax({url:c,type:"GET",data:f,crossDomain:!0,dataType:"jsonp"}))};return{geocodeStream:function(b){return b.flatMap(function(b){var c=a.instance?g.partial(i,a.instance.extent):g.identity;return j(b,c)}).flatMap(function(b){return h.once(b.candidates&&b.candidates.length>0?b:new h.Error(a.geocoder.errorString))})},reverseGeocodeStream:function(b){return b.map(c).flatMap(function(b){return k(b,a.reverseGeocodeDistance||200)}).flatMap(function(b){return h.once(b&&b.address?b:new h.Error(a.geocoder.reverseGeocoderErrorString))})}}}},{baconjs:1,jquery:"82HPDv",lodash:14,"treemap/utility":"GvDn+1"}],Ekqu31:[function(require,a){"use strict";function b(a,b,c){c.candidates?e(a).popover({html:!0,content:b(c),placement:"bottom",trigger:"manual",title:"Results"}).popover("show"):window.alert("There was a problem running your search.")}function c(a){return a&&a.candidates&&1===a.candidates.length}function d(a){return a&&a.candidates&&a.candidates.length>1}var e=require("jquery"),f=require("baconjs"),g=require("mustache");a.exports=function(a){var h=a.geocodeResponseStream,i=a.cancelGeocodeSuggestionStream,j=a.resultTemplate,k=a.addressInput,l=a.displayedResults,m=g.compile(e(j).html()),n=h.filter(c).map(function(a){var b=a.candidates[0];return b.coordinates=[b.x,b.y],b});h.filter(d).onValue(b,k,m);var o=e("body").asEventStream("click",l,function(a){var b=e(a.target),c=b.data("x"),d=b.data("y"),f=b.data("address");return{x:c,y:d,coordinates:[c,d],address:f}});return f.mergeAll([i,o,e(k).asEventStream("keyup")]).onValue(function(){e(k).popover("hide").popover("destroy")}),n.merge(o)}},{baconjs:1,jquery:"82HPDv",mustache:16}],ik6dej:[function(require,a){"use strict";require("bootstrap");{var b=require("jquery"),c=require("baconjs"),d=require("util").format,e=require("treemap/utility");require("lodash")}require("jqueryUiWidget"),require("jqueryIframeTransport"),require("jqueryFileUpload"),a.exports.init=function(a){function f(a){l.length>0&&(l.html(a),l.removeData("carousel"))}function g(a){var b=d("rotate(%ddeg)",a);s.css({"-webkit-transform":b,"-moz-transform":b,"-ms-transform":b,transform:b})}var h,i=b(a.panelId),j=b(a.imageElement),k=b(a.error),l=b(a.imageContainer),m=a.dataType||"json",n=i.find(".fileChooser"),o=i.find(".progress").children().first(),p=new c.EventStream(function(a){return h=a,function(){h=null}}),q=0,r=b(a.lightbox),s=r.find("[data-photo-image]");return n.fileupload({dataType:m,start:function(){k.hide()},progressall:function(a,b){var c=parseInt(b.loaded/b.total*100,10);o.width(c+"%")},always:function(a,b){i.modal("hide"),o.width("0%"),f(b.result)},done:function(a,b){j.length>0&&j.attr("src",b.result.url),h&&h(new c.Next({event:a,data:b}))},fail:function(a,b){if("json"==m){var c,d=b.jqXHR.responseJSON;d&&d.error?(e.warnDeprecatedErrorMessage(d),c=d.error):c=d&&d.globalErrors?d.globalErrors.join(","):"Unable to upload image",k.text(c).show()}}}),l.on("slide",function(a){var b=l.find(".carousel-indicators"),c=b.parent(),d=l.find(".carousel-inner .item").index(a.relatedTarget),e=b.find('[data-slide-to="'+d+'"]'),f=e.offset().left+e.width()-(b.offset().left+c.innerWidth()/1.65);c.animate({scrollLeft:f},600)}),l.on("slid",function(){var a=l.find(".carousel-inner .item:first").hasClass("active"),b=l.find(".carousel-inner .item:last").hasClass("active");l.find(".carousel-control").attr("href","#"+l.attr("id")).removeClass("disabled"),a?l.find(".carousel-control.left").attr("href","").addClass("disabled"):b&&l.find(".carousel-control.right").attr("href","").addClass("disabled")}),l.on("click",'[href="'+a.lightbox+'"]',function(a){var c=b(this),d=c.attr("data-endpoint");a.preventDefault(),q=0,g(0),s.attr("src",c.attr("data-photo-src")),r.find('[data-class="view"]').show(),r.find('[data-class="edit"]').hide(),r.find("[data-photo-save]").attr("data-photo-save",d)}),r.on("click",'[data-class="view"]',function(){r.find('[data-class="view"]').hide(),r.find('[data-class="edit"]').show()}),r.on("click","[data-photo-rotate]",function(a){var c=b(a.currentTarget),d=c.siblings("[data-photo-save]").first(),e=parseInt(c.attr("data-photo-rotate"),10);q=(360+q+e)%360,g(q),0===q?d.prop("disabled",!0):d.prop("disabled",!1)}),r.on("click","[data-photo-save]",function(a){var c=b(a.target),d=-q;c.prop("disabled",!0),b.ajax({method:"POST",url:c.attr("data-photo-save"),data:{degrees:d}}).done(function(a){r.modal("hide"),f(a)})}),p}},{baconjs:1,bootstrap:"Y0FfMV",jquery:"82HPDv",jqueryFileUpload:"1ZBhLG",jqueryIframeTransport:"mYaY/p",jqueryUiWidget:"08VB7T",lodash:14,"treemap/utility":"GvDn+1",util:7}],na0fp5:[function(require,a,b){"use strict";function c(a,b){var c=d(a),e={True:"data-bool-true-text",False:"data-bool-false-text"},f=e[b];return c.is("["+f+"]")?c.attr(f):b}var d=require("jquery"),e=require("baconjs"),f=require("ramda"),g=require("treemap/baconUtils"),h=require("treemap/utility"),i=require("lodash"),j=(require("moment"),require("treemap/fieldHelpers")),k=require("treemap/otmTypeahead").getDatum,l=require("console-browserify"),m=["edit:start","save:start","save:error"],n=["idle","save:ok","cancel"];require("bootstrap-datepicker"),b.init=function(a){var b=a.updateUrl,o=a.form,p=d(a.edit),q=d(a.save),r=d(a.cancel),s=a.displayFields,t=a.editFields,u=a.globalErrorSection,v=a.validationFields,w=a.errorCallback||d.noop,x=a.onSaveBefore||i.identity,y=p.asEventStream("click").map("edit:start"),z=(a.saveStream||q.asEventStream("click")).map("save:start"),A=g.triggeredObjectStream("cancel"),B=r.asEventStream("click").map("cancel"),C=new e.Bus,D=function(a){l.error("Error uploading to "+b,a)},E=function(){d("table[data-udf-id] .editrow").hide(),d("table[data-udf-id]").map(function(){var a=d(this);3===a.find("tr").length?(a.find(".placeholder").show(),a.find(".headerrow").hide()):(a.find(".placeholder").hide(),a.find(".headerrow").show())})},F=function(){d("table[data-udf-id] .editrow").css("display",""),d("table[data-udf-id] .headerrow").css("display",""),d("table[data-udf-id] .placeholder").css("display","none")},G=function(){d("[data-typeahead-restore]").each(function(a,b){var c=d(b).attr("data-typeahead-restore");c&&d('input[name="'+c+'"]').trigger("restore",d(b).val())})},H=function(){d(s).each(function(a,b){var c,e=d(b),f=e.attr("data-field"),g=e.attr("data-value");f&&e.is("[data-value]")&&(c=j.getSerializableField(d(t),f),c.is('[type="checkbox"]')?c.prop("checked","True"==g):c.is("[data-date-format]")?j.applyDateToDatepicker(c,g):c.val(g))}),G()},I=function(){d("[data-typeahead-input]").each(function(a,b){var c=k(d(b)),e=d(b).attr("data-typeahead-input");"undefined"!=typeof c&&(d('[data-typeahead-restore="'+e+'"]').each(function(a,b){d(b).val(c[d(b).attr("data-datum")])}),d('[data-typeahead="'+e+'"]').each(function(a,b){d(b).html(c[d(b).attr("data-datum")])}))})},J=function(){d(t).each(function(a,b){var e,f,g,h,i,k,l=d(b).attr("data-field");d(b).is("[data-field]")&&(g=j.getField(d(s),l),d(g).is("[data-value]")&&(e=j.getSerializableField(d(t),l),f=e.is('[type="checkbox"]')?e.is(":checked")?"True":"False":e.is("[data-date-format]")?j.getTimestampFromDatepicker(e):e.val(),d(g).attr("data-value",f),k=f,e.is("select")?k=e.find("option:selected").text():e.is('[type="checkbox"]')?k=c(g,f):f&&e.is("[data-date-format]")?k=e.val():f&&(h=d(g).data("digits"),h&&(k=parseFloat(f).toFixed(h)),i=d(g).data("units"),i&&(k=f+" "+i)),d(g).text(k)))}),I()},K=function(){var a=j.formToDictionary(d(o),d(t),d(s));return d("table[data-udf-name]").map(function(){var b=d(this),c=b.data("udf-name"),e=b.find("tr.headerrow th").map(function(){return d(this).html()});e=i.compact(e),a[c]=i.map(b.find("tr[data-value-id]").toArray(),function(a){var b=d(a),c=b.find("td"),f=b.attr("data-value-id"),g=i.object(e,c.map(function(){return d.trim(d(this).attr("data-value"))}));return i.isEmpty(f)||(g.id=f),g})}),x(a),a},L=function(a){return e.fromPromise(d.ajax({url:b,type:"PUT",contentType:"application/json",data:JSON.stringify(a)}))},M=function(a){var b=d(u);b.length>0?b.html(a.join(",")):l.log("Global error returned from server, but no dom element bound from client.",a)},N=function(a){d(v).each(function(){d(this).html("")}),i.each(a,function(a,b){var c=j.getField(d(v),b);c.length>0?c.html(a.join(",")):l.log("Field error returned from server, but no dom element bound from client.",b,a)})},O=function(a){return"edit:start"===a},P=z.map(K).flatMap(L),Q=P.errors().mapError(function(a){var b="responseJSON"in a?a.responseJSON:{};return"error"in b&&(h.warnDeprecatedErrorMessage(b),b.unstructuredError=b.error),"unstructuredError"in b||(b.unstructuredError=a),b}),R=P.map(function(a){return{formData:K(),responseData:a}}),S=function(a,b,c){i.contains(b,c)?d(a).show():"edit:start"===c?(d(a).filter(".btn").hide(),i.each(d(a).filter(":not(.btn)"),function(a){var b=d(a),c=j.getField(d(t),b.attr("data-field"));1===c.length&&b.hide()})):d(a).hide()},T=Q.filter(".fieldErrors").map(".fieldErrors"),U=Q.filter(".globalErrors").map(".globalErrors"),V=Q.filter(f.and(g.isPropertyUndefined("fieldErrors"),g.isPropertyUndefined("globalErrors"))).map(".unstructuredError"),W=C.filter(O),X=C.map(function(a){return i.contains(m,a)}).toProperty(),Y=R.map(".formData"),Z=C.filter(i.contains,n),$=a.shouldBeInEditModeStream||e.never(),_=$.map(function(a){return a?"edit:start":"cancel"});return d(t).find("input[data-date-format]").datepicker(),d(window).on("submit",o,function(a){a.preventDefault()}),C.plug(y),C.plug(z),C.plug(B),C.plug(A),C.plug(R.map("save:ok")),C.plug(Q.map("save:error")),C.plug(_),C.onValue(S,t,m),C.onValue(S,s,n),C.onValue(S,v,["save:error"]),Y.onValue(J),U.onValue(M),T.onValue(N),V.onValue(w),V.onValue(D),W.onValue(H),W.onValue(F),Z.onValue(E),{actionStream:C.map(i.identity),cancel:A.trigger,saveOkStream:R,cancelStream:B,inEditModeProperty:X,setUpdateUrl:function(a){b=a}}}},{baconjs:1,"bootstrap-datepicker":"qeak1/","console-browserify":2,jquery:"82HPDv",lodash:14,moment:15,ramda:17,"treemap/baconUtils":"1V7akS","treemap/fieldHelpers":"LRi9Zk","treemap/otmTypeahead":"YmFftR","treemap/utility":"GvDn+1"}],BOoNJj:[function(require,a){"use strict";function b(a){return f.filterObjectIsEmpty(a.filter)&&f.displayListIsEmpty(a.display)
}function c(a,b,c){var d=f.makeQueryStringFromFilters(a,c);return b+(d?"&"+d:"")}function d(a,d,f){return a.clearFilter=function(){a.setUrl(d)},a.setFilter=function(g){b(g)?a.clearFilter():a.setUrl(e.isArray(d)?e.map(d,function(a){c(f,a,g)}):c(f,d,g))},a.setUnfilteredUrl=function(b){d=b,a.setUrl(b)},a}var e=require("lodash"),f=require("treemap/search");a.exports=d},{lodash:14,"treemap/search":"AcAnUh"}],MjySsv:[function(require,a,b){"use strict";var c=require("jquery");b.init=function(a){function b(a){e.wasMoved()&&(a["plot.geom"]=e.getLocation())}var d=a.mapManager,e=a.plotMarker,f=a.inlineEditForm,g=c(a.editLocationButton),h=c(a.cancelEditLocationButton),i=a.location;return e.place(i),f.inEditModeProperty.onValue(function(a){a?g.show():(g.hide(),e.disableMoving()),h.hide()}),f.cancelStream.onValue(function(){e.place(i)}),g.click(function(){g.hide(),h.show(),e.enableMoving()}),h.click(function(){g.show(),h.hide(),e.disableMoving(),e.place(i)}),f.saveOkStream.map(".responseData.geoRevHash").onValue(function(a){i=e.getLocation(),d.updateGeoRevHash(a)}),{onSaveBefore:b}}},{jquery:"82HPDv"}],history:[function(require,a){a.exports=require("cIV21g")},{}],"2W/6BD":[function(require,a,b){"use strict";var c=require("jquery");b.init=function(a){var b=c(a.recentEditsContainer),d=[a.prevLink,a.nextLink].join(",");b.on("click",d,function(a){a.preventDefault(),b.load(this.href)})}},{jquery:"82HPDv"}],Shjz5c:[function(require,a,b){"use strict";b.init=function(a){a.form}},{}],auVsb2:[function(require,a,b){"use strict";function c(){f===!1&&(f=!0,i=window.onbeforeunload||null,window.onbeforeunload=function(){return g})}function d(){f===!0&&(f=!1,window.onbeforeunload=i||null)}function e(){return f===!0?window.confirm(g+" "+h):!0}var f,g,h,i;b.init=function(a){if(g||h)throw"Cannot initialize module multiple times.";return f=!1,g=a.warning,h=a.question,{canProceed:e,unlock:d,lock:c}}},{}],toastr:[function(require,a){a.exports=require("Z57M2G")},{}],"jl4r/0":[function(require,a,b){"use strict";function c(a,b){var c=a.modelName,d=a[a.modelName+"UdfFieldDefId"],e=[c,a.plotUdfFieldDefId,a.treeUdfFieldDefId,a.actionFieldKey,a.dateFieldKey,d],f=[l.isUndefined,l.isNull],g=function(a){return l.any(l.flatten(o(f)(a)))},h=l.any(e,g)?"":t({modelName:c,udfFieldDefId:d,fieldKey:b});return h}function d(a,b,c){var d,e,f=c[a];l.isNull(f)?e="":(d=j(u[a].selector).find("option").filter("["+b+'="'+f+'"]'),e=d.val()),j(u[a].selector).val(e)}function e(a){var b,d,e=j(u.action.selector),f=e.find("option").not('[data-class="udfc-placeholder"]'),g=e.data("options");l.isUndefined(g)&&(g=f.detach(),e.data("options",g)),f.remove(),l.isNull(a.modelName)||l.isNull(a.type)||(b=m('[data-model="%s"]',a.modelName),d=m('[data-type="%s"]',a.type),g.filter(b).filter(d).appendTo(e)),e=j(u.action.selector),e.val(l.isNull(a.action)?"":a.action),e.attr("name",c(a,a.actionFieldKey))}function f(a,b){var d,e=c(b,b.dateFieldKey),f=j(u[a].selector),g=p(b[a],s),h=p(b[a],"MM/DD/YYYY");d=!l.isNull(g)&&g.isValid()?g.format("MM/DD/YYYY"):!l.isNull(h)&&h.isValid()?h.format("MM/DD/YYYY"):"",f.attr("name",e),f.val(d)}function g(a){var b=j(u.extraClauses.selector).find("input");if(b.attr("name",""),!l.isNull(a.type)){var d=b.filter('[data-type="'+a.type+'"]');l.each(d,function(b){var d=j(b),e=d.attr("data-field"),f=c(a,e);d.attr("name",f),d.val(d.attr("value"))})}}function h(a,b){var c,d,e=l.extend({},v),f=l.filter(l.map(b.filter,function(a,b){var c=i(b);return c?l.extend({},a,c):null})),g=l.uniq(l.pluck(f,"modelName"))[0],h=l.uniq(l.pluck(f,"fieldDefId"))[0],k=l.map(j(u.modelName.selector).find("option").not('[data-class="udfc-placeholder"]'),function(a){return j(a).attr("data-model")});if(l.isString(g)&&l.isString(h)&&(c=g.substring(4),l.contains(k,c))){e.modelName=c;var m=j(u.type.selector).find("option").filter("[data-"+c+'-udfd-id="'+h+'"]');e.treeUdfFieldDefId=m.attr("data-tree-udfd-id"),e.plotUdfFieldDefId=m.attr("data-plot-udfd-id"),e.dateFieldKey=m.attr("data-date-field-key"),e.actionFieldKey=m.attr("data-action-field-key"),e.type=m.attr("data-type"),e.action=l.where(f,{hStoreMember:e.actionFieldKey})[0].IS,d=l.where(f,{hStoreMember:e.dateFieldKey})[0],l.isUndefined(d)||(e.dateMin=l.isString(d.MIN)?d.MIN:null,e.dateMax=l.isString(d.MAX)?d.MAX:null),a.push(e)}}function i(a){var b,c=a.split(":");return 3!==c.length?null:(b=c[2].split("."),{modelName:"udf:"+c[1],fieldDefId:b[0],hStoreMember:b[1]})}var j=require("jquery"),k=require("baconjs"),l=require("lodash"),m=require("util").format,n=require("treemap/BaconModels"),o=require("treemap/utility").juxt,p=require("moment"),q=n.getOptionAttr,r=n.getVal,s=require("treemap/fieldHelpers").DATETIME_FORMAT;require("bootstrap-datepicker");var t=l.template("udf:<%= modelName %>:<%= udfFieldDefId %>.<%= fieldKey %>"),u={modelName:{selector:"#udfc-search-model",reset:l.partial(d,"modelName","data-model"),stateModifiers:{modelName:q("data-model"),action:null}},type:{selector:"#udfc-search-type",reset:l.partial(d,"type","data-type"),stateModifiers:{type:q("data-type"),plotUdfFieldDefId:q("data-plot-udfd-id"),treeUdfFieldDefId:q("data-tree-udfd-id"),actionFieldKey:q("data-action-field-key"),dateFieldKey:q("data-date-field-key"),action:null}},action:{selector:"#udfc-search-action",reset:e,stateModifiers:{action:r}},dateMin:{selector:"#udfc-search-date-from",reset:l.partial(f,"dateMin"),stateModifiers:{dateMin:r}},dateMax:{selector:"#udfc-search-date-to",reset:l.partial(f,"dateMax"),stateModifiers:{dateMax:r}},extraClauses:{selector:"#udfc-extra-clauses",reset:g}},v=l.chain(u).pluck("stateModifiers").map(l.keys).flatten().uniq().map(function(a){return[a,null]}).object().value();b._makeNameAttribute=c,b._widgets=u,b.init=function(a){{var b=(a||k.never()).map(v),c=new k.Bus;n.init({externalStreams:[c,b],widgets:u,emptyState:v})}return{applyFilterObjectToDom:l.partial(h,c),_externalChangeBus:c}}},{baconjs:1,"bootstrap-datepicker":"qeak1/",jquery:"82HPDv",lodash:14,moment:15,"treemap/BaconModels":"l1Y9Fe","treemap/fieldHelpers":"LRi9Zk","treemap/utility":"GvDn+1",util:7}],leaflet:[function(require,a){a.exports=require("X317Tq")},{}],leafletbing:[function(require,a){a.exports=require("rIh4ea")},{}],"leaflet.draw":[function(require,a){a.exports=require("P8XPpL")},{}],"treemap/inlineEditForm":[function(require,a){a.exports=require("na0fp5")},{}],jquery:[function(require,a){a.exports=require("82HPDv")},{}],"treemap/utility":[function(require,a){a.exports=require("GvDn+1")},{}],"treemap/statePrompter":[function(require,a){a.exports=require("auVsb2")},{}],"bootstrap-slider":[function(require,a){a.exports=require("OD+bFs")},{}],googlemaps:[function(require,a){a.exports=require("W0foxt")},{}],html5shiv:[function(require,a){a.exports=require("036qWM")},{}],jscolor:[function(require,a){a.exports=require("1jmKrY")},{}],"/j9n3m":[function(require,a){"use strict";function b(){function a(a){l.Adapter.bind(window,"statechange",a)}function b(){return l.getState()}function c(a,b,c){l.pushState(a,b,c)}function d(a,b,c){l.replaceState(a,b,c)}return{onStateChange:a,getState:b,pushState:c,replaceState:d}}function c(){return{getLocationHref:function(){return window.location.href}}}function d(a,b,c){c=i.defaults({},c,{silent:!1,replaceState:!1});var d=n&&n[a];if(!i.isEqual(d,b)){var e=i.extend({},n);e[a]=b,c.silent&&(n=e),c.replaceState?p.replaceState(e,document.title,g(e)):p.pushState(e,document.title,g(e))}}function e(){var a={},b=k.parse(q.getLocationHref(),!0).query,c=i.union(i.keys(s),i.keys(b));return i.each(c,function(c){var d=s[c];d?d(a,b):a[c]=b[c]}),a}function f(a,b,c){return{zoom:a,lat:b,lng:c}}function g(a){var b=k.parse(q.getLocationHref()),c={};i.each(a,function(b,d){var e=r[d];e?e(a,c):c[d]=b}),b.query=c,b.search=null;var d=k.format(b).replace(/%2F/g,"/");return d}function h(a){var b=i.omit(a,function(a,b){return n&&i.isEqual(n[b],a)});n=a,i.isEmpty(b)||o.push(b)}var i=require("lodash"),j=require("baconjs"),k=require("url"),l=(require("leaflet"),require("history")),m=[require("treemap/addTreeMode").name,require("treemap/addResourceMode").name,"prioritization","scenarios"],n=null,o=new j.Bus,p=null,q=null,r={zoomLatLng:function(a,b){if(a.zoomLatLng){var c=a.zoomLatLng.zoom,d=Math.max(0,Math.ceil(Math.log(c)/Math.LN2)),e=a.zoomLatLng.lat.toFixed(d),f=a.zoomLatLng.lng.toFixed(d);b.z=[c,e,f].join("/")}},search:function(a,b){a.search&&a.search.filter&&!i.isEmpty(a.search.filter)&&(b.q=JSON.stringify(a.search.filter)),a.search&&a.search.display&&(b.show=JSON.stringify(a.search.display))},modeName:function(a,b){a.modeName&&(b.m=a.modeName)}},s={z:function(a,b){var c=b.z;if(a.zoomLatLng=null,c){var d=c.split("/"),e=parseInt(d[0],10),g=parseFloat(d[1]),h=parseFloat(d[2]);isNaN(e)||isNaN(g)||isNaN(h)||(a.zoomLatLng=f(e,g,h))}},q:function(a,b){a.search=a.search||{},a.search.filter=JSON.parse(b.q||"{}")},show:function(a,b){a.search=a.search||{},a.search.display=b.show?JSON.parse(b.show):void 0},m:function(a,b){a.modeName=b.m||""}};a.exports={init:function(a){a=i.defaults({},a,{historyApi:new b,windowApi:new c}),n=null,p=a.historyApi,q=a.windowApi,h(e()),p.onStateChange(function(){h(p.getState().data||e())})},setZoomLatLng:function(a,b){var c=f(a,b.lat,b.lng);d("zoomLatLng",c,{silent:!0,replaceState:!0})},setSearch:function(a){d("search",a,{silent:!0,replaceState:!1})},setModeName:function(a){a=i.contains(m,a)?a:"",d("modeName",a,{silent:!0,replaceState:!0})},getSearch:function(){return n.search},get:function(a){return n[a]},set:d,stateChangeStream:o.map(i.identity)}},{baconjs:1,history:"cIV21g",leaflet:"X317Tq",lodash:14,"treemap/addResourceMode":"oAX9x2","treemap/addTreeMode":"BWtOM5",url:6}],NrWpbL:[function(require,a,b){"use strict";var c=require("treemap/inlineEditForm"),d=require("treemap/recentEdits"),e=require("treemap/imageUploadPanel"),f=require("treemap/csrf"),g=require("jquery");b.init=function(a){g.ajaxSetup(f.jqueryAjaxSetupOptions),c.init(a.inlineEditForm),d.init(a.recentEdits),a.imageUploadPanel&&e.init(a.imageUploadPanel)}},{jquery:"82HPDv","treemap/csrf":"jYFnat","treemap/imageUploadPanel":"ik6dej","treemap/inlineEditForm":"na0fp5","treemap/recentEdits":"2W/6BD"}],"GvDn+1":[function(require,a,b){"use strict";var c=require("url"),d=require("querystring"),e=require("jquery"),f=require("leaflet"),g=require("lodash"),h=require("console-browserify");b.getUpdatedQueryString=function(a,b){var e=c.parse(window.location.href,!0),f=e.query||{};return f[a]=b,d.stringify(f)},b.getLastUrlSegment=function(a){var b=i(a);return b[b.length-1]};var i=b.getUrlSegments=function(a){var b=c.parse(a||window.location.href,!1).pathname;return j(b,"/")&&(b=b.substring(0,b.length-1)),b.split("/")};b.removeLastUrlSegment=function(a){var b=c.parse(a||window.location.href,!1),d=i(a);return d.pop(),b.pathname=d.join("/"),"/"!=b.pathname[b.pathname.length-1]&&(b.pathname+="/"),c.format(b)},b.appendSegmentToUrl=function(a,b,d){var e=c.parse(b||window.location.href,!1),f=i(b);f.push(a),e.pathname=f.join("/");var g=c.format(e);return d&&(g+="/"),g};b.parseQueryString=function(){for(var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,d=function(a){return decodeURIComponent(a.replace(b," "))},e=window.location.search.substring(1),f={};a=c.exec(e);)f[d(a[1])]=d(a[2]);return f};b.$find=function(a,b){var c;return c=b?b.find(a):e(a),0===c.length&&h.warn("Selector not found: "+a),c},b.webMercatorToLatLng=function(a,b){var c=2*Math.PI*6378137/2/180,d=Math.PI/180,e=180/Math.PI,f=e*(2*Math.atan(Math.exp(d*b/c))-Math.PI/2);return{lat:f,lng:a/c}},b.webMercatorToLeafletLatLng=function(a,c){var d=b.webMercatorToLatLng(a,c),e=f.latLng(d.lat,d.lng);return e},b.lonLatToWebMercator=function(a,b){var c=2*Math.PI*3189068.5/180;return{x:c*a,y:c*Math.log(Math.tan((90+b)*(Math.PI/360)))/(Math.PI/180)}},b.offsetLatLngByMeters=function(a,b,c){var d=a.lat,e=a.lng,f=d*Math.PI/180,g=111132.954-559.822*Math.cos(2*f)+1.175*Math.cos(4*f),h=Math.PI/180*6367449*Math.cos(f),i=d+c/g,j=e+b/h;return{lat:i,lng:j}};var j=b.endsWith=function(a,b){return""===b?!0:null===a||null===b?!1:a.length>=b.length&&a.slice(a.length-b.length)===b};b.juxt=function(a){return function(b){return g.map(a,function(a){return a(b)})}},b.warnDeprecatedErrorMessage=function(a){h.log('returning "error" as a key from an endpoint is deprecated. Please use "globalErrors" or "fieldErrors"'),h.log(a)}},{"console-browserify":2,jquery:"82HPDv",leaflet:"X317Tq",lodash:14,querystring:5,url:6}],response:[function(require,a){a.exports=require("G+2w3U")},{}],bloodhound:[function(require,a){a.exports=require("NbqfyZ")},{}]},{},[]);